<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.23" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme='dark'] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background-color: var(--vp-c-bg);
      }
    </style>
    <script>
      const useChoice = localStorage.getItem('vuepress-color-scheme')
      const systemStatus =
        'matchMedia' in window
          ? window.matchMedia('(prefers-color-scheme: dark)').matches
          : false

      if (useChoice === 'light') {
        document.documentElement.dataset.theme = 'light'
      } else if (useChoice === 'dark' || systemStatus) {
        document.documentElement.dataset.theme = 'dark'
      }
    </script>
    <link rel="icon" href="/study-notes/favicon.ico"><title>瓢儿白施肥记</title><meta name="description" content="记录一些学习内容">
    <link rel="preload" href="/study-notes/assets/style-BRJf4XC4.css" as="style"><link rel="stylesheet" href="/study-notes/assets/style-BRJf4XC4.css">
    <link rel="modulepreload" href="/study-notes/assets/app-D9fezM6y.js"><link rel="modulepreload" href="/study-notes/assets/index.html-BwhrVZQ1.js">
    <link rel="prefetch" href="/study-notes/assets/index.html-CgflfRB-.js" as="script"><link rel="prefetch" href="/study-notes/assets/index.html-B34h2Jk0.js" as="script"><link rel="prefetch" href="/study-notes/assets/index.html-BW535v_e.js" as="script"><link rel="prefetch" href="/study-notes/assets/index.html-DIHIQiSf.js" as="script"><link rel="prefetch" href="/study-notes/assets/index.html-DZrbXYrC.js" as="script"><link rel="prefetch" href="/study-notes/assets/01.html-BO8Xsva7.js" as="script"><link rel="prefetch" href="/study-notes/assets/index.html-CA0yKzuK.js" as="script"><link rel="prefetch" href="/study-notes/assets/continuous.html-5GavGPKu.js" as="script"><link rel="prefetch" href="/study-notes/assets/index.html-CGg8PqqT.js" as="script"><link rel="prefetch" href="/study-notes/assets/matrix.html-C16KO3iA.js" as="script"><link rel="prefetch" href="/study-notes/assets/01.html-Bh2SeMAK.js" as="script"><link rel="prefetch" href="/study-notes/assets/index.html-cZg359Qk.js" as="script"><link rel="prefetch" href="/study-notes/assets/index.html-DhRP-Ntg.js" as="script"><link rel="prefetch" href="/study-notes/assets/ali-iconfont.html-i0CTIv7W.js" as="script"><link rel="prefetch" href="/study-notes/assets/git.html-dcHlXWOR.js" as="script"><link rel="prefetch" href="/study-notes/assets/index.html-BzJzfHoY.js" as="script"><link rel="prefetch" href="/study-notes/assets/json-server.html-B5fTSOrf.js" as="script"><link rel="prefetch" href="/study-notes/assets/index.html-Dw2Gd7a9.js" as="script"><link rel="prefetch" href="/study-notes/assets/index.html-BplpYS6e.js" as="script"><link rel="prefetch" href="/study-notes/assets/index.html-Bl-LRITq.js" as="script"><link rel="prefetch" href="/study-notes/assets/index.html-GHCF7Flf.js" as="script"><link rel="prefetch" href="/study-notes/assets/index.html-BDNACifz.js" as="script"><link rel="prefetch" href="/study-notes/assets/index.html-DpTa0yfy.js" as="script"><link rel="prefetch" href="/study-notes/assets/index.html-BtM3uTMl.js" as="script"><link rel="prefetch" href="/study-notes/assets/index.html-qTUlGD2e.js" as="script"><link rel="prefetch" href="/study-notes/assets/index.html-C-iDq3MW.js" as="script"><link rel="prefetch" href="/study-notes/assets/index.html-DtSplwMN.js" as="script"><link rel="prefetch" href="/study-notes/assets/404.html-C3r3GZUB.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="vp-theme-container external-link-icon" vp-container><!--[--><header class="vp-navbar" vp-navbar><div class="vp-toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a class="route-link" href="/study-notes/"><img class="vp-site-logo" src="/study-notes/imgs/logo.png" alt="瓢儿白施肥记"><span class="vp-site-name vp-hide-mobile" aria-hidden="true">瓢儿白施肥记</span></a></span><div class="vp-navbar-items-wrapper" style=""><!--[--><!--]--><nav class="vp-navbar-items vp-hide-mobile" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="数学"><span class="title">数学</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="数学"><span class="title">数学</span><span class="right arrow"></span></button><ul class="vp-navbar-dropdown" style="display:none;"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/study-notes/math/wzw/" aria-label="最优化：建模、算法与理论"><!--[--><!--[--><!--]--><!--]-->最优化：建模、算法与理论<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/study-notes/math/eg/" aria-label="英语表达"><!--[--><!--[--><!--]--><!--]-->英语表达<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/study-notes/math/algorithm/" aria-label="算法"><!--[--><!--[--><!--]--><!--]-->算法<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="通用"><span class="title">通用</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="通用"><span class="title">通用</span><span class="right arrow"></span></button><ul class="vp-navbar-dropdown" style="display:none;"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/study-notes/general/tool/" aria-label="工具"><!--[--><!--[--><!--]--><!--]-->工具<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/study-notes/general/ui/" aria-label="UI"><!--[--><!--[--><!--]--><!--]-->UI<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link route-link-active auto-link" href="/study-notes/general/frontend/" aria-label="前端"><!--[--><!--[--><!--]--><!--]-->前端<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/study-notes/general/backend/" aria-label="后端"><!--[--><!--[--><!--]--><!--]-->后端<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://github.com/carla-cn" aria-label="GitHub" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><!--]--><!--]-->GitHub<!--[--><!--[--><!--]--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button type="button" class="vp-toggle-color-mode-button" title><svg class="light-icon" viewbox="0 0 32 32" style=""><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg class="dark-icon" viewbox="0 0 32 32" style="display:none;"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="vp-sidebar-mask"></div><!--[--><aside class="vp-sidebar" vp-sidebar><nav class="vp-navbar-items" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="数学"><span class="title">数学</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="数学"><span class="title">数学</span><span class="right arrow"></span></button><ul class="vp-navbar-dropdown" style="display:none;"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/study-notes/math/wzw/" aria-label="最优化：建模、算法与理论"><!--[--><!--[--><!--]--><!--]-->最优化：建模、算法与理论<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/study-notes/math/eg/" aria-label="英语表达"><!--[--><!--[--><!--]--><!--]-->英语表达<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/study-notes/math/algorithm/" aria-label="算法"><!--[--><!--[--><!--]--><!--]-->算法<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="通用"><span class="title">通用</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="通用"><span class="title">通用</span><span class="right arrow"></span></button><ul class="vp-navbar-dropdown" style="display:none;"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/study-notes/general/tool/" aria-label="工具"><!--[--><!--[--><!--]--><!--]-->工具<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/study-notes/general/ui/" aria-label="UI"><!--[--><!--[--><!--]--><!--]-->UI<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link route-link-active auto-link" href="/study-notes/general/frontend/" aria-label="前端"><!--[--><!--[--><!--]--><!--]-->前端<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/study-notes/general/backend/" aria-label="后端"><!--[--><!--[--><!--]--><!--]-->后端<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://github.com/carla-cn" aria-label="GitHub" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><!--]--><!--]-->GitHub<!--[--><!--[--><!--]--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="vp-sidebar-items"><!--[--><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading"> <!----></p><!----></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="vp-page"><!--[--><!--]--><div vp-content><!--[--><!--]--><div id="content"><h2 id="使用-umi-搭建一体机项目" tabindex="-1"><a class="header-anchor" href="#使用-umi-搭建一体机项目"><span>使用 umi 搭建一体机项目</span></a></h2><p>设计稿 1080 x 1920，不确定实际屏幕的宽高比</p><h3 id="ui-组件库" tabindex="-1"><a class="header-anchor" href="#ui-组件库"><span>UI 组件库</span></a></h3><p>考虑到一体机触摸体验，选用 Ant Design Mobile 高清适配，项目从 antd-mobile/2x 导入组件</p><ol><li>为了导入方便，做以下配置：</li></ol><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code class="language-typescript"><span class="line"><span class="token comment">// config.ts 中，配置一个从 antd-mobile 到 antd-mobile/2x 的别名</span></span>
<span class="line">alias<span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token string-property property">&quot;antd-mobile&quot;</span><span class="token operator">:</span> <span class="token keyword">require</span><span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&quot;antd-mobile/2x&quot;</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><ol start="2"><li>设置主题色</li></ol><div class="language-scss line-numbers-mode" data-highlighter="prismjs" data-ext="scss"><pre><code class="language-scss"><span class="line"><span class="token comment">// 正好 umi 中 a 标签的 color: var(--adm-color-primary)</span></span>
<span class="line"><span class="token selector">:root:root </span><span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">--adm-color-primary</span><span class="token punctuation">:</span> <span class="token variable">#{$primary-color}</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code class="language-typescript"><span class="line"><span class="token keyword">export</span> <span class="token keyword">const</span> primaryColor <span class="token operator">=</span> <span class="token string">&quot;#44bb55&quot;</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><h3 id="目录结构" tabindex="-1"><a class="header-anchor" href="#目录结构"><span>目录结构</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line">📁owners-meeting</span>
<span class="line">├─ 📁config</span>
<span class="line">│  ├─ 📄config.ts <span class="token comment"># umi 配置文件</span></span>
<span class="line">│  └─ 📄routes.ts <span class="token comment"># 从配置文件中提取出来的路由配置</span></span>
<span class="line">├─ 📁public <span class="token comment"># 可能扔进服务器的静态资源</span></span>
<span class="line">└─ 📁src</span>
<span class="line">   ├─ 📁constants</span>
<span class="line">   │  └─ 📄color.ts <span class="token comment"># 如主题色等常量</span></span>
<span class="line">   ├─ 📁pages <span class="token comment"># 如果是一个单独的页面组件则采用大驼峰命名文件夹，否则采用小驼峰命名文件夹</span></span>
<span class="line">   ├─ 📁styles <span class="token comment"># 里面所有的mixin、变量、函数都是全局的（index.scss 是被 sass-resources-loader 处理过的）</span></span>
<span class="line">   ├─ 📁utils</span>
<span class="line">   │  ├─ 📄format.ts <span class="token comment"># 用于格式化的一些函数</span></span>
<span class="line">   │  └─ 📄px2.ts <span class="token comment"># 用于将 px 转换为 vw/vh 的函数</span></span>
<span class="line">   ├─ 📁layouts</span>
<span class="line">   └─ 📄global.scss <span class="token comment"># 全局样式文件</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><h3 id="sass-resources-loader" tabindex="-1"><a class="header-anchor" href="#sass-resources-loader"><span>sass-resources-loader</span></a></h3><p>该 loader 处理过的 mixin、变量、函数等可以在任意 .scss 文件中不经导入使用</p><p>config.ts 中配置：</p><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code class="language-typescript"><span class="line"><span class="token function">chainWebpack</span><span class="token punctuation">(</span>config<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  config<span class="token punctuation">.</span>module</span>
<span class="line">    <span class="token punctuation">.</span><span class="token function">rule</span><span class="token punctuation">(</span><span class="token string">&quot;scss&quot;</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.scss$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token string">&quot;sass-loader&quot;</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">.</span><span class="token function">loader</span><span class="token punctuation">(</span><span class="token string">&quot;sass-loader&quot;</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token string">&quot;sass-resources-loader&quot;</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">.</span><span class="token function">loader</span><span class="token punctuation">(</span><span class="token string">&quot;sass-resources-loader&quot;</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">.</span><span class="token function">options</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">      resources<span class="token operator">:</span> <span class="token punctuation">[</span>path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&quot;../src/styles/index.scss&quot;</span><span class="token punctuation">)</span><span class="token punctuation">]</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><blockquote><p>注意：install sass-loader &amp; sass-resources-loader</p></blockquote><h3 id="尺寸适配" tabindex="-1"><a class="header-anchor" href="#尺寸适配"><span>尺寸适配</span></a></h3><p>基于 1080 x 1920 的设计稿，使用 <code>vw</code> 和 <code>vh</code> 单位进行适配。</p><div class="language-scss line-numbers-mode" data-highlighter="prismjs" data-ext="scss"><pre><code class="language-scss"><span class="line"><span class="token keyword">@use</span> <span class="token string">&quot;sass:math&quot;</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// 默认设计稿的宽度</span></span>
<span class="line"><span class="token property"><span class="token variable">$designWidth</span></span><span class="token punctuation">:</span> 1080<span class="token punctuation">;</span></span>
<span class="line"><span class="token comment">// 默认设计稿的高度</span></span>
<span class="line"><span class="token property"><span class="token variable">$designHeight</span></span><span class="token punctuation">:</span> 1920<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// px 转为 vw 的函数</span></span>
<span class="line"><span class="token keyword">@function</span> <span class="token function">vw</span><span class="token punctuation">(</span><span class="token variable">$px</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">@return</span> math.<span class="token function">div</span><span class="token punctuation">(</span><span class="token variable">$px</span><span class="token punctuation">,</span> <span class="token variable">$designWidth</span><span class="token punctuation">)</span> <span class="token operator">*</span> 100vw<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// px 转为 vh 的函数</span></span>
<span class="line"><span class="token keyword">@function</span> <span class="token function">vh</span><span class="token punctuation">(</span><span class="token variable">$px</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">@return</span> math.<span class="token function">div</span><span class="token punctuation">(</span><span class="token variable">$px</span><span class="token punctuation">,</span> <span class="token variable">$designHeight</span><span class="token punctuation">)</span> <span class="token operator">*</span> 100vh<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><div class="language-scss line-numbers-mode" data-highlighter="prismjs" data-ext="scss"><pre><code class="language-scss"><span class="line"><span class="token selector">.a </span><span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">width</span><span class="token punctuation">:</span> <span class="token function">vw</span><span class="token punctuation">(</span>100<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token property">height</span><span class="token punctuation">:</span> <span class="token function">vh</span><span class="token punctuation">(</span>100<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code class="language-typescript"><span class="line"><span class="token comment">// 定义设计稿的宽高</span></span>
<span class="line"><span class="token keyword">const</span> designWidth <span class="token operator">=</span> <span class="token number">1080</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">const</span> designHeight <span class="token operator">=</span> <span class="token number">1920</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">px2vw</span> <span class="token operator">=</span> <span class="token punctuation">(</span>_px<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">return</span> <span class="token punctuation">(</span>_px <span class="token operator">*</span> <span class="token number">100.0</span><span class="token punctuation">)</span> <span class="token operator">/</span> designWidth <span class="token operator">+</span> <span class="token string">&quot;vw&quot;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">px2vh</span> <span class="token operator">=</span> <span class="token punctuation">(</span>_px<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">return</span> <span class="token punctuation">(</span>_px <span class="token operator">*</span> <span class="token number">100.0</span><span class="token punctuation">)</span> <span class="token operator">/</span> designHeight <span class="token operator">+</span> <span class="token string">&quot;vh&quot;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code class="language-typescript"><span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> px2vw<span class="token punctuation">,</span> px2vh <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@/utils/px2.ts&quot;</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><div class="language-scss line-numbers-mode" data-highlighter="prismjs" data-ext="scss"><pre><code class="language-scss"><span class="line"><span class="token comment">/**</span>
<span class="line">* 设置字体在特定屏幕中整体缩放</span>
<span class="line">*/</span></span>
<span class="line"><span class="token selector">html </span><span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">font-size</span><span class="token punctuation">:</span> 100px <span class="token important">!important</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token atrule"><span class="token rule">@media</span> <span class="token punctuation">(</span><span class="token property">max-width</span><span class="token punctuation">:</span> 800px<span class="token punctuation">)</span></span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token selector">html </span><span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">font-size</span><span class="token punctuation">:</span> 80px <span class="token important">!important</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><ul><li>字体使用 rem 单位，方便整体缩放或者根据屏幕大小进行缩放 <ul><li><code>1rem = 100px</code>，即 20px 字体大小为 <code>0.2rem</code>。</li></ul></li></ul><h3 id="静态资源" tabindex="-1"><a class="header-anchor" href="#静态资源"><span>静态资源</span></a></h3><ul><li>图片：<code>/public/imgs/</code><ul><li>scss 文件中 <code>url(/imgs/xxx.png)</code>，ts 文件中部分使用 <code>import xxx from &quot;/public/imgs/xxx.png&quot;</code>（否则就尝试删掉 /public）</li></ul></li></ul><h3 id="手写的工具" tabindex="-1"><a class="header-anchor" href="#手写的工具"><span>手写的工具</span></a></h3><h4 id="页面跳转" tabindex="-1"><a class="header-anchor" href="#页面跳转"><span>页面跳转</span></a></h4><ul><li>项目中有一个可以获取路径的函数，getPath <ul><li>页面路径跟组件名称有对应关系，思路是 <code>getPath(所有页面组件 =&gt; 所有页面组件.跳转的页面组件名称, {参数1, 参数2, ...})</code> 即可拿到要跳转的路径</li></ul></li><li>umi 提供的跳转的 hook，<a href="https://umijs.org/docs/api/api#usenavigate" target="_blank" rel="noopener noreferrer">useNavigate</a></li></ul><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code class="language-typescript"><span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> getPath <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@/utils/get&quot;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> useNavigate <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;umi&quot;</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">const</span> navigate <span class="token operator">=</span> <span class="token function">useNavigate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">const</span> <span class="token function-variable function">handleClick</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token function">navigate</span><span class="token punctuation">(</span></span>
<span class="line">    <span class="token function">getPath</span><span class="token punctuation">(</span><span class="token punctuation">(</span>component<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> component<span class="token punctuation">.</span>Step1_2<span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">{</span> param<span class="token operator">:</span> <span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span> query1<span class="token operator">:</span> <span class="token string">&quot;b&quot;</span><span class="token punctuation">,</span> query2<span class="token operator">:</span> <span class="token string">&quot;c&quot;</span> <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// /xxx/step1-2/a?query1=b&amp;query2=c</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><h4 id="无用数据过滤" tabindex="-1"><a class="header-anchor" href="#无用数据过滤"><span>无用数据过滤</span></a></h4><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code class="language-typescript"><span class="line"><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">formatData</span> <span class="token operator">=</span> <span class="token punctuation">(</span></span>
<span class="line">  data<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">,</span></span>
<span class="line">  format<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">(</span>v<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">any</span><span class="token punctuation">,</span></span>
<span class="line">  options<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">{</span> sign<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">|</span> <span class="token builtin">string</span> <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">const</span> <span class="token punctuation">{</span> sign <span class="token punctuation">}</span> <span class="token operator">=</span> options <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">const</span> uselessData <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token keyword">undefined</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">const</span> isEmptyArr <span class="token operator">=</span> <span class="token builtin">Array</span><span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> data<span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">const</span> isEmptyObj <span class="token operator">=</span> <span class="token keyword">typeof</span> data <span class="token operator">===</span> <span class="token string">&quot;object&quot;</span> <span class="token operator">&amp;&amp;</span> Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">if</span> <span class="token punctuation">(</span>uselessData<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token operator">||</span> isEmptyArr <span class="token operator">||</span> isEmptyObj<span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">return</span> sign <span class="token operator">||</span> <span class="token string">&quot;-&quot;</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">return</span> <span class="token keyword">typeof</span> format <span class="token operator">===</span> <span class="token string">&quot;function&quot;</span> <span class="token operator">?</span> <span class="token function">format</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token operator">:</span> data<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div></div><!--[--><!--]--></div><footer class="vp-page-meta"><!----><div class="vp-meta-item git-info"><div class="vp-meta-item last-updated"><span class="meta-item-label">最近更新：: </span><time class="meta-item-info" datetime="2025-05-28T10:37:47.000Z" data-allow-mismatch>2025/5/28 10:37</time></div><!----></div></footer><!----><!--[--><!--]--></main><!--]--></div><!--[--><!----><!--]--><!--]--></div>
    <script type="module" src="/study-notes/assets/app-D9fezM6y.js" defer></script>
  </body>
</html>
