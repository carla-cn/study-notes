<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.23" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme='dark'] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background-color: var(--vp-c-bg);
      }
    </style>
    <script>
      const useChoice = localStorage.getItem('vuepress-color-scheme')
      const systemStatus =
        'matchMedia' in window
          ? window.matchMedia('(prefers-color-scheme: dark)').matches
          : false

      if (useChoice === 'light') {
        document.documentElement.dataset.theme = 'light'
      } else if (useChoice === 'dark' || systemStatus) {
        document.documentElement.dataset.theme = 'dark'
      }
    </script>
    <link rel="icon" href="/study-notes/favicon.ico"><title>ç“¢å„¿ç™½æ–½è‚¥è®°</title><meta name="description" content="è®°å½•ä¸€äº›å­¦ä¹ å†…å®¹">
    <link rel="preload" href="/study-notes/assets/style-BRJf4XC4.css" as="style"><link rel="stylesheet" href="/study-notes/assets/style-BRJf4XC4.css">
    <link rel="modulepreload" href="/study-notes/assets/app-D9fezM6y.js"><link rel="modulepreload" href="/study-notes/assets/index.html-qTUlGD2e.js">
    <link rel="prefetch" href="/study-notes/assets/index.html-CgflfRB-.js" as="script"><link rel="prefetch" href="/study-notes/assets/index.html-B34h2Jk0.js" as="script"><link rel="prefetch" href="/study-notes/assets/index.html-BW535v_e.js" as="script"><link rel="prefetch" href="/study-notes/assets/index.html-DIHIQiSf.js" as="script"><link rel="prefetch" href="/study-notes/assets/index.html-DZrbXYrC.js" as="script"><link rel="prefetch" href="/study-notes/assets/01.html-BO8Xsva7.js" as="script"><link rel="prefetch" href="/study-notes/assets/index.html-CA0yKzuK.js" as="script"><link rel="prefetch" href="/study-notes/assets/continuous.html-5GavGPKu.js" as="script"><link rel="prefetch" href="/study-notes/assets/index.html-CGg8PqqT.js" as="script"><link rel="prefetch" href="/study-notes/assets/matrix.html-C16KO3iA.js" as="script"><link rel="prefetch" href="/study-notes/assets/01.html-Bh2SeMAK.js" as="script"><link rel="prefetch" href="/study-notes/assets/index.html-cZg359Qk.js" as="script"><link rel="prefetch" href="/study-notes/assets/index.html-DhRP-Ntg.js" as="script"><link rel="prefetch" href="/study-notes/assets/ali-iconfont.html-i0CTIv7W.js" as="script"><link rel="prefetch" href="/study-notes/assets/git.html-dcHlXWOR.js" as="script"><link rel="prefetch" href="/study-notes/assets/index.html-BzJzfHoY.js" as="script"><link rel="prefetch" href="/study-notes/assets/json-server.html-B5fTSOrf.js" as="script"><link rel="prefetch" href="/study-notes/assets/index.html-BwhrVZQ1.js" as="script"><link rel="prefetch" href="/study-notes/assets/index.html-Dw2Gd7a9.js" as="script"><link rel="prefetch" href="/study-notes/assets/index.html-BplpYS6e.js" as="script"><link rel="prefetch" href="/study-notes/assets/index.html-Bl-LRITq.js" as="script"><link rel="prefetch" href="/study-notes/assets/index.html-GHCF7Flf.js" as="script"><link rel="prefetch" href="/study-notes/assets/index.html-BDNACifz.js" as="script"><link rel="prefetch" href="/study-notes/assets/index.html-DpTa0yfy.js" as="script"><link rel="prefetch" href="/study-notes/assets/index.html-BtM3uTMl.js" as="script"><link rel="prefetch" href="/study-notes/assets/index.html-C-iDq3MW.js" as="script"><link rel="prefetch" href="/study-notes/assets/index.html-DtSplwMN.js" as="script"><link rel="prefetch" href="/study-notes/assets/404.html-C3r3GZUB.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="vp-theme-container external-link-icon" vp-container><!--[--><header class="vp-navbar" vp-navbar><div class="vp-toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a class="route-link" href="/study-notes/"><img class="vp-site-logo" src="/study-notes/imgs/logo.png" alt="ç“¢å„¿ç™½æ–½è‚¥è®°"><span class="vp-site-name vp-hide-mobile" aria-hidden="true">ç“¢å„¿ç™½æ–½è‚¥è®°</span></a></span><div class="vp-navbar-items-wrapper" style=""><!--[--><!--]--><nav class="vp-navbar-items vp-hide-mobile" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="æ•°å­¦"><span class="title">æ•°å­¦</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="æ•°å­¦"><span class="title">æ•°å­¦</span><span class="right arrow"></span></button><ul class="vp-navbar-dropdown" style="display:none;"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/study-notes/math/wzw/" aria-label="æœ€ä¼˜åŒ–ï¼šå»ºæ¨¡ã€ç®—æ³•ä¸ç†è®º"><!--[--><!--[--><!--]--><!--]-->æœ€ä¼˜åŒ–ï¼šå»ºæ¨¡ã€ç®—æ³•ä¸ç†è®º<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/study-notes/math/eg/" aria-label="è‹±è¯­è¡¨è¾¾"><!--[--><!--[--><!--]--><!--]-->è‹±è¯­è¡¨è¾¾<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/study-notes/math/algorithm/" aria-label="ç®—æ³•"><!--[--><!--[--><!--]--><!--]-->ç®—æ³•<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="é€šç”¨"><span class="title">é€šç”¨</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="é€šç”¨"><span class="title">é€šç”¨</span><span class="right arrow"></span></button><ul class="vp-navbar-dropdown" style="display:none;"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/study-notes/general/tool/" aria-label="å·¥å…·"><!--[--><!--[--><!--]--><!--]-->å·¥å…·<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/study-notes/general/ui/" aria-label="UI"><!--[--><!--[--><!--]--><!--]-->UI<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/study-notes/general/frontend/" aria-label="å‰ç«¯"><!--[--><!--[--><!--]--><!--]-->å‰ç«¯<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link route-link-active auto-link" href="/study-notes/general/backend/" aria-label="åç«¯"><!--[--><!--[--><!--]--><!--]-->åç«¯<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://github.com/carla-cn" aria-label="GitHub" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><!--]--><!--]-->GitHub<!--[--><!--[--><!--]--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button type="button" class="vp-toggle-color-mode-button" title><svg class="light-icon" viewbox="0 0 32 32" style=""><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg class="dark-icon" viewbox="0 0 32 32" style="display:none;"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="vp-sidebar-mask"></div><!--[--><aside class="vp-sidebar" vp-sidebar><nav class="vp-navbar-items" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="æ•°å­¦"><span class="title">æ•°å­¦</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="æ•°å­¦"><span class="title">æ•°å­¦</span><span class="right arrow"></span></button><ul class="vp-navbar-dropdown" style="display:none;"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/study-notes/math/wzw/" aria-label="æœ€ä¼˜åŒ–ï¼šå»ºæ¨¡ã€ç®—æ³•ä¸ç†è®º"><!--[--><!--[--><!--]--><!--]-->æœ€ä¼˜åŒ–ï¼šå»ºæ¨¡ã€ç®—æ³•ä¸ç†è®º<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/study-notes/math/eg/" aria-label="è‹±è¯­è¡¨è¾¾"><!--[--><!--[--><!--]--><!--]-->è‹±è¯­è¡¨è¾¾<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/study-notes/math/algorithm/" aria-label="ç®—æ³•"><!--[--><!--[--><!--]--><!--]-->ç®—æ³•<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="é€šç”¨"><span class="title">é€šç”¨</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="é€šç”¨"><span class="title">é€šç”¨</span><span class="right arrow"></span></button><ul class="vp-navbar-dropdown" style="display:none;"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/study-notes/general/tool/" aria-label="å·¥å…·"><!--[--><!--[--><!--]--><!--]-->å·¥å…·<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/study-notes/general/ui/" aria-label="UI"><!--[--><!--[--><!--]--><!--]-->UI<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/study-notes/general/frontend/" aria-label="å‰ç«¯"><!--[--><!--[--><!--]--><!--]-->å‰ç«¯<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link route-link-active auto-link" href="/study-notes/general/backend/" aria-label="åç«¯"><!--[--><!--[--><!--]--><!--]-->åç«¯<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://github.com/carla-cn" aria-label="GitHub" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><!--]--><!--]-->GitHub<!--[--><!--[--><!--]--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="vp-sidebar-items"><!--[--><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading"> <!----></p><!----></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="vp-page"><!--[--><!--]--><div vp-content><!--[--><!--]--><div id="content"><h2 id="go" tabindex="-1"><a class="header-anchor" href="#go"><span>Go</span></a></h2><p>ç¼–è¯‘å‹è¯­è¨€</p><p>Go æ˜¯é™æ€ç±»å‹è¯­è¨€ï¼Œä¸€æ—¦æŸä¸ªå˜é‡è¢«å£°æ˜ï¼Œé‚£ä¹ˆå®ƒçš„ç±»å‹å°±æ— æ³•å†æ”¹å˜äº†</p><h3 id="æ­å»ºç¯å¢ƒ" tabindex="-1"><a class="header-anchor" href="#æ­å»ºç¯å¢ƒ"><span>æ­å»ºç¯å¢ƒ</span></a></h3><p>VSCodeï¼š</p><ol><li><p>æ’ä»¶ï¼šGo</p></li><li><p>ctrl + shift + pï¼š <code>Go install/update tools</code></p><p>Go ä»£ç†</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line">go <span class="token function">env</span> <span class="token parameter variable">-w</span> <span class="token assign-left variable">GO111MODULE</span><span class="token operator">=</span>on</span>
<span class="line">go <span class="token function">env</span> <span class="token parameter variable">-w</span> <span class="token assign-left variable">GOPROXY</span><span class="token operator">=</span>https://goproxy.cn,direct</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div></li></ol><p>GoLand:</p><ol><li>Keymapï¼š<code>Eclipse</code></li></ol><ul><li>alt + å·¦/å³æ–¹å‘é”® == åˆ‡æ¢æ–‡ä»¶</li><li>ctrl + d == åˆ é™¤å•è¡Œ</li></ul><h3 id="hello-world" tabindex="-1"><a class="header-anchor" href="#hello-world"><span>hello world</span></a></h3><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line"><span class="token keyword">package</span> main</span>
<span class="line"></span>
<span class="line"><span class="token keyword">import</span> <span class="token string">&quot;fmt&quot;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;Hello, World!&quot;</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><div class="hint-container warning"><p class="hint-container-title">æ³¨æ„</p><ol><li>åŒä¸€ä¸ªç›®å½•ä¸‹æœ€å¥½åªæœ‰ä¸€ä¸ª main å‡½æ•°</li><li>go build æ–‡ä»¶ =&gt; ç”Ÿæˆ .exe æ–‡ä»¶ï¼Œå¯ç›´æ¥åœ¨ç»ˆç«¯æ‰§è¡Œ</li><li>go run æ–‡ä»¶ =&gt; æ‰§è¡Œ</li></ol></div><h3 id="å˜é‡ã€å¸¸é‡åŠå…¶ä½œç”¨åŸŸ" tabindex="-1"><a class="header-anchor" href="#å˜é‡ã€å¸¸é‡åŠå…¶ä½œç”¨åŸŸ"><span>å˜é‡ã€å¸¸é‡åŠå…¶ä½œç”¨åŸŸ</span></a></h3><p>ä½œç”¨åŸŸçš„èŒƒå›´å°±æ˜¯ {} ä¹‹é—´çš„éƒ¨åˆ†</p><div class="hint-container warning"><p class="hint-container-title">æ³¨æ„</p><ol><li>å˜é‡å¿…é¡»å…ˆå®šä¹‰æ‰èƒ½ä½¿ç”¨ï¼Œä¸”ä¸ä½¿ç”¨ä¼šç¼–è¯‘æŠ¥é”™ï¼Œä½†åŒ¿åå˜é‡ <code>_</code> é™¤å¤–ï¼›å¸¸é‡æ²¡æœ‰å¿…é¡»ä½¿ç”¨çš„è¦æ±‚</li><li>go æ˜¯é™æ€è¯­è¨€ï¼Œè¦æ±‚å˜é‡/å¸¸é‡çš„ç±»å‹å’Œèµ‹å€¼ç±»å‹ä¸€è‡´</li><li>å‘½åä¸èƒ½å†²çªï¼Œå¸¸é‡å»ºè®®ä½¿ç”¨å…¨å¤§å†™</li><li>main å‡½æ•°å¤–å£°æ˜çš„å˜é‡æ‹¥æœ‰ package ä½œç”¨åŸŸï¼ŒçŸ­å£°æ˜ä¸èƒ½ç”¨æ¥å£°æ˜ package ä½œç”¨åŸŸçš„å˜é‡</li><li>å˜é‡æœ‰é›¶å€¼ï¼Œå¸¸é‡åœ¨å£°æ˜æ—¶èµ‹å€¼</li><li>å¸¸é‡ç±»å‹åªå¯ä»¥å®šä¹‰ boolã€æ•°å€¼ï¼ˆæ•´æ•°ã€æµ®ç‚¹æ•°å’Œå¤æ•°ï¼‰ã€å­—ç¬¦ä¸²</li></ol></div><details class="hint-container details"><summary>å®šä¹‰å¸¸é‡</summary><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line"></span>
<span class="line">	<span class="token keyword">const</span> ct <span class="token builtin">float32</span> <span class="token operator">=</span> <span class="token number">1</span></span>
<span class="line"></span>
<span class="line">	<span class="token keyword">const</span> <span class="token punctuation">(</span></span>
<span class="line">		a <span class="token operator">=</span> <span class="token number">1</span></span>
<span class="line">		b</span>
<span class="line">		c <span class="token operator">=</span> <span class="token string">&quot;abc&quot;</span></span>
<span class="line">		d</span>
<span class="line">	<span class="token punctuation">)</span></span>
<span class="line">	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">,</span> d<span class="token punctuation">)</span> <span class="token comment">// 1 1 abc abc</span></span>
<span class="line"></span>
<span class="line">	<span class="token comment">/*</span>
<span class="line">	* ç‰¹æ®Šå¸¸é‡ iota</span>
<span class="line">	* - iota è‡ªå¢ç±»å‹é»˜è®¤æ˜¯ intï¼Œåˆå§‹å€¼ä¸º 0ï¼Œä¸”åœ¨ const å®šä¹‰ä¸­è®¡æ•°å™¨ä¼šåœ¨æ¯å®šä¹‰ä¸€ä¸ªå˜é‡æ—¶è®¡æ•°ä¸€æ¬¡</span>
<span class="line">	* - æ¯æ¬¡å‡ºç° const æ—¶ï¼Œiota åˆå§‹åŒ–ä¸º 0</span>
<span class="line">	*/</span></span>
<span class="line"></span>
<span class="line">	<span class="token keyword">const</span> <span class="token punctuation">(</span></span>
<span class="line">		ERR1 <span class="token operator">=</span> <span class="token string">&quot;abc&quot;</span></span>
<span class="line">		ERR15</span>
<span class="line">		ERR2 <span class="token operator">=</span> <span class="token boolean">iota</span></span>
<span class="line">		ERR3</span>
<span class="line">	<span class="token punctuation">)</span></span>
<span class="line">	<span class="token keyword">const</span> ERR <span class="token operator">=</span> <span class="token boolean">iota</span></span>
<span class="line"></span>
<span class="line">	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>ERR<span class="token punctuation">,</span> ERR1<span class="token punctuation">,</span> ERR2<span class="token punctuation">,</span> ERR3<span class="token punctuation">)</span> <span class="token comment">// 0 abc 2 3</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div></details><details class="hint-container details"><summary>å®šä¹‰å˜é‡</summary><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line"><span class="token keyword">package</span> main</span>
<span class="line"></span>
<span class="line"><span class="token keyword">import</span> <span class="token string">&quot;fmt&quot;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// å…¨å±€å˜é‡</span></span>
<span class="line"><span class="token keyword">var</span> globalAge <span class="token builtin">int</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">	<span class="token keyword">var</span> initial <span class="token builtin">int</span></span>
<span class="line">	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>initial<span class="token punctuation">)</span></span>
<span class="line">	age <span class="token operator">:=</span> <span class="token number">18</span></span>
<span class="line">	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span></span>
<span class="line">	<span class="token keyword">var</span> <span class="token punctuation">(</span></span>
<span class="line">		user1 <span class="token operator">=</span> <span class="token string">&quot;abc1&quot;</span></span>
<span class="line">		user2 <span class="token operator">=</span> <span class="token string">&quot;abc2&quot;</span></span>
<span class="line">		user3 <span class="token operator">=</span> <span class="token number">007</span></span>
<span class="line">	<span class="token punctuation">)</span></span>
<span class="line">	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>user1<span class="token punctuation">,</span> user2<span class="token punctuation">,</span> user3<span class="token punctuation">)</span></span>
<span class="line">	<span class="token keyword">var</span> num<span class="token punctuation">,</span> str<span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">&quot;abcstr&quot;</span><span class="token punctuation">,</span> <span class="token boolean">true</span></span>
<span class="line">	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>num<span class="token punctuation">,</span> str<span class="token punctuation">,</span> b<span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div></details><details class="hint-container details"><summary>çŸ­å£°æ˜</summary><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line"><span class="token comment">// ä½¿ç”¨ var å£°æ˜å˜é‡</span></span>
<span class="line"><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">1</span></span>
<span class="line"><span class="token comment">// ä¹Ÿå¯ä»¥ä½¿ç”¨çŸ­å£°æ˜ï¼Œæ•ˆæœåŒä¸Šï¼Œä½†å¯ä»¥åœ¨æ— æ³•ä½¿ç”¨ var çš„åœ°æ–¹ä½¿ç”¨</span></span>
<span class="line">a <span class="token operator">:=</span> <span class="token number">1</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{</span></span>
<span class="line">   <span class="token comment">// i åœ¨ for å¾ªç¯ä¸­å£°æ˜ï¼Œä½œç”¨åŸŸåªåœ¨ for å¾ªç¯ä¸­</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">if</span> a <span class="token operator">:=</span> <span class="token number">1</span><span class="token punctuation">;</span> a <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token punctuation">{</span></span>
<span class="line">   <span class="token comment">// a åœ¨ if è¯­å¥ä¸­å£°æ˜ï¼Œä½œç”¨åŸŸåªåœ¨ if è¯­å¥ä¸­</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">switch</span> a <span class="token operator">:=</span> <span class="token number">1</span><span class="token punctuation">;</span> a <span class="token punctuation">{</span></span>
<span class="line"><span class="token keyword">case</span> <span class="token number">1</span><span class="token punctuation">:</span></span>
<span class="line">   <span class="token comment">// a åœ¨ switch è¯­å¥ä¸­å£°æ˜ï¼Œä½œç”¨åŸŸåªåœ¨ switch è¯­å¥ä¸­</span></span>
<span class="line"><span class="token keyword">default</span><span class="token punctuation">:</span></span>
<span class="line">   <span class="token comment">//...</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div></details><h3 id="æ•°æ®ç±»å‹" tabindex="-1"><a class="header-anchor" href="#æ•°æ®ç±»å‹"><span>æ•°æ®ç±»å‹</span></a></h3><h4 id="bool" tabindex="-1"><a class="header-anchor" href="#bool"><span>bool</span></a></h4><p>é›¶å€¼æ˜¯ false</p><p>Print å®¶æ—å‡½æ•°ï¼Œä¼šæŠŠ bool ç±»å‹çš„å€¼æ‰“å°æˆ true/false æ–‡æœ¬</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line">launch <span class="token operator">:=</span> <span class="token boolean">false</span></span>
<span class="line">fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;Type %T from %[1]v\n&quot;</span><span class="token punctuation">,</span> launch<span class="token punctuation">)</span></span>
<span class="line">launchText <span class="token operator">:=</span> fmt<span class="token punctuation">.</span><span class="token function">Sprintf</span><span class="token punctuation">(</span><span class="token string">&quot;%v&quot;</span><span class="token punctuation">,</span> launch<span class="token punctuation">)</span></span>
<span class="line">fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;Ready for launch:&quot;</span><span class="token punctuation">,</span> launchText<span class="token punctuation">)</span> <span class="token comment">// Ready for launch: false</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">var</span> yesNo <span class="token builtin">string</span></span>
<span class="line"><span class="token keyword">if</span> launch <span class="token punctuation">{</span></span>
<span class="line">   yesNo <span class="token operator">=</span> <span class="token string">&quot;yes&quot;</span></span>
<span class="line"><span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span></span>
<span class="line">   yesNo <span class="token operator">=</span> <span class="token string">&quot;no&quot;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line">fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;Ready for launch:&quot;</span><span class="token punctuation">,</span> yesNo<span class="token punctuation">)</span> <span class="token comment">// Ready for launch: no</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><p>å¸ƒå°”æ•°æ®ç±»å‹ä»…è¡¨ç¤º true æˆ– falseã€‚å¸ƒå°”ç±»å‹çš„å€¼ä¸ä¼šéšå¼æˆ–æ˜¾å¼è½¬æ¢ä¸ºä»»ä½•å…¶ä»–ç±»å‹</p><p>å¦‚æœæƒ³ä½¿ç”¨ string(false)ï¼Œint(false)ï¼›bool(1), bool(&quot;yes&quot;) ç­‰ç±»ä¼¼çš„æ–¹æ³•è¿›è¡Œè½¬æ¢ï¼Œé‚£ä¹ˆ Go ç¼–è¯‘å™¨ä¼šæŠ¥é”™</p><h4 id="å­—ç¬¦å’Œ-string" tabindex="-1"><a class="header-anchor" href="#å­—ç¬¦å’Œ-string"><span>å­—ç¬¦å’Œ string</span></a></h4><p>å­—ç¬¦ä¸²çš„é›¶å€¼ &quot;&quot;</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line"><span class="token keyword">var</span> empty <span class="token builtin">string</span></span>
<span class="line">fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>empty <span class="token operator">==</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span> <span class="token comment">// true</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><p>å£°æ˜</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line">peace <span class="token operator">:=</span> <span class="token string">&quot;peace&quot;</span></span>
<span class="line"><span class="token keyword">var</span> peace <span class="token operator">=</span> <span class="token string">&quot;peace&quot;</span></span>
<span class="line"><span class="token keyword">var</span> peace <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">&quot;peace&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><h5 id="å­—ç¬¦ä¸²å­—é¢å€¼-åŸå§‹å­—ç¬¦ä¸²å­—é¢å€¼" tabindex="-1"><a class="header-anchor" href="#å­—ç¬¦ä¸²å­—é¢å€¼-åŸå§‹å­—ç¬¦ä¸²å­—é¢å€¼"><span>å­—ç¬¦ä¸²å­—é¢å€¼/åŸå§‹å­—ç¬¦ä¸²å­—é¢å€¼</span></a></h5><p>å­—ç¬¦ä¸²å­—é¢å€¼ï¼ˆstring literalï¼‰å¯ä»¥åŒ…å«è½¬ä¹‰å­—ç¬¦ï¼Œä¾‹å¦‚ \n</p><p>ä½†å¦‚æœæƒ³å¾—åˆ° \n è€Œä¸æ˜¯æ¢è¡Œçš„è¯ï¼Œå¯ä»¥ä½¿ç”¨ ` æ¥ä»£æ›¿ &quot;ï¼Œè¿™å«åšåŸå§‹å­—ç¬¦ä¸²å­—é¢å€¼ï¼ˆraw string literalï¼‰</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line">fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;peace be upon you\nupon you be peace&quot;</span><span class="token punctuation">)</span></span>
<span class="line">fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">`strings can span multiple lines with the \n escape sequence`</span><span class="token punctuation">)</span></span>
<span class="line">fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">`</span>
<span class="line">peace be upon you</span>
<span class="line">upon you be peace</span>
<span class="line">`</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><h5 id="å­—ç¬¦-code-points-runes-bytes" tabindex="-1"><a class="header-anchor" href="#å­—ç¬¦-code-points-runes-bytes"><span>å­—ç¬¦ï¼Œcode pointsï¼Œrunesï¼Œbytes</span></a></h5><p>Unicode è”ç›Ÿä¸ºè¶…è¿‡ 100 ä¸‡ä¸ªå­—ç¬¦åˆ†é…äº†ç›¸åº”çš„æ•°å€¼ï¼Œè¿™ä¸ªæ•°å«åš code point</p><ul><li>ä¾‹å¦‚ï¼š65 ä»£è¡¨ Aï¼Œ128515 ä»£è¡¨ ğŸ˜ƒ</li></ul><p>ä¸ºäº†è¡¨ç¤ºè¿™æ ·çš„ unicode code pointï¼ŒGo æä¾›äº† rune ç±»å‹ï¼Œå®ƒæ˜¯ int32 çš„åˆ«å</p><p>byte æ˜¯ unit 8 ç±»å‹çš„åˆ«åï¼Œç›®çš„æ˜¯ç”¨äºäºŒè¿›åˆ¶æ•°æ®</p><ul><li>byte å€’æ˜¯å¯ä»¥è¡¨ç¤ºç”± ASCII å®šä¹‰çš„è‹±è¯­å­—ç¬¦ï¼Œå®ƒæ˜¯ Unicode çš„ä¸€ä¸ªå­é›†ï¼ˆå…± 128 ä¸ªå­—ç¬¦ï¼‰</li></ul><h5 id="ç±»å‹åˆ«å" tabindex="-1"><a class="header-anchor" href="#ç±»å‹åˆ«å"><span>ç±»å‹åˆ«å</span></a></h5><p>ç±»å‹åˆ«åå°±æ˜¯åŒä¸€ä¸ªç±»å‹çš„å¦ä¸€ä¸ªåå­—</p><ul><li>æ‰€ä»¥ï¼Œrune å’Œ int32 å¯ä»¥äº’æ¢ä½¿ç”¨</li></ul><p>ä¹Ÿå¯ä»¥è‡ªå®šä¹‰ç±»å‹åˆ«åï¼Œè¯­æ³•å¦‚ä¸‹</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line"><span class="token keyword">type</span> <span class="token builtin">byte</span> <span class="token operator">=</span> <span class="token builtin">uint8</span></span>
<span class="line"><span class="token keyword">type</span> <span class="token builtin">rune</span> <span class="token operator">=</span> <span class="token builtin">int32</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><h5 id="æ‰“å°" tabindex="-1"><a class="header-anchor" href="#æ‰“å°"><span>æ‰“å°</span></a></h5><p>å¦‚æœæƒ³æ‰“å°å­—ç¬¦è€Œä¸æ˜¯æ•°å€¼ï¼Œä½¿ç”¨ c% æ ¼å¼åŒ–åŠ¨è¯</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line">fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;%c&quot;</span><span class="token punctuation">,</span> <span class="token number">128515</span><span class="token punctuation">)</span> <span class="token comment">// ğŸ˜ƒ</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><p>ä»»ä½•æ•´æ•°ç±»å‹éƒ½å¯ä»¥ä½¿ç”¨ %c æ‰“å°ï¼Œä½†æ˜¯ rune æ„å‘³ç€è¯¥æ•°å€¼è¡¨ç¤ºäº†ä¸€ä¸ªå­—ç¬¦</p><h5 id="å­—ç¬¦ä¸²æ‹¼æ¥" tabindex="-1"><a class="header-anchor" href="#å­—ç¬¦ä¸²æ‹¼æ¥"><span>å­—ç¬¦ä¸²æ‹¼æ¥</span></a></h5><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line"><span class="token keyword">package</span> main</span>
<span class="line"></span>
<span class="line"><span class="token keyword">import</span> <span class="token punctuation">(</span></span>
<span class="line">	<span class="token string">&quot;fmt&quot;</span></span>
<span class="line">	<span class="token string">&quot;strconv&quot;</span></span>
<span class="line">	<span class="token string">&quot;strings&quot;</span></span>
<span class="line"><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">	userName <span class="token operator">:=</span> <span class="token string">&quot;bobby&quot;</span></span>
<span class="line">	age <span class="token operator">:=</span> <span class="token number">18</span></span>
<span class="line">	address <span class="token operator">:=</span> <span class="token string">&quot;åŒ—äº¬&quot;</span></span>
<span class="line">	mobile <span class="token operator">:=</span> <span class="token string">&quot;13512345678&quot;</span></span>
<span class="line">	<span class="token comment">/**</span>
<span class="line">	* å­—ç¬¦ä¸²æ‹¼æ¥</span>
<span class="line">	* - Printf å’Œ Sprintf æ€§èƒ½æœ€å·®ï¼Œä½†å¯è¯»æ€§å¥½æ›´å¸¸ç”¨</span>
<span class="line">	* - + è¿æ¥æ€§èƒ½è¾ƒå¥½ï¼Œå¯è¯»æ€§å·®</span>
<span class="line">	* - é€šè¿‡å­—ç¬¦ä¸²çš„ builder è¿›è¡Œå­—ç¬¦ä¸²æ‹¼æ¥ï¼Œæ€§èƒ½è¿œé«˜äºä¸Šè¿°æ–¹å¼</span>
<span class="line">	 */</span></span>
<span class="line">	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;ç”¨æˆ·åï¼š&quot;</span> <span class="token operator">+</span> userName <span class="token operator">+</span> <span class="token string">&quot;ï¼Œå¹´é¾„ï¼š&quot;</span> <span class="token operator">+</span> strconv<span class="token punctuation">.</span><span class="token function">Itoa</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;ï¼Œåœ°å€ï¼š&quot;</span> <span class="token operator">+</span> address <span class="token operator">+</span> <span class="token string">&quot;ï¼Œç”µè¯ï¼š&quot;</span> <span class="token operator">+</span> mobile<span class="token punctuation">)</span></span>
<span class="line">	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;ç”¨æˆ·åï¼š%sï¼Œå¹´é¾„ï¼š%dï¼Œåœ°å€ï¼š%sï¼Œç”µè¯ï¼š%s\n&quot;</span><span class="token punctuation">,</span> userName<span class="token punctuation">,</span> age<span class="token punctuation">,</span> address<span class="token punctuation">,</span> mobile<span class="token punctuation">)</span></span>
<span class="line">	s <span class="token operator">:=</span> fmt<span class="token punctuation">.</span><span class="token function">Sprintf</span><span class="token punctuation">(</span><span class="token string">&quot;ç”¨æˆ·åï¼š%sï¼Œå¹´é¾„ï¼š%dï¼Œåœ°å€ï¼š%sï¼Œç”µè¯ï¼š%s&quot;</span><span class="token punctuation">,</span> userName<span class="token punctuation">,</span> age<span class="token punctuation">,</span> address<span class="token punctuation">,</span> mobile<span class="token punctuation">)</span></span>
<span class="line">	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span></span>
<span class="line">	<span class="token comment">//	é€šè¿‡å­—ç¬¦ä¸²çš„ builder è¿›è¡Œå­—ç¬¦ä¸²æ‹¼æ¥</span></span>
<span class="line">	<span class="token keyword">var</span> builder strings<span class="token punctuation">.</span>Builder</span>
<span class="line">	builder<span class="token punctuation">.</span><span class="token function">WriteString</span><span class="token punctuation">(</span><span class="token string">&quot;ç”¨æˆ·åï¼š&quot;</span><span class="token punctuation">)</span></span>
<span class="line">	builder<span class="token punctuation">.</span><span class="token function">WriteString</span><span class="token punctuation">(</span>userName<span class="token punctuation">)</span></span>
<span class="line">	builder<span class="token punctuation">.</span><span class="token function">WriteString</span><span class="token punctuation">(</span><span class="token string">&quot;ï¼Œå¹´é¾„ï¼š&quot;</span><span class="token punctuation">)</span></span>
<span class="line">	builder<span class="token punctuation">.</span><span class="token function">WriteString</span><span class="token punctuation">(</span>strconv<span class="token punctuation">.</span><span class="token function">Itoa</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">	builder<span class="token punctuation">.</span><span class="token function">WriteString</span><span class="token punctuation">(</span><span class="token string">&quot;ï¼Œåœ°å€ï¼š&quot;</span><span class="token punctuation">)</span></span>
<span class="line">	builder<span class="token punctuation">.</span><span class="token function">WriteString</span><span class="token punctuation">(</span>address<span class="token punctuation">)</span></span>
<span class="line">	builder<span class="token punctuation">.</span><span class="token function">WriteString</span><span class="token punctuation">(</span><span class="token string">&quot;ï¼Œç”µè¯ï¼š&quot;</span><span class="token punctuation">)</span></span>
<span class="line">	builder<span class="token punctuation">.</span><span class="token function">WriteString</span><span class="token punctuation">(</span>mobile<span class="token punctuation">)</span></span>
<span class="line">	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>builder<span class="token punctuation">.</span><span class="token function">String</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><h5 id="å­—ç¬¦" tabindex="-1"><a class="header-anchor" href="#å­—ç¬¦"><span>å­—ç¬¦</span></a></h5><p>å­—ç¬¦å­—é¢å€¼ä½¿ç”¨ &#39;&#39; æ‹¬èµ·æ¥ï¼Œä¾‹å¦‚ &#39;A&#39;</p><p>å¦‚æœæ²¡æœ‰æŒ‡å®šå­—ç¬¦ç±»å‹çš„è¯ï¼ŒGo ä¼šæ¨æ–­å®ƒçš„ç±»å‹ä¸º rune</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line">grade <span class="token operator">:=</span> <span class="token char">&#39;A&#39;</span></span>
<span class="line"><span class="token keyword">var</span> grade1 <span class="token operator">=</span> <span class="token char">&#39;A&#39;</span></span>
<span class="line"><span class="token keyword">var</span> grade2 <span class="token builtin">rune</span> <span class="token operator">=</span> <span class="token char">&#39;A&#39;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><blockquote><p>è¿™é‡Œçš„ grade ä»ç„¶åŒ…å«ä¸€ä¸ªæ•°å€¼ï¼Œæœ¬ä¾‹ä¸­å°±æ˜¯ 65ï¼Œå®ƒæ˜¯ A çš„ code point</p></blockquote><p>å­—ç¬¦å­—é¢å€¼ä¹Ÿå¯ä»¥ç”¨ byte ç±»å‹</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line"><span class="token keyword">var</span> star <span class="token builtin">byte</span> <span class="token operator">=</span> <span class="token char">&#39;*&#39;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><h5 id="string" tabindex="-1"><a class="header-anchor" href="#string"><span>string</span></a></h5><p>å¯ä»¥ç»™æŸä¸ªå˜é‡èµ‹äºˆä¸åŒçš„ string å€¼ï¼Œä½†æ˜¯ string æœ¬èº«æ˜¯ä¸å¯å˜çš„</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line">message <span class="token operator">:=</span> <span class="token string">&quot;shalom&quot;</span></span>
<span class="line">c <span class="token operator">:=</span> message<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span></span>
<span class="line">fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;%c\n&quot;</span><span class="token punctuation">,</span> c<span class="token punctuation">)</span> <span class="token comment">// m</span></span>
<span class="line">message<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token char">&#39;d&#39;</span> <span class="token comment">// æŠ¥é”™</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><h5 id="caesar-cipher-å‡¯æ’’åŠ å¯†æ³•" tabindex="-1"><a class="header-anchor" href="#caesar-cipher-å‡¯æ’’åŠ å¯†æ³•"><span>Caesar cipher å‡¯æ’’åŠ å¯†æ³•</span></a></h5><p>å‡¯æ’’åŠ å¯†æ³•æ˜¯ä¸€ç§ç®€å•çš„åŠ å¯†æ–¹æ³•ï¼Œå®ƒæ˜¯é€šè¿‡å°†æ¯ä¸ªå­—ç¬¦ç§»åŠ¨å›ºå®šæ•°ç›®çš„ä½ç½®æ¥å®ç°çš„</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line">c <span class="token operator">:=</span> <span class="token char">&#39;a&#39;</span></span>
<span class="line">c <span class="token operator">=</span> c <span class="token operator">+</span> <span class="token number">3</span></span>
<span class="line">fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;%c&quot;</span><span class="token punctuation">,</span> c<span class="token punctuation">)</span> <span class="token comment">// d</span></span>
<span class="line"><span class="token keyword">if</span> c <span class="token operator">&gt;</span> <span class="token char">&#39;z&#39;</span> <span class="token punctuation">{</span></span>
<span class="line">  c <span class="token operator">=</span> c <span class="token operator">-</span> <span class="token number">26</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><h5 id="rot13" tabindex="-1"><a class="header-anchor" href="#rot13"><span>ROT13</span></a></h5><p>ROT13 (æ—‹è½¬ 13) æ˜¯å‡¯æ’’åŠ å¯†åœ¨ 20 ä¸–çºªçš„å˜ä½“, å®ƒä¼šæŠŠå­—æ¯æ›¿æ¢æˆ +13 åå¯¹åº”çš„å­—æ¯</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line">originalMessage <span class="token operator">:=</span> <span class="token string">&quot;uv vagreangvbany fcnpr fgngvba&quot;</span></span>
<span class="line"><span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token function">len</span><span class="token punctuation">(</span>originalMessage<span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{</span></span>
<span class="line">  c <span class="token operator">:=</span> originalMessage<span class="token punctuation">[</span>i<span class="token punctuation">]</span></span>
<span class="line">  <span class="token keyword">if</span> c <span class="token operator">&gt;=</span> <span class="token char">&#39;a&#39;</span> <span class="token operator">&amp;&amp;</span> c <span class="token operator">&lt;=</span> <span class="token char">&#39;z&#39;</span> <span class="token punctuation">{</span></span>
<span class="line">    c <span class="token operator">=</span> c <span class="token operator">+</span> <span class="token number">13</span></span>
<span class="line">    <span class="token keyword">if</span> c <span class="token operator">&gt;</span> <span class="token char">&#39;z&#39;</span> <span class="token punctuation">{</span></span>
<span class="line">      c <span class="token operator">=</span> c <span class="token operator">-</span> <span class="token number">26</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line">  fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;%c&quot;</span><span class="token punctuation">,</span> c<span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><h5 id="go-çš„å†…ç½®å‡½æ•°-len" tabindex="-1"><a class="header-anchor" href="#go-çš„å†…ç½®å‡½æ•°-len"><span>Go çš„å†…ç½®å‡½æ•° len</span></a></h5><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line">message <span class="token operator">:=</span> <span class="token string">&quot;uv vagreangvbany fcnpr fgngvba&quot;</span></span>
<span class="line">fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token function">len</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 32</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><blockquote><p>æœ¬ä¾‹ä¸­ len è¿”å› message æ‰€å çš„ byte æ•°</p></blockquote><h5 id="utf-8" tabindex="-1"><a class="header-anchor" href="#utf-8"><span>UTF-8</span></a></h5><p>Go ä¸­çš„å­—ç¬¦ä¸²æ˜¯ç”¨ UTF-8 ç¼–ç çš„ï¼ŒUTF-8 æ˜¯ Unicode Code Point çš„å‡ ç§ç¼–ç ä¹‹ä¸€</p><p>UTF8 æ˜¯ä¸€ç§æœ‰æ•ˆç‡çš„å¯å˜é•¿åº¦çš„ç¼–ç ï¼Œæ¯ä¸ª code point å¯ä»¥æ˜¯ 8 ä½ã€16 ä½æˆ– 32 ä½çš„</p><p>é€šè¿‡ä½¿ç”¨å¯å˜é•¿åº¦ç¼–ç ï¼ŒUTF-8 ä½¿å¾—ä» ASCII çš„è½¬æ¢å˜å¾—ç®€å•æ˜äº†ï¼Œå› ä¸º ASCII å­—ç¬¦ä¸å…¶ UTF-8 ç¼–ç å¯¹åº”çš„å­—ç¬¦æ˜¯ç›¸åŒçš„</p><p>UTF-8 æ˜¯ä¸‡ç»´ç½‘çš„ä¸»è¦å­—ç¬¦ç¼–ç ï¼Œå®ƒæ˜¯ç”± Ken Thompsonï¼ˆGo è¯­è¨€çš„è®¾è®¡è€…ä¹‹ä¸€ï¼‰ äº 1992 å¹´å‘æ˜çš„</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line"><span class="token keyword">package</span> main</span>
<span class="line"></span>
<span class="line"><span class="token keyword">import</span> <span class="token punctuation">(</span></span>
<span class="line">	<span class="token string">&quot;fmt&quot;</span></span>
<span class="line">	<span class="token string">&quot;unicode/utf8&quot;</span></span>
<span class="line"><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">	<span class="token comment">/*</span>
<span class="line">	* å­—ç¬¦å­—èŠ‚</span>
<span class="line">	 */</span></span>
<span class="line">	s <span class="token operator">:=</span> <span class="token string">&quot;Yesæˆ‘çˆ±æ…•è¯¾ç½‘!&quot;</span></span>
<span class="line">	<span class="token keyword">for</span> <span class="token boolean">_</span><span class="token punctuation">,</span> b <span class="token operator">:=</span> <span class="token keyword">range</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token function">byte</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">		fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;%x &quot;</span><span class="token punctuation">,</span> b<span class="token punctuation">)</span></span>
<span class="line">	<span class="token punctuation">}</span></span>
<span class="line">	<span class="token comment">// 59 65 73 e6 88 91 e7 88 b1 e6 85 95 e8 af be e7 bd 91 21</span></span>
<span class="line">	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">	<span class="token keyword">for</span> i<span class="token punctuation">,</span> ch <span class="token operator">:=</span> <span class="token keyword">range</span> s <span class="token punctuation">{</span> <span class="token comment">// ch is a rune</span></span>
<span class="line">		fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;(%d %x) &quot;</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> ch<span class="token punctuation">)</span></span>
<span class="line">	<span class="token punctuation">}</span></span>
<span class="line">	<span class="token comment">// (0 59) (1 65) (2 73) (3 6211) (6 7231) (9 6155) (12 8bfe) (15 7f51) (18 21)</span></span>
<span class="line">	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">	<span class="token comment">/*</span>
<span class="line">	* byte æ•°å’Œ rune æ•°</span>
<span class="line">	 */</span></span>
<span class="line">	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;byte æ•°æ˜¯&quot;</span><span class="token punctuation">,</span> <span class="token function">len</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span>                    <span class="token comment">// byte æ•°æ˜¯ 19</span></span>
<span class="line">	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;rune æ•°æ˜¯&quot;</span><span class="token punctuation">,</span> utf8<span class="token punctuation">.</span><span class="token function">RuneCountInString</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// rune æ•°æ˜¯ 9</span></span>
<span class="line"></span>
<span class="line">	<span class="token comment">/**</span>
<span class="line">	* æ‰“å°æ¯ä¸ª rune</span>
<span class="line">	 */</span></span>
<span class="line">	bytes <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token function">byte</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span></span>
<span class="line">	<span class="token keyword">for</span> <span class="token function">len</span><span class="token punctuation">(</span>bytes<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token punctuation">{</span></span>
<span class="line">		r<span class="token punctuation">,</span> size <span class="token operator">:=</span> utf8<span class="token punctuation">.</span><span class="token function">DecodeRune</span><span class="token punctuation">(</span>bytes<span class="token punctuation">)</span></span>
<span class="line">		bytes <span class="token operator">=</span> bytes<span class="token punctuation">[</span>size<span class="token punctuation">:</span><span class="token punctuation">]</span></span>
<span class="line">		fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;%c &quot;</span><span class="token punctuation">,</span> r<span class="token punctuation">)</span></span>
<span class="line">	<span class="token punctuation">}</span></span>
<span class="line">	<span class="token comment">// Y e s æˆ‘ çˆ± æ…• è¯¾ ç½‘ !</span></span>
<span class="line">	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">	<span class="token keyword">for</span> i<span class="token punctuation">,</span> r <span class="token operator">:=</span> <span class="token keyword">range</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token function">rune</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">		fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;(%d %c) &quot;</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> r<span class="token punctuation">)</span></span>
<span class="line">	<span class="token punctuation">}</span></span>
<span class="line">	<span class="token comment">// (0 Y) (1 e) (2 s) (3 æˆ‘) (4 çˆ±) (5 æ…•) (6 è¯¾) (7 ç½‘) (8 !)</span></span>
<span class="line">	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><p><strong>ç¤ºä¾‹ï¼šå¯»æ‰¾æœ€é•¿ä¸å«æœ‰é‡å¤å­—ç¬¦çš„å­ä¸²</strong></p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line"><span class="token keyword">package</span> main</span>
<span class="line"></span>
<span class="line"><span class="token keyword">import</span> <span class="token string">&quot;fmt&quot;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">func</span> <span class="token function">lengthOfNonRepeatingSubStr</span><span class="token punctuation">(</span>s <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">{</span></span>
<span class="line">	lastOccurred <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">rune</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">)</span></span>
<span class="line">	start <span class="token operator">:=</span> <span class="token number">0</span></span>
<span class="line">	maxLength <span class="token operator">:=</span> <span class="token number">0</span></span>
<span class="line">	<span class="token keyword">for</span> i<span class="token punctuation">,</span> ch <span class="token operator">:=</span> <span class="token keyword">range</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token function">rune</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">		<span class="token keyword">if</span> lastI<span class="token punctuation">,</span> ok <span class="token operator">:=</span> lastOccurred<span class="token punctuation">[</span>ch<span class="token punctuation">]</span><span class="token punctuation">;</span> ok <span class="token operator">&amp;&amp;</span> lastI <span class="token operator">&gt;=</span> start <span class="token punctuation">{</span></span>
<span class="line">			start <span class="token operator">=</span> lastI <span class="token operator">+</span> <span class="token number">1</span></span>
<span class="line">		<span class="token punctuation">}</span></span>
<span class="line">		<span class="token keyword">if</span> i<span class="token operator">-</span>start<span class="token operator">+</span><span class="token number">1</span> <span class="token operator">&gt;</span> maxLength <span class="token punctuation">{</span></span>
<span class="line">			maxLength <span class="token operator">=</span> i <span class="token operator">-</span> start <span class="token operator">+</span> <span class="token number">1</span></span>
<span class="line">		<span class="token punctuation">}</span></span>
<span class="line">		lastOccurred<span class="token punctuation">[</span>ch<span class="token punctuation">]</span> <span class="token operator">=</span> i</span>
<span class="line">	<span class="token punctuation">}</span></span>
<span class="line">	<span class="token keyword">return</span> maxLength</span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token function">lengthOfNonRepeatingSubStr</span><span class="token punctuation">(</span><span class="token string">&quot;ä¸€äºŒä¸‰ä¸€äºŒ&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><h5 id="strings" tabindex="-1"><a class="header-anchor" href="#strings"><span>strings</span></a></h5><p>å­—ç¬¦ä¸²å¸¸è§æ“ä½œï¼š</p><ul><li>Fields / Split / Join</li><li>Contains / Index</li><li>ToLower / ToUpper</li><li>Trim/TrimLeft / TrimRight</li></ul><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line"><span class="token keyword">package</span> main</span>
<span class="line"></span>
<span class="line"><span class="token keyword">import</span> <span class="token punctuation">(</span></span>
<span class="line">	<span class="token string">&quot;fmt&quot;</span></span>
<span class="line">	<span class="token string">&quot;strings&quot;</span></span>
<span class="line"><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">	name <span class="token operator">:=</span> <span class="token string">&quot;imoocä½“ç³»è¯¾-goå·¥ç¨‹å¸ˆ&quot;</span></span>
<span class="line">	<span class="token comment">//	æ˜¯å¦åŒ…å«</span></span>
<span class="line">	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>strings<span class="token punctuation">.</span><span class="token function">Contains</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> <span class="token string">&quot;go&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// true</span></span>
<span class="line">	<span class="token comment">//	å‡ºç°æ¬¡æ•°</span></span>
<span class="line">	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>strings<span class="token punctuation">.</span><span class="token function">Count</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> <span class="token string">&quot;o&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 3</span></span>
<span class="line">	<span class="token comment">//	åˆ†å‰²å­—ç¬¦ä¸²</span></span>
<span class="line">	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>strings<span class="token punctuation">.</span><span class="token function">Split</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> <span class="token string">&quot;-&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// [imoocä½“ç³»è¯¾ goå·¥ç¨‹å¸ˆ]</span></span>
<span class="line">	<span class="token comment">//	å­—ç¬¦ä¸²æ˜¯å¦åŒ…å«å‰ç¼€/åç¼€</span></span>
<span class="line">	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>strings<span class="token punctuation">.</span><span class="token function">HasPrefix</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> <span class="token string">&quot;imooc&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// true</span></span>
<span class="line">	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>strings<span class="token punctuation">.</span><span class="token function">HasSuffix</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> <span class="token string">&quot;å·¥ç¨‹å¸ˆ&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>   <span class="token comment">// true</span></span>
<span class="line">	<span class="token comment">//	æŸ¥æ‰¾å­—ä¸²å‡ºç°çš„ä½ç½®</span></span>
<span class="line">	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>strings<span class="token punctuation">.</span><span class="token function">Index</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> <span class="token string">&quot;go&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 15ï¼ˆå­—èŠ‚çš„ä½ç½®ï¼‰</span></span>
<span class="line">	<span class="token comment">//	å­—ä¸²æ›¿æ¢</span></span>
<span class="line">	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>strings<span class="token punctuation">.</span><span class="token function">Replace</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> <span class="token string">&quot;go&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;java&quot;</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// imoocä½“ç³»è¯¾-javaå·¥ç¨‹å¸ˆ</span></span>
<span class="line">	<span class="token comment">//	å¤§å°å†™è½¬æ¢</span></span>
<span class="line">	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>strings<span class="token punctuation">.</span><span class="token function">ToUpper</span><span class="token punctuation">(</span><span class="token string">&quot;go&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>   <span class="token comment">// GO</span></span>
<span class="line">	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>strings<span class="token punctuation">.</span><span class="token function">ToLower</span><span class="token punctuation">(</span><span class="token string">&quot;JAVA&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// java</span></span>
<span class="line">	<span class="token comment">//	å»æ‰ç‰¹æ®Šå­—ç¬¦</span></span>
<span class="line">	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>strings<span class="token punctuation">.</span><span class="token function">Trim</span><span class="token punctuation">(</span><span class="token string">&quot;#$hello#go#&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;$#&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// hello#go</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><h4 id="æ•°å€¼ç±»å‹" tabindex="-1"><a class="header-anchor" href="#æ•°å€¼ç±»å‹"><span>æ•°å€¼ç±»å‹</span></a></h4><p>é›¶å€¼æ˜¯ 0</p><h5 id="æ•´æ•°" tabindex="-1"><a class="header-anchor" href="#æ•´æ•°"><span>æ•´æ•°</span></a></h5><p>Go æä¾›äº† 10 ç§æ•´æ•°ç±»å‹ï¼ˆä¸å¯ä»¥å­˜å°æ•°éƒ¨åˆ†ï¼ŒèŒƒå›´æœ‰é™ï¼Œé€šå¸¸æ ¹æ®æ•°å€¼èŒƒå›´æ¥é€‰å–æ•´æ•°ç±»å‹ï¼‰</p><ul><li>5 ç§æ•´æ•°ç±»å‹æ˜¯æœ‰ç¬¦å·çš„ï¼Œèƒ½è¡¨ç¤ºæ­£æ•°ã€0ã€è´Ÿæ•°</li><li>5 ç§æ•´æ•°ç±»å‹æ˜¯æ— ç¬¦å·çš„ï¼Œèƒ½è¡¨ç¤ºæ­£æ•°ã€0</li></ul><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line"><span class="token comment">// æœ€å¸¸ç”¨çš„æ•´æ•°ç±»å‹æ˜¯ int</span></span>
<span class="line"><span class="token keyword">var</span> year <span class="token builtin">int</span> <span class="token operator">=</span> <span class="token number">2018</span></span>
<span class="line"><span class="token comment">// æ— ç¬¦å·æ•´æ•°ç±»å‹æ˜¯ uint</span></span>
<span class="line"><span class="token keyword">var</span> month <span class="token builtin">uint</span> <span class="token operator">=</span> <span class="token number">12</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><p>ä¸‹é¢ä¸‰ä¸ªè¯­å¥æ˜¯ç­‰ä»·çš„ï¼š</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line">year <span class="token operator">:=</span> <span class="token number">2018</span></span>
<span class="line"><span class="token keyword">var</span> year <span class="token operator">=</span> <span class="token number">2018</span></span>
<span class="line"><span class="token keyword">var</span> year <span class="token builtin">int</span> <span class="token operator">=</span> <span class="token number">2018</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><p>int å’Œ uint æ˜¯é’ˆå¯¹ç›®æ ‡è®¾å¤‡ä¼˜åŒ–çš„ç±»å‹</p><ul><li>åœ¨æ ‘è“æ´¾ 2ã€æ¯”è¾ƒè€çš„ç§»åŠ¨è®¾å¤‡ä¸Šï¼Œint å’Œ int32 éƒ½æ˜¯ 32 ä½çš„</li><li>åœ¨æ¯”è¾ƒæ–°çš„è®¡ç®—æœºä¸Šï¼Œint å’Œ int64 éƒ½æ˜¯ 64 ä½çš„</li></ul><blockquote><p>å¦‚æœåœ¨æ¯”è¾ƒè€çš„ 32 ä½è®¾å¤‡ä¸Šï¼Œä½¿ç”¨äº†è¶…è¿‡ 20 äº¿çš„æ•´æ•°ï¼Œå¹¶ä¸”ä»£ç è¿˜èƒ½è¿è¡Œï¼Œé‚£ä¹ˆæœ€å¥½ä½¿ç”¨ int64 å’Œ uint64 æ¥ä»£æ›¿ int å’Œ uint</p></blockquote><h6 id="uint8" tabindex="-1"><a class="header-anchor" href="#uint8"><span>uint8</span></a></h6><p>å–å€¼èŒƒå›´ 0-255</p><ul><li>unit8 å¯ä»¥ç”¨æ¥è¡¨ç¤º 8 ä½çš„é¢œè‰²ï¼ˆçº¢ç»¿è“ï¼š0-255ï¼‰<div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line"><span class="token keyword">var</span> red<span class="token punctuation">,</span> green<span class="token punctuation">,</span> blue unit8 <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">141</span><span class="token punctuation">,</span> <span class="token number">213</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div></li></ul><h6 id="åå…­è¿›åˆ¶è¡¨ç¤ºæ³•" tabindex="-1"><a class="header-anchor" href="#åå…­è¿›åˆ¶è¡¨ç¤ºæ³•"><span>åå…­è¿›åˆ¶è¡¨ç¤ºæ³•</span></a></h6><p>Go è¯­è¨€é‡Œï¼Œåœ¨æ•°å‰é¢åŠ ä¸Š <code>0x</code> å‰ç¼€ï¼Œå°±å¯ä»¥ç”¨åå…­è¿›åˆ¶çš„å½¢å¼æ¥è¡¨ç¤º</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line"><span class="token keyword">var</span> red<span class="token punctuation">,</span> green<span class="token punctuation">,</span> blue unit8 <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">141</span><span class="token punctuation">,</span> <span class="token number">213</span></span>
<span class="line"><span class="token keyword">var</span> red<span class="token punctuation">,</span> green<span class="token punctuation">,</span> blue unit8 <span class="token operator">=</span> <span class="token number">0x00</span><span class="token punctuation">,</span> <span class="token number">0x8d</span><span class="token punctuation">,</span> <span class="token number">0xd5</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><p><strong>æ‰“å°åå…­è¿›åˆ¶</strong></p><p>æ‰“å°åå…­è¿›åˆ¶çš„æ•°ï¼Œç”¨ <code>%x</code> æ ¼å¼åŒ–åŠ¨è¯</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line">fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;%x %x %x&quot;</span><span class="token punctuation">,</span> red<span class="token punctuation">,</span> green<span class="token punctuation">,</span> blue<span class="token punctuation">)</span></span>
<span class="line"><span class="token comment">// ä¹Ÿå¯ä»¥æŒ‡å®šæœ€å°å®½åº¦å’Œå¡«å……</span></span>
<span class="line">fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;color: #%02x%02x%02x;&quot;</span><span class="token punctuation">,</span> red<span class="token punctuation">,</span> green<span class="token punctuation">,</span> blue<span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><h6 id="æ•´æ•°ç¯ç»•" tabindex="-1"><a class="header-anchor" href="#æ•´æ•°ç¯ç»•"><span>æ•´æ•°ç¯ç»•</span></a></h6><p>æ‰€æœ‰çš„æ•´æ•°éƒ½æœ‰ä¸€ä¸ªå–å€¼èŒƒå›´ï¼Œè¶…å‡ºè¿™ä¸ªèŒƒå›´ï¼Œå°±ä¼šå‘ç”Ÿâ€œç¯ç»•â€</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line"><span class="token keyword">var</span> red <span class="token builtin">uint8</span> <span class="token operator">=</span> <span class="token number">255</span></span>
<span class="line">red<span class="token operator">++</span></span>
<span class="line">fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>red<span class="token punctuation">)</span> <span class="token comment">// 0</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">var</span> number <span class="token builtin">int8</span> <span class="token operator">=</span> <span class="token number">127</span></span>
<span class="line">number<span class="token operator">++</span></span>
<span class="line">fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>number<span class="token punctuation">)</span> <span class="token comment">// -128</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><blockquote><p>å¦‚ä½•é¿å…æ—¶é—´å‘ç”Ÿç¯ç»•ï¼Ÿ</p><p>Unix ç³»ç»Ÿé‡Œï¼Œæ—¶é—´æ˜¯ä»¥ 1970 å¹´ 1 æœˆ 1 æ—¥è‡³ä»Šçš„ç§’æ•°æ¥è¡¨ç¤ºçš„</p><p>ä½†æ˜¯åœ¨ 2038 å¹´ï¼Œè¿™ä¸ªæ•°å°±ä¼šè¶…è¿‡ 20 å¤šäº¿ï¼Œä¹Ÿå°±æ˜¯è¶…è¿‡äº† int32 çš„èŒƒå›´</p><p>åº”ä½¿ç”¨ï¼šint64 æˆ– uint64</p></blockquote><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line">future <span class="token operator">:=</span> time<span class="token punctuation">.</span><span class="token function">Unix</span><span class="token punctuation">(</span><span class="token number">12622780800</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span></span>
<span class="line">fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>future<span class="token punctuation">)</span> <span class="token comment">// 2370-01-01 08:00:00 +0800 CST</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><h6 id="æ‰“å°æ¯ä¸ª-bit" tabindex="-1"><a class="header-anchor" href="#æ‰“å°æ¯ä¸ª-bit"><span>æ‰“å°æ¯ä¸ª bit</span></a></h6><p>ä½¿ç”¨ %b æ ¼å¼åŒ–åŠ¨è¯</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line"><span class="token keyword">var</span> green <span class="token builtin">uint8</span> <span class="token operator">=</span> <span class="token number">3</span></span>
<span class="line">fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;%08b\n&quot;</span><span class="token punctuation">,</span> green<span class="token punctuation">)</span> <span class="token comment">// 00000011</span></span>
<span class="line">green<span class="token operator">++</span></span>
<span class="line">fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;%08b\n&quot;</span><span class="token punctuation">,</span> green<span class="token punctuation">)</span> <span class="token comment">// 00000100</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><h6 id="æ•´æ•°ç±»å‹çš„æœ€å¤§å€¼ã€æœ€å°å€¼" tabindex="-1"><a class="header-anchor" href="#æ•´æ•°ç±»å‹çš„æœ€å¤§å€¼ã€æœ€å°å€¼"><span>æ•´æ•°ç±»å‹çš„æœ€å¤§å€¼ã€æœ€å°å€¼</span></a></h6><ul><li>math åŒ…é‡Œï¼Œä¸ºä¸æ¶æ„æ— å…³çš„æ•´æ•°ç±»å‹ï¼Œå®šä¹‰äº†æœ€å¤§ã€æœ€å°å€¼å¸¸é‡<div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line">math<span class="token punctuation">.</span>MaxInt16</span>
<span class="line">math<span class="token punctuation">.</span>MinInt64</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div></li><li>è€Œ int å’Œ uintï¼Œå¯èƒ½æ˜¯ 32 ä½ æˆ– 64 ä½çš„</li></ul><h5 id="æµ®ç‚¹æ•°" tabindex="-1"><a class="header-anchor" href="#æµ®ç‚¹æ•°"><span>æµ®ç‚¹æ•°</span></a></h5><p>åªè¦æ•°å­—å«æœ‰å°æ•°éƒ¨åˆ†ï¼Œé‚£ä¹ˆå®ƒçš„ç±»å‹å°±æ˜¯ <code>float64</code></p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line"><span class="token comment">/* ä¸‹é¢ä¸‰ä¸ªè¯­å¥çš„æ•ˆæœæ˜¯ä¸€æ ·çš„ */</span></span>
<span class="line">days <span class="token operator">:=</span> <span class="token number">365.2425</span></span>
<span class="line"><span class="token keyword">var</span> days <span class="token operator">=</span> <span class="token number">365.2425</span></span>
<span class="line"><span class="token keyword">var</span> days <span class="token builtin">float64</span> <span class="token operator">=</span> <span class="token number">365.2425</span></span>
<span class="line"><span class="token comment">/* å¦‚æœä½¿ç”¨ä¸€ä¸ªæ•´æ•°æ¥åˆå§‹åŒ–æŸä¸ªå˜é‡ï¼Œåˆ™å¿…é¡»æŒ‡å®šå®ƒçš„ç±»å‹ä¸º float64ï¼Œå¦åˆ™å®ƒå°±æ˜¯ä¸€ä¸ªæ•´æ•°ç±»å‹ */</span></span>
<span class="line"><span class="token keyword">var</span> answer <span class="token builtin">float32</span> <span class="token operator">=</span> <span class="token number">42</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><div class="hint-container warning"><p class="hint-container-title">æ³¨æ„</p><p>Go è¯­è¨€é‡Œæœ‰ä¸¤ç§æµ®ç‚¹æ•°ç±»å‹ï¼š</p><p><strong>é»˜è®¤æ˜¯ float64</strong></p><ul><li>64 ä½çš„æµ®ç‚¹ç±»å‹</li><li>å ç”¨ 8 å­—èŠ‚ï¼Œå¤§çº¦ 1.8e308</li></ul><p><strong>float32</strong></p><ul><li>å ç”¨ 4 å­—èŠ‚ï¼Œå¤§çº¦ 3.4e38</li><li>ç²¾åº¦æ¯” float64 ä½</li><li>æœ‰æ—¶å«åšå•ç²¾åº¦æµ®ç‚¹æ•°ç±»å‹</li></ul></div><p>æƒ³ä½¿ç”¨å•ç²¾åº¦ç±»å‹ï¼Œå¿…é¡»å†å£°æ˜å˜é‡çš„æ—¶å€™æŒ‡å®šè¯¥ç±»å‹ï¼š</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line"><span class="token keyword">var</span> pi64 <span class="token operator">=</span> math<span class="token punctuation">.</span>Pi</span>
<span class="line"><span class="token keyword">var</span> pi32 <span class="token builtin">float32</span> <span class="token operator">=</span> math<span class="token punctuation">.</span>Pi</span>
<span class="line">fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>pi64<span class="token punctuation">)</span> <span class="token comment">// 3.141592653589793</span></span>
<span class="line">fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>pi32<span class="token punctuation">)</span> <span class="token comment">// 3.1415927</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><ul><li>å½“å¤„ç†å¤§é‡æ•°æ®æ—¶ï¼Œä¾‹å¦‚ 3D æ¸¸æˆä¸­çš„æ•°åƒä¸ªé¡¶ç‚¹ï¼Œä½¿ç”¨ float32 ç‰ºç‰²ç²¾åº¦æ¥èŠ‚çœå†…å­˜æ˜¯å¾ˆæœ‰æ„ä¹‰çš„</li><li>math åŒ…é‡Œé¢çš„å‡½æ•°æ“ä½œéƒ½æ˜¯ float64 ç±»å‹ï¼Œæ‰€ä»¥åº”è¯¥é¦–é€‰ä½¿ç”¨ float 64 ç±»å‹ï¼Œé™¤éæœ‰è¶³å¤Ÿçš„ç†ç”±ä¸å»ä½¿ç”¨å®ƒ</li></ul><h6 id="æ‰“å°æµ®ç‚¹ç±»å‹" tabindex="-1"><a class="header-anchor" href="#æ‰“å°æµ®ç‚¹ç±»å‹"><span>æ‰“å°æµ®ç‚¹ç±»å‹</span></a></h6><ul><li>Print æˆ– Println æ‰“å°æµ®ç‚¹ç±»å‹çš„æ—¶å€™ï¼Œé»˜è®¤çš„è¡Œä¸ºæ˜¯å°½å¯èƒ½åœ°å¤šæ˜¾ç¤ºå‡ ä½å°æ•°</li><li>Printf å‡½æ•°ï¼Œç»“åˆ %f æ ¼å¼åŒ–åŠ¨è¯æ¥æŒ‡å®šæ˜¾ç¤ºå°æ•°çš„ä½æ•°</li></ul><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line">third <span class="token operator">:=</span> <span class="token number">1.0</span> <span class="token operator">/</span> <span class="token number">3</span></span>
<span class="line">fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>third<span class="token punctuation">)</span> <span class="token comment">// 0.3333333333333333</span></span>
<span class="line">fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;%v\n&quot;</span><span class="token punctuation">,</span> third<span class="token punctuation">)</span> <span class="token comment">// 0.3333333333333333</span></span>
<span class="line">fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;%f\n&quot;</span><span class="token punctuation">,</span> third<span class="token punctuation">)</span> <span class="token comment">// 0.333333</span></span>
<span class="line">fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;%.3f\n&quot;</span><span class="token punctuation">,</span> third<span class="token punctuation">)</span> <span class="token comment">// 0.333</span></span>
<span class="line">fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;%4.2f\n&quot;</span><span class="token punctuation">,</span> third<span class="token punctuation">)</span> <span class="token comment">// 0.33</span></span>
<span class="line">fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;%05.2f\n&quot;</span><span class="token punctuation">,</span> third<span class="token punctuation">)</span> <span class="token comment">// 00.33ï¼Œé»˜è®¤æ˜¯ç©ºæ ¼å¡«å……</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><blockquote><p>æµ®ç‚¹ç±»å‹ä¸é€‚åˆç”¨äºé‡‘èç±»è®¡ç®—ï¼Œä¸ºäº†å°½é‡æœ€å°åŒ–èˆå…¥é”™è¯¯ï¼Œå»ºè®®å…ˆåšä¹˜æ³•ï¼Œå†åšé™¤æ³•</p></blockquote><h6 id="å¦‚ä½•æ¯”è¾ƒæµ®ç‚¹ç±»å‹" tabindex="-1"><a class="header-anchor" href="#å¦‚ä½•æ¯”è¾ƒæµ®ç‚¹ç±»å‹"><span>å¦‚ä½•æ¯”è¾ƒæµ®ç‚¹ç±»å‹</span></a></h6><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line">piggyBank <span class="token operator">:=</span> <span class="token number">0.1</span></span>
<span class="line">piggyBank <span class="token operator">+=</span> <span class="token number">0.2</span></span>
<span class="line">fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>piggyBank <span class="token operator">==</span> <span class="token number">0.3</span><span class="token punctuation">)</span> <span class="token comment">// false</span></span>
<span class="line"></span>
<span class="line">fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>math<span class="token punctuation">.</span><span class="token function">Abs</span><span class="token punctuation">(</span>piggyBank <span class="token operator">-</span> <span class="token number">0.3</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">0.0001</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><h5 id="å¤æ•°" tabindex="-1"><a class="header-anchor" href="#å¤æ•°"><span>å¤æ•°</span></a></h5><p>å°†å¤æ•°åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼Œå¦‚ä¸‹è¡¨æ‰€ç¤ºã€‚float32å’Œfloat64ä¹Ÿæ˜¯è¿™äº›å¤æ•°çš„ä¸€éƒ¨åˆ†ã€‚å†…å»ºå‡½æ•°ä»å®ƒçš„è™šéƒ¨å’Œå®éƒ¨åˆ›å»ºä¸€ä¸ªå¤æ•°ï¼Œå†…å»ºè™šéƒ¨å’Œå®éƒ¨å‡½æ•°æå–è¿™äº›éƒ¨åˆ†</p><ul><li>complex64 åŒ…å«float32ä½œä¸ºå®æ•°å’Œè™šæ•°åˆ†é‡çš„å¤æ•°ã€‚</li><li>complex128 åŒ…å«float64ä½œä¸ºå®æ•°å’Œè™šæ•°åˆ†é‡çš„å¤æ•°ã€‚</li></ul><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line"><span class="token keyword">package</span> main </span>
<span class="line"><span class="token keyword">import</span> <span class="token string">&quot;fmt&quot;</span></span>
<span class="line">  </span>
<span class="line"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> </span>
<span class="line">      </span>
<span class="line">   <span class="token keyword">var</span> a <span class="token builtin">complex128</span> <span class="token operator">=</span> <span class="token function">complex</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> </span>
<span class="line">   <span class="token keyword">var</span> b <span class="token builtin">complex64</span> <span class="token operator">=</span> <span class="token function">complex</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> </span>
<span class="line">   fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token comment">// (6+2i)</span></span>
<span class="line">   fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span> <span class="token comment">// (9+2i)</span></span>
<span class="line">     </span>
<span class="line">   <span class="token comment">//æ˜¾ç¤ºç±»å‹ </span></span>
<span class="line">  fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;açš„ç±»å‹æ˜¯ %T ä»¥åŠ&quot;</span><span class="token operator">+</span> <span class="token string">&quot;bçš„ç±»å‹æ˜¯ %T&quot;</span><span class="token punctuation">,</span> a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token comment">// açš„ç±»å‹æ˜¯ complex128 ä»¥åŠbçš„ç±»å‹æ˜¯ complex64</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><h3 id="æ¯”è¾ƒå¤§çš„æ•°" tabindex="-1"><a class="header-anchor" href="#æ¯”è¾ƒå¤§çš„æ•°"><span>æ¯”è¾ƒå¤§çš„æ•°</span></a></h3><p>æµ®ç‚¹ç±»å‹å¯ä»¥å­˜å‚¨éå¸¸å¤§çš„æ•°å€¼ï¼Œä½†æ˜¯ç²¾åº¦ä¸é«˜</p><p>æ•´å‹å¾ˆç²¾ç¡®ï¼Œä½†æ˜¯å–å€¼èŒƒå›´æœ‰é™</p><p>ä½¿ç”¨æŒ‡æ•°è¡¨ç¤ºçš„æ•°ï¼Œé»˜è®¤å°±æ˜¯ float64 ç±»å‹</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line"><span class="token keyword">var</span> distance <span class="token operator">=</span> <span class="token number">24e2</span></span>
<span class="line">fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;%T&quot;</span><span class="token punctuation">,</span> distance<span class="token punctuation">)</span> <span class="token comment">// float64</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><p>å¦‚æœéœ€è¦å­˜å‚¨éå¸¸å¤§çš„æ•´æ•°ï¼Œå¯ä»¥ä½¿ç”¨ math/big åŒ…</p><ul><li>å¯¹äºæ¯”è¾ƒå¤§çš„æ•´æ•°ï¼ˆè¶…è¿‡ 10^18ï¼‰ï¼Œbig.Int</li><li>å¯¹äºä»»æ„ç²¾åº¦çš„æµ®ç‚¹ç±»å‹ï¼Œbig.Float</li><li>å¯¹äºåˆ†æ•°ï¼Œbig.Rat</li></ul><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line">lightSpeed <span class="token operator">:=</span> big<span class="token punctuation">.</span><span class="token function">NewInt</span><span class="token punctuation">(</span><span class="token number">299792</span><span class="token punctuation">)</span></span>
<span class="line">secondsPerDay <span class="token operator">:=</span> big<span class="token punctuation">.</span><span class="token function">NewInt</span><span class="token punctuation">(</span><span class="token number">86400</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">distance <span class="token operator">:=</span> <span class="token function">new</span><span class="token punctuation">(</span>big<span class="token punctuation">.</span>Int<span class="token punctuation">)</span></span>
<span class="line">distance<span class="token punctuation">.</span><span class="token function">SetString</span><span class="token punctuation">(</span><span class="token string">&quot;24000000000000000000000&quot;</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span></span>
<span class="line">fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>distance<span class="token punctuation">)</span> <span class="token comment">// 24000000000000000000000</span></span>
<span class="line"></span>
<span class="line">seconds <span class="token operator">:=</span> <span class="token function">new</span><span class="token punctuation">(</span>big<span class="token punctuation">.</span>Int<span class="token punctuation">)</span></span>
<span class="line">seconds<span class="token punctuation">.</span><span class="token function">Div</span><span class="token punctuation">(</span>distance<span class="token punctuation">,</span> lightSpeed<span class="token punctuation">)</span> <span class="token comment">// seconds = distance / lightSpeed</span></span>
<span class="line"></span>
<span class="line">days <span class="token operator">:=</span> <span class="token function">new</span><span class="token punctuation">(</span>big<span class="token punctuation">.</span>Int<span class="token punctuation">)</span></span>
<span class="line">days<span class="token punctuation">.</span><span class="token function">Div</span><span class="token punctuation">(</span>seconds<span class="token punctuation">,</span> secondsPerDay<span class="token punctuation">)</span> <span class="token comment">// days = seconds / secondsPerDay</span></span>
<span class="line"></span>
<span class="line">fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;That is&quot;</span><span class="token punctuation">,</span> days<span class="token punctuation">,</span> <span class="token string">&quot;days of travel at light speed.&quot;</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><blockquote><p>ä¸€æ—¦ä½¿ç”¨äº† big.Intï¼Œé‚£ä¹ˆç­‰å¼é‡Œå…¶ä»–éƒ¨åˆ†ä¹Ÿå¿…é¡»ä½¿ç”¨ big.Int</p><p>NewInt() å‡½æ•°å¯ä»¥æŠŠ int64 è½¬åŒ–ä¸º big.Int ç±»å‹</p><p>ç¼ºç‚¹ï¼šç”¨èµ·æ¥ç¹çï¼Œé€Ÿåº¦è¾ƒæ…¢</p></blockquote><h4 id="è¾ƒå¤§æ•°å€¼çš„å¸¸é‡" tabindex="-1"><a class="header-anchor" href="#è¾ƒå¤§æ•°å€¼çš„å¸¸é‡"><span>è¾ƒå¤§æ•°å€¼çš„å¸¸é‡</span></a></h4><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line"><span class="token comment">// ä¼šæŠ¥é”™</span></span>
<span class="line"><span class="token keyword">const</span> distance unit64 <span class="token operator">=</span> <span class="token number">24000000000000000000000</span></span>
<span class="line"><span class="token comment">// ä½†åœ¨ Go é‡Œé¢ï¼Œå¸¸é‡æ˜¯å¯ä»¥æ— ç±»å‹çš„ï¼ˆuntypedï¼‰ï¼Œä¸‹é¢å°±ä¸ä¼šæŠ¥é”™</span></span>
<span class="line"><span class="token keyword">const</span> distance <span class="token operator">=</span> <span class="token number">24000000000000000000000</span> <span class="token comment">// untyped int</span></span>
<span class="line">fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;%T&quot;</span><span class="token punctuation">,</span> distance<span class="token punctuation">)</span> <span class="token comment">// æŠ¥é”™</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><p>å¸¸é‡ä½¿ç”¨ const å…³é”®å­—æ¥å£°æ˜ï¼Œç¨‹åºé‡Œæ¯ä¸ªå­—é¢å€¼éƒ½æ˜¯å¸¸é‡ï¼Œè¿™æ„å‘³ç€æ¯”è¾ƒå¤§çš„æ•°å€¼å¯ä»¥ç›´æ¥ä½¿ç”¨ï¼ˆä½œä¸ºå­—é¢å€¼ï¼‰</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line">fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token number">24000000000000000000000</span><span class="token operator">/</span><span class="token number">299792</span><span class="token operator">/</span><span class="token number">86400</span><span class="token punctuation">)</span> <span class="token comment">// 926568346646</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><blockquote><p>é’ˆå¯¹å­—é¢å€¼å’Œå¸¸é‡çš„è®¡ç®—æ˜¯åœ¨ç¼–è¯‘é˜¶æ®µå®Œæˆçš„</p><p>Go çš„ç¼–è¯‘å™¨æ˜¯ç”¨ Go ç¼–å†™çš„ï¼Œè¿™ç§æ— ç±»å‹çš„æ•°å€¼å­—é¢å€¼å°±æ˜¯ç”± big åŒ…æ‰€æ”¯æŒçš„ï¼Œè¿™ä½¿å¾—å¯ä»¥æ“ä½œå¾ˆå¤§çš„æ•°ï¼ˆè¶…è¿‡ 18 çš„ 10^18ï¼‰</p></blockquote><h3 id="åŸºæœ¬ç±»å‹è½¬æ¢" tabindex="-1"><a class="header-anchor" href="#åŸºæœ¬ç±»å‹è½¬æ¢"><span>åŸºæœ¬ç±»å‹è½¬æ¢</span></a></h3><h4 id="ç±»å‹ä¸èƒ½æ··ç”¨" tabindex="-1"><a class="header-anchor" href="#ç±»å‹ä¸èƒ½æ··ç”¨"><span>ç±»å‹ä¸èƒ½æ··ç”¨</span></a></h4><p>è¿æ¥ä¸¤ä¸ªå­—ç¬¦ä¸²ï¼Œä½¿ç”¨ + è¿ç®—ç¬¦</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line">countdown <span class="token operator">:=</span> <span class="token string">&quot;Launch in T minus &quot;</span> <span class="token operator">+</span> <span class="token string">&quot;10 seconds.&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><p>å¦‚æœæƒ³è¿æ¥å­—ç¬¦ä¸²å’Œæ•°å€¼ï¼Œæ˜¯ä¼šæŠ¥é”™çš„</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line">countdown <span class="token operator">:=</span> <span class="token string">&quot;Launch in T minus &quot;</span> <span class="token operator">+</span> <span class="token number">10</span> <span class="token operator">+</span> <span class="token string">&quot; seconds.&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><p>æ•´å‹å’Œæµ®ç‚¹ç±»å‹ä¹Ÿä¸èƒ½æ··ç€ç”¨</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line">age <span class="token operator">:=</span> <span class="token number">41</span></span>
<span class="line">marsDays <span class="token operator">:=</span> <span class="token number">687</span></span>
<span class="line">earthDays <span class="token operator">:=</span> <span class="token number">365.2425</span></span>
<span class="line">fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;I am&quot;</span><span class="token punctuation">,</span> age <span class="token operator">*</span> earthDays <span class="token operator">/</span> marsDays<span class="token punctuation">,</span> <span class="token string">&quot;years old on Mars.&quot;</span><span class="token punctuation">)</span> <span class="token comment">// invalid operation: age * earthDays (mismatched types int and float64)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><h4 id="ç±»å‹è½¬æ¢" tabindex="-1"><a class="header-anchor" href="#ç±»å‹è½¬æ¢"><span>ç±»å‹è½¬æ¢</span></a></h4><h5 id="æ•´æ•°ç±»å‹è½¬æ¢ä¸ºæµ®ç‚¹ç±»å‹" tabindex="-1"><a class="header-anchor" href="#æ•´æ•°ç±»å‹è½¬æ¢ä¸ºæµ®ç‚¹ç±»å‹"><span>æ•´æ•°ç±»å‹è½¬æ¢ä¸ºæµ®ç‚¹ç±»å‹</span></a></h5><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line">age <span class="token operator">:=</span> <span class="token number">41</span></span>
<span class="line"><span class="token comment">// å°† age è½¬æ¢ä¸ºæµ®ç‚¹ç±»å‹</span></span>
<span class="line">marsAge <span class="token operator">:=</span> <span class="token function">float64</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><h5 id="æµ®ç‚¹ç±»å‹è½¬æ¢ä¸ºæ•´æ•°ç±»å‹-å°æ•°ç‚¹åè¾¹çš„éƒ¨åˆ†ä¼šè¢«æˆªæ–­-è€Œä¸æ˜¯èˆå…¥" tabindex="-1"><a class="header-anchor" href="#æµ®ç‚¹ç±»å‹è½¬æ¢ä¸ºæ•´æ•°ç±»å‹-å°æ•°ç‚¹åè¾¹çš„éƒ¨åˆ†ä¼šè¢«æˆªæ–­-è€Œä¸æ˜¯èˆå…¥"><span>æµ®ç‚¹ç±»å‹è½¬æ¢ä¸ºæ•´æ•°ç±»å‹ï¼Œå°æ•°ç‚¹åè¾¹çš„éƒ¨åˆ†ä¼šè¢«æˆªæ–­ï¼Œè€Œä¸æ˜¯èˆå…¥</span></a></h5><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line">earthDays <span class="token operator">:=</span> <span class="token number">365.2425</span></span>
<span class="line"><span class="token comment">// å°† earthDays è½¬æ¢ä¸ºæ•´æ•°ç±»å‹</span></span>
<span class="line">fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token function">int</span><span class="token punctuation">(</span>earthDays<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 365</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><blockquote><p>æ— ç¬¦å·å’Œæœ‰ç¬¦å·æ•´æ•°ç±»å‹ä¹‹é—´ä¹Ÿéœ€è¦è½¬æ¢</p><p>ä¸åŒå¤§å°çš„æ•´æ•°ç±»å‹ä¹‹é—´ä¹Ÿéœ€è¦è½¬æ¢</p></blockquote><p><strong>ç±»å‹è½¬æ¢æ—¶éœ€è°¨æ…</strong></p><p>ç¯ç»•è¡Œä¸º</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line"><span class="token keyword">var</span> bh <span class="token builtin">float64</span> <span class="token operator">=</span> <span class="token number">32768</span></span>
<span class="line"><span class="token keyword">var</span> h <span class="token operator">=</span> <span class="token function">int16</span><span class="token punctuation">(</span>bh<span class="token punctuation">)</span></span>
<span class="line">fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>h<span class="token punctuation">)</span> <span class="token comment">// -32768</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><p>å¯ä»¥é€šè¿‡ math åŒ…æä¾›çš„ maxã€min å¸¸é‡ï¼Œæ¥åˆ¤æ–­æ˜¯å¦è¶…è¿‡æœ€å¤§æœ€å°å€¼</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line"><span class="token keyword">var</span> bh <span class="token builtin">float64</span> <span class="token operator">=</span> <span class="token number">32768</span></span>
<span class="line"><span class="token keyword">if</span> bh <span class="token operator">&lt;</span> math<span class="token punctuation">.</span>MinInt16 <span class="token operator">||</span> bh <span class="token operator">&gt;</span> math<span class="token punctuation">.</span>MaxInt16 <span class="token punctuation">{</span></span>
<span class="line">   <span class="token comment">// handle out of range error</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><h5 id="æŠŠ-runeã€byte-è½¬æ¢ä¸º-string" tabindex="-1"><a class="header-anchor" href="#æŠŠ-runeã€byte-è½¬æ¢ä¸º-string"><span>æŠŠ runeã€byte è½¬æ¢ä¸º string</span></a></h5><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line"><span class="token keyword">var</span> pi <span class="token builtin">rune</span> <span class="token operator">=</span> <span class="token number">960</span></span>
<span class="line"><span class="token keyword">var</span> alpha <span class="token builtin">rune</span> <span class="token operator">=</span> <span class="token number">940</span></span>
<span class="line"><span class="token keyword">var</span> omega <span class="token builtin">rune</span> <span class="token operator">=</span> <span class="token number">969</span></span>
<span class="line"><span class="token keyword">var</span> bang <span class="token builtin">byte</span> <span class="token operator">=</span> <span class="token number">33</span></span>
<span class="line">fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;%v %v %v %v\n&quot;</span><span class="token punctuation">,</span> <span class="token function">string</span><span class="token punctuation">(</span>pi<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">string</span><span class="token punctuation">(</span>alpha<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">string</span><span class="token punctuation">(</span>omega<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">string</span><span class="token punctuation">(</span>bang<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// Ï€ Î¬ Ï‰ !</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><p>æƒ³æŠŠæ•°å€¼è½¬åŒ–ä¸ºæœ‰æ„ä¹‰çš„å­—ç¬¦ä¸²ï¼Œå®ƒçš„å€¼å¿…é¡»èƒ½è½¬åŒ–ä¸º code point</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line">countdown <span class="token operator">:=</span> <span class="token number">10</span></span>
<span class="line">str <span class="token operator">:=</span> <span class="token string">&quot;Launch in T minus &quot;</span> <span class="token operator">+</span> strconv<span class="token punctuation">.</span><span class="token function">Itoa</span><span class="token punctuation">(</span>countdown<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot; seconds.&quot;</span></span>
<span class="line">fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span> <span class="token comment">// Launch in T minus 10 seconds.</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><blockquote><p>Itoa æ˜¯ Integer to ASCII çš„æ„æ€</p><p>Unicode æ˜¯ ASCII çš„è¶…é›†ï¼Œå®ƒä»¬å‰ 128 ä¸ª code points æ˜¯ä¸€æ ·çš„ï¼ˆæ•°å­—ã€è‹±æ–‡å­—æ¯ã€å¸¸ç”¨æ ‡ç‚¹ï¼‰</p></blockquote><p>å¦å¤–ä¸€ç§æŠŠæ•°å€¼è½¬åŒ–ä¸º string çš„æ–¹å¼æ˜¯ä½¿ç”¨ Sprintf å‡½æ•°ï¼Œå’Œ Printf ç•¥ç±»ä¼¼ï¼Œä½†æ˜¯ä¼šè¿”å›ä¸€ä¸ª string</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line">countdown <span class="token operator">:=</span> <span class="token number">9</span></span>
<span class="line">str <span class="token operator">:=</span> fmt<span class="token punctuation">.</span><span class="token function">Sprintf</span><span class="token punctuation">(</span><span class="token string">&quot;Launch in T minus %v seconds.&quot;</span><span class="token punctuation">,</span> countdown<span class="token punctuation">)</span></span>
<span class="line">fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span> <span class="token comment">// Launch in T minus 9 seconds.</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><p>strconv åŒ…ä¸­çš„ Atoi å‡½æ•°ï¼ˆASCII to Integerï¼‰ï¼Œç”±äºå­—ç¬¦ä¸²é‡Œé¢å¯èƒ½åŒ…å«ä»»æ„å­—ç¬¦ï¼Œæˆ–è€…è¦è½¬æ¢çš„æ•°å­—å­—ç¬¦ä¸²å¤ªå¤§ï¼Œæ‰€ä»¥ Atoi å‡½æ•°å¯èƒ½ä¼šå‘ç”Ÿé”™è¯¯</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line">countdown<span class="token punctuation">,</span> err <span class="token operator">:=</span> strconv<span class="token punctuation">.</span><span class="token function">Atoi</span><span class="token punctuation">(</span><span class="token string">&quot;10ds&quot;</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token comment">// handle error</span></span>
<span class="line">  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>err<span class="token punctuation">.</span><span class="token function">Error</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// strconv.Atoi: parsing &quot;10ds&quot;: invalid syntax</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line">fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>countdown<span class="token punctuation">)</span> <span class="token comment">// 0</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><h5 id="strconv" tabindex="-1"><a class="header-anchor" href="#strconv"><span>strconv</span></a></h5><p>å¸¸ç”¨çš„ä¸¤ä¸ªæ–¹æ³•ï¼š</p><ul><li>strconv.Atoi</li><li>strconv.Itoa</li></ul><p>å°†å…¶ä»–åŸºæœ¬ç±»å‹ format ä¸º string ç±»å‹</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line">iStr <span class="token operator">:=</span> strconv<span class="token punctuation">.</span><span class="token function">FormatInt</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">42</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">)</span></span>
<span class="line">fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;%v æ˜¯ %[1]T\n&quot;</span><span class="token punctuation">,</span> iStr<span class="token punctuation">)</span> <span class="token comment">// -2a æ˜¯ string</span></span>
<span class="line"></span>
<span class="line">bStr <span class="token operator">:=</span> strconv<span class="token punctuation">.</span><span class="token function">FormatBool</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span></span>
<span class="line">fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;%v æ˜¯ %[1]T\n&quot;</span><span class="token punctuation">,</span> bStr<span class="token punctuation">)</span> <span class="token comment">// true æ˜¯ string</span></span>
<span class="line"></span>
<span class="line">fStr <span class="token operator">:=</span> strconv<span class="token punctuation">.</span><span class="token function">FormatFloat</span><span class="token punctuation">(</span><span class="token number">3.1415</span><span class="token punctuation">,</span> <span class="token char">&#39;E&#39;</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">32</span><span class="token punctuation">)</span></span>
<span class="line">fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;%v æ˜¯ %[1]T\n&quot;</span><span class="token punctuation">,</span> fStr<span class="token punctuation">)</span> <span class="token comment">// 3.1415E+00 æ˜¯ string</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><p>å°† string ç±»å‹ parse ä¸ºå…¶ä»–åŸºæœ¬ç±»å‹</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line">i<span class="token punctuation">,</span> err <span class="token operator">:=</span> strconv<span class="token punctuation">.</span><span class="token function">ParseInt</span><span class="token punctuation">(</span><span class="token string">&quot;-42&quot;</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">if</span> err <span class="token operator">==</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span></span>
<span class="line">	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;%v æ˜¯ %[1]T\n&quot;</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span> <span class="token comment">// -66 æ˜¯ int64</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">b<span class="token punctuation">,</span> err <span class="token operator">:=</span> strconv<span class="token punctuation">.</span><span class="token function">ParseBool</span><span class="token punctuation">(</span><span class="token string">&quot;true&quot;</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">if</span> err <span class="token operator">==</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span></span>
<span class="line">	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;%v æ˜¯ %[1]T\n&quot;</span><span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token comment">// true æ˜¯ bool</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">f<span class="token punctuation">,</span> err <span class="token operator">:=</span> strconv<span class="token punctuation">.</span><span class="token function">ParseFloat</span><span class="token punctuation">(</span><span class="token string">&quot;3.1415&quot;</span><span class="token punctuation">,</span> <span class="token number">64</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">if</span> err <span class="token operator">==</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span></span>
<span class="line">	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;%v æ˜¯ %[1]T\n&quot;</span><span class="token punctuation">,</span> f<span class="token punctuation">)</span> <span class="token comment">// 3.1415 æ˜¯ float64</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><h3 id="å‡½æ•°" tabindex="-1"><a class="header-anchor" href="#å‡½æ•°"><span>å‡½æ•°</span></a></h3><p>ä½¿ç”¨ func å…³é”®å­—</p><p>å¤§å†™å­—æ¯å¼€å¤´çš„å‡½æ•°ã€å˜é‡æˆ–å…¶ä»–æ ‡è¯†ç¬¦éƒ½ä¼šè¢«å¯¼å‡ºï¼Œå¯¹å…¶ä»–åŒ…å¯ç”¨ï¼›å°å†™å­—æ¯å¼€å¤´çš„åˆ™ä¸ä¼š</p><p>å®å‚ï¼ˆargumentï¼‰å’Œå½¢å‚ï¼ˆparameterï¼‰</p><p>å‡½æ•°å£°æ˜æ—¶ï¼Œå¦‚æœå¤šä¸ªå½¢å‚ç±»å‹ç›¸åŒï¼Œé‚£ä¹ˆè¯¥ç±»å‹åªå†™ä¸€æ¬¡å³å¯ï¼š</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line"><span class="token comment">// func Unix(sec int64, nsec int64) Time</span></span>
<span class="line"><span class="token keyword">func</span> <span class="token function">Unix</span><span class="token punctuation">(</span>sec<span class="token punctuation">,</span> nsec <span class="token builtin">int64</span><span class="token punctuation">)</span> Time</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><p>Go çš„å‡½æ•°å¯ä»¥è¿”å›å¤šä¸ªå€¼</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line">countdown<span class="token punctuation">,</span> err <span class="token operator">:=</span> strconv<span class="token punctuation">.</span><span class="token function">Atoi</span><span class="token punctuation">(</span><span class="token string">&quot;10&quot;</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><blockquote><p>ä¸Šé¢çš„å‡½æ•°å£°æ˜ä¸º <code>func Atoi(s string) (i int, err error)</code></p></blockquote><p>å‡½æ•°çš„å¤šä¸ªè¿”å›å€¼éœ€è¦ç”¨æ‹¬å·æ‹¬èµ·æ¥ï¼Œæ¯ä¸ªè¿”å›å€¼åå­—åœ¨å‰ï¼Œç±»å‹åœ¨åã€‚å£°æ˜å‡½æ•°æ—¶å¯ä»¥æŠŠåå­—å»æ‰ï¼Œåªä¿ç•™ç±»å‹ï¼š</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line"><span class="token keyword">func</span> <span class="token function">Atoi</span><span class="token punctuation">(</span>s <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token builtin">error</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><p>Println æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„å‡½æ•°ï¼Œå®ƒå¯ä»¥æ¥æ”¶ä¸€ä¸ªã€ä¸¤ä¸ªç”šè‡³å¤šä¸ªå‚æ•°ï¼Œå‚æ•°ç±»å‹è¿˜å¯ä»¥ä¸åŒã€‚å…¶å£°æ˜å¦‚ä¸‹ï¼š</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line"><span class="token keyword">func</span> <span class="token function">Println</span><span class="token punctuation">(</span>a <span class="token operator">...</span><span class="token keyword">interface</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>n <span class="token builtin">int</span><span class="token punctuation">,</span> err <span class="token builtin">error</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><blockquote><p><code>...</code> è¡¨ç¤ºå‡½æ•°çš„å‚æ•°æ•°é‡æ˜¯å¯å˜çš„</p><p>å‚æ•° <code>a</code> çš„ç±»å‹ä¸º <code>interface{}</code>ï¼Œæ˜¯ä¸€ä¸ªç©ºæ¥å£</p></blockquote><p>ç¼–å†™å‡½æ•°</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line"><span class="token keyword">func</span> <span class="token function">kelvinToCelsius</span><span class="token punctuation">(</span>k <span class="token builtin">float64</span><span class="token punctuation">)</span> <span class="token builtin">float64</span> <span class="token punctuation">{</span></span>
<span class="line">  k <span class="token operator">-=</span> <span class="token number">273.15</span></span>
<span class="line">  <span class="token keyword">return</span> k</span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  k <span class="token operator">:=</span> <span class="token number">294.0</span></span>
<span class="line">  c <span class="token operator">:=</span> <span class="token function">kelvinToCelsius</span><span class="token punctuation">(</span>k<span class="token punctuation">)</span></span>
<span class="line">  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>k<span class="token punctuation">,</span> <span class="token string">&quot;Â°K is&quot;</span><span class="token punctuation">,</span> c<span class="token punctuation">,</span> <span class="token string">&quot;Â°C&quot;</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><blockquote><p>å‡½æ•°æŒ‰å€¼ä¼ é€’</p><p>åŒä¸€ä¸ªåŒ…ä¸­å£°æ˜çš„å‡½æ•°åœ¨è°ƒç”¨æ—¶å½¼æ­¤ä¸éœ€è¦åŠ ä¸ŠåŒ…å</p></blockquote><h3 id="æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#æ–¹æ³•"><span>æ–¹æ³•</span></a></h3><h4 id="å£°æ˜æ–°ç±»å‹" tabindex="-1"><a class="header-anchor" href="#å£°æ˜æ–°ç±»å‹"><span>å£°æ˜æ–°ç±»å‹</span></a></h4><p>å…³é”®å­— type ç”¨æ¥å£°æ˜æ–°ç±»å‹</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line"><span class="token keyword">type</span> celsius <span class="token builtin">float64</span></span>
<span class="line"><span class="token keyword">const</span> degrees <span class="token operator">=</span> <span class="token number">20</span></span>
<span class="line"><span class="token keyword">var</span> temperature celsius <span class="token operator">=</span> degrees</span>
<span class="line">temperature <span class="token operator">+=</span> <span class="token number">10</span></span>
<span class="line">fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>temperature<span class="token punctuation">)</span> <span class="token comment">// 30</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><p>ä¸ºä»€ä¹ˆå£°æ˜æ–°ç±»å‹ï¼Ÿæå¤§åœ°æé«˜ä»£ç å¯è¯»æ€§å’Œå¯é æ€§</p><p>ä¸åŒçš„ç±»å‹æ˜¯æ— æ³•æ··ç”¨çš„</p><p>å£°æ˜å‡½æ•°ç±»å‹</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line"><span class="token keyword">type</span> sensor <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> kelvin</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><h4 id="é€šè¿‡æ–¹æ³•æ·»åŠ è¡Œä¸º" tabindex="-1"><a class="header-anchor" href="#é€šè¿‡æ–¹æ³•æ·»åŠ è¡Œä¸º"><span>é€šè¿‡æ–¹æ³•æ·»åŠ è¡Œä¸º</span></a></h4><p>åœ¨ Go é‡Œï¼Œå®ƒæä¾›äº†æ–¹æ³•ï¼Œä½†æ˜¯æ²¡æä¾›ç±»å’Œå¯¹è±¡</p><p>Go æ¯”å…¶ä»–è¯­è¨€çš„æ–¹æ³•è¦çµæ´»</p><p>å¯ä»¥å°†æ–¹æ³•ä¸åŒåŒ…ä¸­å£°æ˜çš„ä»»ä½•ç±»å‹ç›¸å…³è”ï¼Œä½†ä¸å¯ä»¥æ˜¯ intã€float32 ç­‰é¢„å£°æ˜çš„ç±»å‹</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line"><span class="token keyword">type</span> celsius <span class="token builtin">float64</span></span>
<span class="line"><span class="token keyword">type</span> kelvin <span class="token builtin">float64</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">func</span> <span class="token function">kelvinToCelsius</span><span class="token punctuation">(</span>k kelvin<span class="token punctuation">)</span> celsius <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">return</span> <span class="token function">celsius</span><span class="token punctuation">(</span>k <span class="token operator">-</span> <span class="token number">273.15</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">func</span> <span class="token punctuation">(</span>k kelvin<span class="token punctuation">)</span> <span class="token function">celsius</span><span class="token punctuation">(</span><span class="token punctuation">)</span> celsius <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">return</span> <span class="token function">celsius</span><span class="token punctuation">(</span>k <span class="token operator">-</span> <span class="token number">273.15</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><blockquote><p>celsius æ–¹æ³•è™½ç„¶æ²¡æœ‰å‚æ•°ï¼Œä½†å®ƒå‰é¢å´æœ‰ä¸€ä¸ªç±»å‹å‚æ•°çš„æ¥æ”¶è€…</p><p>æ¯ä¸ªæ–¹æ³•å¯ä»¥æœ‰å¤šä¸ªå‚æ•°ï¼Œä½†åªèƒ½æœ‰ä¸€ä¸ªæ¥æ”¶è€…</p><p>æ¥æ”¶è€…çš„è¡Œä¸ºå’Œå…¶ä»–å‚æ•°æ˜¯ä¸€æ ·çš„</p></blockquote><h4 id="æ–¹æ³•è°ƒç”¨" tabindex="-1"><a class="header-anchor" href="#æ–¹æ³•è°ƒç”¨"><span>æ–¹æ³•è°ƒç”¨</span></a></h4><p>å˜é‡.æ–¹æ³•å(å‚æ•°)</p><h4 id="ä¸€ç­‰å‡½æ•°" tabindex="-1"><a class="header-anchor" href="#ä¸€ç­‰å‡½æ•°"><span>ä¸€ç­‰å‡½æ•°</span></a></h4><p>åœ¨ Go é‡Œï¼Œå‡½æ•°æ˜¯å¤´ç­‰çš„ï¼Œå®ƒå¯ä»¥ç”¨åœ¨æ•´æ•°ã€å­—ç¬¦ä¸²æˆ–å…¶ä»–ç±»å‹èƒ½ç”¨çš„åœ°æ–¹ï¼š</p><ul><li>å°†å‡½æ•°èµ‹ç»™å˜é‡</li><li>å°†å‡½æ•°ä½œä¸ºå‚æ•°ä¼ é€’ç»™å‡½æ•°</li><li>å°†å‡½æ•°ä½œä¸ºå‡½æ•°çš„è¿”å›ç±»å‹</li></ul><h4 id="é—­åŒ…å’ŒåŒ¿åå‡½æ•°" tabindex="-1"><a class="header-anchor" href="#é—­åŒ…å’ŒåŒ¿åå‡½æ•°"><span>é—­åŒ…å’ŒåŒ¿åå‡½æ•°</span></a></h4><p>åŒ¿åå‡½æ•°å°±æ˜¯æ²¡æœ‰åå­—çš„å‡½æ•°ï¼Œåœ¨ Go é‡Œä¹Ÿç§°ä½œå‡½æ•°å­—é¢å€¼</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line"><span class="token keyword">var</span> f <span class="token operator">=</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;Dress up for the masquerade.&quot;</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">f <span class="token operator">:=</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;Dress up for the masquerade.&quot;</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;Dress up for the masquerade.&quot;</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><p>å› ä¸ºå‡½æ•°å­—é¢å€¼éœ€è¦ä¿ç•™å¤–éƒ¨ä½œç”¨åŸŸçš„å˜é‡å¼•ç”¨ï¼Œæ‰€ä»¥å‡½æ•°å­—é¢å€¼éƒ½æ˜¯é—­åŒ…çš„</p><p>é—­åŒ…å°±æ˜¯ç”±äºåŒ¿åå‡½æ•°å°é—­å¹¶åŒ…å›´ä½œç”¨åŸŸä¸­çš„å˜é‡è€Œå¾—å</p><h3 id="æ•°ç»„" tabindex="-1"><a class="header-anchor" href="#æ•°ç»„"><span>æ•°ç»„</span></a></h3><p>æ•°ç»„æ˜¯ä¸€ç§å›ºå®šé•¿åº¦ä¸”æœ‰åºçš„å…ƒç´ é›†åˆ</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line"><span class="token keyword">var</span> colors <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token builtin">string</span></span>
<span class="line">colors<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;Red&quot;</span></span>
<span class="line">colors<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;Green&quot;</span></span>
<span class="line"></span>
<span class="line">color <span class="token operator">:=</span> colors<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span></span>
<span class="line">fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>color<span class="token punctuation">)</span> <span class="token comment">// Green</span></span>
<span class="line">fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>colors<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span> <span class="token comment">// true</span></span>
<span class="line">fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token function">len</span><span class="token punctuation">(</span>colors<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 3</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><blockquote><p>æ•°ç»„çš„é•¿åº¦å¯ä»¥ç”±å†…ç½®å‡½æ•° len ç¡®å®š</p><p>åœ¨å£°æ˜æ•°ç»„æ—¶ï¼Œæœªè¢«èµ‹å€¼å…ƒç´ çš„å€¼æ˜¯å¯¹åº”ç±»å‹çš„é›¶å€¼</p></blockquote><h4 id="æ•°ç»„è¶Šç•Œ" tabindex="-1"><a class="header-anchor" href="#æ•°ç»„è¶Šç•Œ"><span>æ•°ç»„è¶Šç•Œ</span></a></h4><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line"><span class="token keyword">var</span> colors <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token builtin">string</span></span>
<span class="line">colors<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;Red&quot;</span></span>
<span class="line">i <span class="token operator">:=</span> <span class="token number">3</span></span>
<span class="line">fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>colors<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// panic: runtime error: index out of range</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><blockquote><p>Go ç¼–è¯‘å™¨åœ¨æ£€æµ‹åˆ°å¯¹è¶Šç•Œå…ƒç´ çš„è®¿é—®æ—¶ä¼šæŠ¥é”™</p><p>å¦‚æœ Go ç¼–è¯‘å™¨åœ¨ç¼–è¯‘æ—¶æœªèƒ½å‘ç°è¶Šç•Œé”™è¯¯ï¼Œé‚£ä¹ˆç¨‹åºåœ¨è¿è¡Œæ—¶ä¼šå‡ºç° Panic</p><p>Panic ä¼šå¯¼è‡´ç¨‹åºå´©æºƒ</p></blockquote><h4 id="ä½¿ç”¨å¤åˆå­—é¢å€¼åˆå§‹åŒ–æ•°ç»„" tabindex="-1"><a class="header-anchor" href="#ä½¿ç”¨å¤åˆå­—é¢å€¼åˆå§‹åŒ–æ•°ç»„"><span>ä½¿ç”¨å¤åˆå­—é¢å€¼åˆå§‹åŒ–æ•°ç»„</span></a></h4><p>å¤åˆå­—é¢å€¼ï¼ˆcomposite literalï¼‰æ˜¯ä¸€ç§ç”¨äºåˆå§‹åŒ–å¤åˆç±»å‹ï¼ˆæ•°ç»„ã€åˆ‡ç‰‡ã€å­—å…¸å’Œç»“æ„ä½“ï¼‰çš„ç´§å‡‘è¯­æ³•</p><p>åªç”¨ä¸€æ­¥å°±å®Œæˆæ•°ç»„å£°æ˜å’Œæ•°ç»„åˆå§‹åŒ–</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line">colors <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token string">&quot;Red&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Green&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Blue&quot;</span><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><p>å¯ä»¥åœ¨å¤åˆå­—é¢å€¼é‡Œä½¿ç”¨ ... ä½œä¸ºæ•°ç»„çš„é•¿åº¦ï¼Œè¿™æ · Go ç¼–è¯‘å™¨ä¼šè‡ªåŠ¨ç®—å‡ºæ•°ç»„çš„å…ƒç´ æ•°é‡</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line">colors <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token string">&quot;Red&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Green&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Blue&quot;</span><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><blockquote><p>æ— è®ºå“ªç§æ–¹å¼ï¼Œæ•°ç»„çš„é•¿åº¦éƒ½æ˜¯å›ºå®šçš„</p></blockquote><h4 id="éå†æ•°ç»„" tabindex="-1"><a class="header-anchor" href="#éå†æ•°ç»„"><span>éå†æ•°ç»„</span></a></h4><p>for å¾ªç¯</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line">dwarfs <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token string">&quot;Ceres&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Pluto&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Haumea&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Makemake&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Eris&quot;</span><span class="token punctuation">}</span></span>
<span class="line"><span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token function">len</span><span class="token punctuation">(</span>dwarfs<span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{</span></span>
<span class="line">  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> dwarfs<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><p>range å…³é”®å­—</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line">dwarfs <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token string">&quot;Ceres&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Pluto&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Haumea&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Makemake&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Eris&quot;</span><span class="token punctuation">}</span></span>
<span class="line"><span class="token keyword">for</span> i<span class="token punctuation">,</span> dwarf <span class="token operator">:=</span> <span class="token keyword">range</span> dwarfs <span class="token punctuation">{</span></span>
<span class="line">  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> dwarf<span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><h4 id="æ•°ç»„çš„å¤åˆ¶" tabindex="-1"><a class="header-anchor" href="#æ•°ç»„çš„å¤åˆ¶"><span>æ•°ç»„çš„å¤åˆ¶</span></a></h4><p>æ— è®ºæ•°ç»„èµ‹å€¼ç»™æ–°çš„å˜é‡è¿˜æ˜¯å°†å®ƒä¼ é€’ç»™å‡½æ•°ï¼Œéƒ½ä¼šäº§ç”Ÿä¸€ä¸ªå®Œæ•´çš„æ•°ç»„å‰¯æœ¬</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line">planets <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token string">&quot;Mercury&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Venus&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Earth&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Mars&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Jupiter&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Saturn&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Uranus&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Neptune&quot;</span><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">planetsMarkII <span class="token operator">:=</span> planets</span>
<span class="line">planets<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;whoops&quot;</span></span>
<span class="line">fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>planets<span class="token punctuation">)</span> <span class="token comment">// [Mercury Venus whoops Mars Jupiter Saturn Uranus Neptune]</span></span>
<span class="line">fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>planetsMarkII<span class="token punctuation">)</span> <span class="token comment">// [Mercury Venus Earth Mars Jupiter Saturn Uranus Neptune]</span></span>
<span class="line">fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>planets <span class="token operator">==</span> planetsMarkII<span class="token punctuation">)</span> <span class="token comment">// false</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><blockquote><p>æ•°ç»„ä¹Ÿæ˜¯ä¸€ç§å€¼ï¼Œå‡½æ•°é€šè¿‡å€¼ä¼ é€’æ¥æ¥å—å‚æ•°ï¼Œæ‰€ä»¥æ•°ç»„ä½œä¸ºå‡½æ•°çš„å‚æ•°å°±éå¸¸ä½æ•ˆ</p><p>æ•°ç»„çš„é•¿åº¦ä¹Ÿæ˜¯æ•°ç»„ç±»å‹çš„ä¸€éƒ¨åˆ†ï¼Œå°†é•¿åº¦ä¸ç¬¦çš„æ•°ç»„ä½œä¸ºå‚æ•°ä¼ é€’ä¼šæŠ¥é”™</p><p>å‡½æ•°ä¸€èˆ¬ä½¿ç”¨ slice è€Œä¸æ˜¯æ•°ç»„ä½œä¸ºå‚æ•°</p></blockquote><h4 id="æ•°ç»„çš„æ•°ç»„" tabindex="-1"><a class="header-anchor" href="#æ•°ç»„çš„æ•°ç»„"><span>æ•°ç»„çš„æ•°ç»„</span></a></h4><p>äºŒç»´æ•°ç»„</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line"><span class="token keyword">var</span> board <span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token builtin">string</span></span>
<span class="line"></span>
<span class="line">board<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;r&quot;</span></span>
<span class="line">board<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;r&quot;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">for</span> column <span class="token operator">:=</span> <span class="token keyword">range</span> board<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token punctuation">{</span></span>
<span class="line">  board<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>column<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;p&quot;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>board<span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><h3 id="åˆ‡ç‰‡-slice" tabindex="-1"><a class="header-anchor" href="#åˆ‡ç‰‡-slice"><span>åˆ‡ç‰‡ Slice</span></a></h3><h4 id="slice-æŒ‡å‘æ•°ç»„çš„çª—å£" tabindex="-1"><a class="header-anchor" href="#slice-æŒ‡å‘æ•°ç»„çš„çª—å£"><span>Slice æŒ‡å‘æ•°ç»„çš„çª—å£</span></a></h4><p>å‡è®¾ planets æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œé‚£ä¹ˆ planets[0:4] å°±æ˜¯ä¸€ä¸ªåˆ‡ç‰‡ï¼Œå®ƒæŒ‡å‘ planets æ•°ç»„çš„å‰ 4 ä¸ªå…ƒç´ </p><p>åˆ‡åˆ†æ•°ç»„ä¸ä¼šå¯¼è‡´æ•°ç»„è¢«ä¿®æ”¹ï¼Œå®ƒåªæ˜¯åˆ›å»ºäº†æŒ‡å‘æ•°ç»„çš„ä¸€ä¸ªçª—å£æˆ–è§†å›¾ï¼Œè¿™ç§è§†å›¾å°±æ˜¯ slice ç±»å‹</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line">planets <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token string">&quot;Mercury&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Venus&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Earth&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Mars&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Jupiter&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Saturn&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Uranus&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Neptune&quot;</span><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// terrestrial := planets[0:4]</span></span>
<span class="line">terrestrial <span class="token operator">:=</span> planets<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">4</span><span class="token punctuation">]</span></span>
<span class="line">gasGiants <span class="token operator">:=</span> planets<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">:</span><span class="token number">6</span><span class="token punctuation">]</span></span>
<span class="line"><span class="token comment">// iceGiants := planets[6:8]</span></span>
<span class="line">iceGiants <span class="token operator">:=</span> planets<span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">:</span><span class="token punctuation">]</span></span>
<span class="line"></span>
<span class="line">allPlanets <span class="token operator">:=</span> planets<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">]</span></span>
<span class="line"></span>
<span class="line">fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>terrestrial<span class="token punctuation">)</span> <span class="token comment">// [Mercury Venus Earth Mars]</span></span>
<span class="line">fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>gasGiants<span class="token punctuation">)</span> <span class="token comment">// [Jupiter Saturn]</span></span>
<span class="line">fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>iceGiants<span class="token punctuation">)</span> <span class="token comment">// [Uranus Neptune]</span></span>
<span class="line">fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>allPlanets<span class="token punctuation">)</span> <span class="token comment">// [Mercury Venus Earth Mars Jupiter Saturn Uranus Neptune]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><blockquote><p>å¿½ç•¥æ‰ slice çš„èµ·å§‹ç´¢å¼•ï¼Œè¡¨ç¤ºä»æ•°ç»„çš„èµ·å§‹ä½ç½®è¿›è¡Œåˆ‡åˆ†</p><p>å¿½ç•¥æ‰ slice çš„ç»“æŸç´¢å¼•ï¼Œç›¸å½“äºä½¿ç”¨æ•°ç»„çš„é•¿åº¦ä½œä¸ºç»“æŸç´¢å¼•</p><p>æ³¨æ„ï¼šslice çš„ç´¢å¼•ä¸èƒ½æ˜¯è´Ÿæ•°</p></blockquote><p>åˆ‡åˆ†æ•°ç»„çš„è¯­æ³•ä¹Ÿå¯ä»¥ç”¨äºåˆ‡åˆ†å­—ç¬¦ä¸²</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line">s <span class="token operator">:=</span> <span class="token string">&quot;hello, world&quot;</span></span>
<span class="line">c <span class="token operator">:=</span> s<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token number">5</span><span class="token punctuation">]</span></span>
<span class="line">s <span class="token operator">=</span> <span class="token string">&quot;1111111&quot;</span></span>
<span class="line">fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// hello</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><p>åˆ‡åˆ†å­—ç¬¦ä¸²æ—¶ï¼Œç´¢å¼•ä»£è¡¨çš„æ—¶å­—èŠ‚æ•°è€Œé rune æ•°</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line">question <span class="token operator">:=</span> <span class="token string">&quot;Â¿CÃ³mo estÃ¡s?&quot;</span></span>
<span class="line">fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>question<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// Â¿CÃ³mo</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><h4 id="slice-çš„å¤åˆå­—é¢å€¼" tabindex="-1"><a class="header-anchor" href="#slice-çš„å¤åˆå­—é¢å€¼"><span>Slice çš„å¤åˆå­—é¢å€¼</span></a></h4><p>åˆ‡åˆ†æ•°ç»„å¹¶ä¸æ˜¯åˆ›å»º slice çš„å”¯ä¸€æ–¹æ³•ï¼Œå¯ä»¥ç›´æ¥å£°æ˜ slice</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line">dwarfArray <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token string">&quot;Ceres&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Pluto&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Haumea&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Makemake&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Eris&quot;</span><span class="token punctuation">}</span></span>
<span class="line">dwarfs <span class="token operator">:=</span> dwarfArray<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">]</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// ç›´æ¥å£°æ˜ sliceï¼Œä¸éœ€è¦æŒ‡å®šé•¿åº¦</span></span>
<span class="line">dwarfs <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token string">&quot;Ceres&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Pluto&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Haumea&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Makemake&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Eris&quot;</span><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><p>åˆ‡ç‰‡åº”ç”¨</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line"><span class="token keyword">func</span> <span class="token function">hyperspace</span><span class="token punctuation">(</span>worlds <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token keyword">range</span> worlds <span class="token punctuation">{</span></span>
<span class="line">    worlds<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> strings<span class="token punctuation">.</span><span class="token function">TrimSpace</span><span class="token punctuation">(</span>worlds<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  planets <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token string">&quot; Venus  &quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Earth &quot;</span><span class="token punctuation">,</span> <span class="token string">&quot; Mars&quot;</span><span class="token punctuation">}</span></span>
<span class="line">  <span class="token function">hyperspace</span><span class="token punctuation">(</span>planets<span class="token punctuation">)</span></span>
<span class="line">  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>strings<span class="token punctuation">.</span><span class="token function">Join</span><span class="token punctuation">(</span>planets<span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// VenusEarthMars</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><h4 id="å¸¦æœ‰æ–¹æ³•çš„åˆ‡ç‰‡" tabindex="-1"><a class="header-anchor" href="#å¸¦æœ‰æ–¹æ³•çš„åˆ‡ç‰‡"><span>å¸¦æœ‰æ–¹æ³•çš„åˆ‡ç‰‡</span></a></h4><p>åœ¨ Go é‡Œï¼Œå¯ä»¥å°† slice æˆ–æ•°ç»„ä½œä¸ºåº•å±‚ç±»å‹ï¼Œç„¶åç»‘å®šå…¶å®ƒæ–¹æ³•</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line">planets <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token string">&quot;Venus&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Earth&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Mars&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Jupiter&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Saturn&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Uranus&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Neptune&quot;</span><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">sort<span class="token punctuation">.</span><span class="token function">StringSlice</span><span class="token punctuation">(</span>planets<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Sort</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>planets<span class="token punctuation">)</span> <span class="token comment">// [Earth Jupiter Mars Neptune Saturn Uranus Venus]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><h4 id="æ›´å¤§çš„-slice" tabindex="-1"><a class="header-anchor" href="#æ›´å¤§çš„-slice"><span>æ›´å¤§çš„ slice</span></a></h4><p>append å‡½æ•°ä¹Ÿæ˜¯å†…ç½®å‡½æ•°ï¼Œå®ƒç”¨äºå‘ slice é‡Œè¿½åŠ å…ƒç´ </p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line">dwarfs <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token string">&quot;Ceres&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Pluto&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Haumea&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Makemake&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Eris&quot;</span><span class="token punctuation">}</span></span>
<span class="line">dwarfs <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>dwarfs<span class="token punctuation">,</span> <span class="token string">&quot;Orcus&quot;</span><span class="token punctuation">)</span></span>
<span class="line">fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>dwarfs<span class="token punctuation">)</span> <span class="token comment">// [Ceres Pluto Haumea Makemake Eris Orcus]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><h4 id="é•¿åº¦å’Œå®¹é‡-length-capacity" tabindex="-1"><a class="header-anchor" href="#é•¿åº¦å’Œå®¹é‡-length-capacity"><span>é•¿åº¦å’Œå®¹é‡ï¼ˆlength &amp; capacityï¼‰</span></a></h4><p>Slice ä¸­å…ƒç´ çš„ä¸ªæ•°å†³å®šäº† slice çš„é•¿åº¦</p><p>å¦‚æœ slice çš„åº•å±‚æ•°ç»„æ¯” slice è¿˜å¤§ï¼Œé‚£ä¹ˆå°±è¯´ slice è¿˜æœ‰å®¹é‡å¯ä¾›å¢é•¿</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line"><span class="token keyword">func</span> <span class="token function">dump</span><span class="token punctuation">(</span>label <span class="token builtin">string</span><span class="token punctuation">,</span> slice <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;%v: length %v, capacity %v %v\n&quot;</span><span class="token punctuation">,</span> label<span class="token punctuation">,</span> <span class="token function">len</span><span class="token punctuation">(</span>slice<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">cap</span><span class="token punctuation">(</span>slice<span class="token punctuation">)</span><span class="token punctuation">,</span> slice<span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  dwarfs <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token string">&quot;Ceres&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Pluto&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Haumea&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Makemake&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Eris&quot;</span><span class="token punctuation">}</span></span>
<span class="line">  <span class="token function">dump</span><span class="token punctuation">(</span><span class="token string">&quot;dwarfs&quot;</span><span class="token punctuation">,</span> dwarfs<span class="token punctuation">)</span> <span class="token comment">// dwarfs: length 5, capacity 5 [Ceres Pluto Haumea Makemake Eris]</span></span>
<span class="line">  <span class="token function">dump</span><span class="token punctuation">(</span><span class="token string">&quot;dwarfs[1:2]&quot;</span><span class="token punctuation">,</span> dwarfs<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// dwarfs[1:2]: length 1, capacity 4 [Pluto]</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><p>å†ç»“åˆ append å‡½æ•°çœ‹ä¸€çœ‹</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line"><span class="token keyword">func</span> <span class="token function">dump</span><span class="token punctuation">(</span>label <span class="token builtin">string</span><span class="token punctuation">,</span> slice <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;%v: length %v, capacity %v %v\n&quot;</span><span class="token punctuation">,</span> label<span class="token punctuation">,</span> <span class="token function">len</span><span class="token punctuation">(</span>slice<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">cap</span><span class="token punctuation">(</span>slice<span class="token punctuation">)</span><span class="token punctuation">,</span> slice<span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  dwarfs1 <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token string">&quot;Ceres&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Pluto&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Haumea&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Makemake&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Eris&quot;</span><span class="token punctuation">}</span></span>
<span class="line">  dwarfs2 <span class="token operator">:=</span> <span class="token function">append</span><span class="token punctuation">(</span>dwarfs1<span class="token punctuation">,</span> <span class="token string">&quot;Orcus&quot;</span><span class="token punctuation">)</span></span>
<span class="line">  dwarfs3 <span class="token operator">:=</span> <span class="token function">append</span><span class="token punctuation">(</span>dwarfs2<span class="token punctuation">,</span> <span class="token string">&quot;Salacia&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Quaoar&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Sedna&quot;</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">  <span class="token function">dump</span><span class="token punctuation">(</span><span class="token string">&quot;dwarfs1&quot;</span><span class="token punctuation">,</span> dwarfs1<span class="token punctuation">)</span> <span class="token comment">// dwarfs1: length 5, capacity 5 [Ceres Pluto Haumea Makemake Eris]</span></span>
<span class="line">  <span class="token function">dump</span><span class="token punctuation">(</span><span class="token string">&quot;dwarfs2&quot;</span><span class="token punctuation">,</span> dwarfs2<span class="token punctuation">)</span> <span class="token comment">// dwarfs2: length 6, capacity 10 [Ceres Pluto Haumea Makemake Eris Orcus]</span></span>
<span class="line">  <span class="token function">dump</span><span class="token punctuation">(</span><span class="token string">&quot;dwarfs3&quot;</span><span class="token punctuation">,</span> dwarfs3<span class="token punctuation">)</span> <span class="token comment">// dwarfs3: length 9, capacity 10 [Ceres Pluto Haumea Makemake Eris Orcus Salacia Quaoar Sedna]</span></span>
<span class="line"></span>
<span class="line">  dwarfs3<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;Pluto!&quot;</span></span>
<span class="line">  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>dwarfs1<span class="token punctuation">)</span> <span class="token comment">// [Ceres Pluto Haumea Makemake Eris]</span></span>
<span class="line">	<span class="token comment">/* ä¸‹é¢ä¸¤ä¸ªåˆ‡ç‰‡çš„åº•å±‚æ•°ç»„æ˜¯ç›¸åŒçš„ */</span></span>
<span class="line">  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>dwarfs2<span class="token punctuation">)</span> <span class="token comment">// [Ceres Pluto! Haumea Makemake Eris Orcus]</span></span>
<span class="line">  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>dwarfs3<span class="token punctuation">)</span> <span class="token comment">// [Ceres Pluto! Haumea Makemake Eris Orcus Salacia Quaoar Sedna]</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><h4 id="ä¸‰ä¸ªç´¢å¼•çš„åˆ‡åˆ†æ“ä½œ" tabindex="-1"><a class="header-anchor" href="#ä¸‰ä¸ªç´¢å¼•çš„åˆ‡åˆ†æ“ä½œ"><span>ä¸‰ä¸ªç´¢å¼•çš„åˆ‡åˆ†æ“ä½œ</span></a></h4><p>Go 1.2 ä¸­å¼•å…¥äº†èƒ½å¤Ÿé™åˆ¶æ–°å»ºåˆ‡ç‰‡å®¹é‡çš„ä¸‰ç´¢å¼•åˆ‡åˆ†æ“ä½œ</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line"><span class="token keyword">func</span> <span class="token function">dump</span><span class="token punctuation">(</span>label <span class="token builtin">string</span><span class="token punctuation">,</span> slice <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;%v: length %v, capacity %v %v\n&quot;</span><span class="token punctuation">,</span> label<span class="token punctuation">,</span> <span class="token function">len</span><span class="token punctuation">(</span>slice<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">cap</span><span class="token punctuation">(</span>slice<span class="token punctuation">)</span><span class="token punctuation">,</span> slice<span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  planets <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token string">&quot;Mercury&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Venus&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Earth&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Mars&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Jupiter&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Saturn&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Uranus&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Neptune&quot;</span><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">  terrestrials <span class="token operator">:=</span> planets<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token number">4</span><span class="token punctuation">:</span><span class="token number">4</span><span class="token punctuation">]</span> <span class="token comment">// åˆæ–°åˆ†é…äº†ä¸€ä¸ªæ•°ç»„ï¼Œé•¿åº¦ä¸º 4ï¼Œå®¹é‡ä¸º 4</span></span>
<span class="line">  worlds <span class="token operator">:=</span> <span class="token function">append</span><span class="token punctuation">(</span>terrestrials<span class="token punctuation">,</span> <span class="token string">&quot;Ceres&quot;</span><span class="token punctuation">)</span> <span class="token comment">// åˆæ–°åˆ†é…äº†ä¸€ä¸ªæ•°ç»„ï¼Œé•¿åº¦ä¸º 4ï¼Œå®¹é‡ä¸º 8</span></span>
<span class="line">  <span class="token function">dump</span><span class="token punctuation">(</span><span class="token string">&quot;terrestrials&quot;</span><span class="token punctuation">,</span> terrestrials<span class="token punctuation">)</span> <span class="token comment">// terrestrials: length 4, capacity 4 [Mercury Venus Earth Mars]</span></span>
<span class="line">  <span class="token function">dump</span><span class="token punctuation">(</span><span class="token string">&quot;worlds&quot;</span><span class="token punctuation">,</span> worlds<span class="token punctuation">)</span> <span class="token comment">// worlds: length 5, capacity 8 [Mercury Venus Earth Mars Ceres]</span></span>
<span class="line"></span>
<span class="line">  worlds2 <span class="token operator">:=</span> <span class="token function">append</span><span class="token punctuation">(</span>terrestrials<span class="token punctuation">,</span> <span class="token string">&quot;Ceres&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Pluto&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Haumea&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Makemake&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Eris&quot;</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token function">dump</span><span class="token punctuation">(</span><span class="token string">&quot;worlds2&quot;</span><span class="token punctuation">,</span> worlds2<span class="token punctuation">)</span> <span class="token comment">// worlds2: length 9, capacity 12 [Mercury Venus Earth Mars Ceres Pluto Haumea Makemake Eris]</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><h4 id="ä½¿ç”¨-make-å‡½æ•°å¯¹-slice-è¿›è¡Œé¢„åˆ†é…" tabindex="-1"><a class="header-anchor" href="#ä½¿ç”¨-make-å‡½æ•°å¯¹-slice-è¿›è¡Œé¢„åˆ†é…"><span>ä½¿ç”¨ make å‡½æ•°å¯¹ slice è¿›è¡Œé¢„åˆ†é…</span></a></h4><p>å½“ slice çš„å®¹é‡ä¸è¶³ä»¥æ‰§è¡Œ append æ“ä½œæ—¶ï¼ŒGo å¿…é¡»åˆ›å»ºæ–°æ•°ç»„å¹¶å¤åˆ¶æ—§æ•°ç»„ä¸­çš„å†…å®¹</p><p>ä½†é€šè¿‡å†…ç½®çš„ make å‡½æ•°ï¼Œå¯ä»¥å¯¹ slice è¿›è¡Œé¢„åˆ†é…ç­–ç•¥</p><ul><li>å°½é‡é¿å…é¢å¤–çš„å†…å­˜åˆ†é…å’Œæ•°ç»„é‡å¤æ“ä½œ</li></ul><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line"><span class="token keyword">func</span> <span class="token function">dump</span><span class="token punctuation">(</span>label <span class="token builtin">string</span><span class="token punctuation">,</span> slice <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;%v: length %v, capacity %v %v\n&quot;</span><span class="token punctuation">,</span> label<span class="token punctuation">,</span> <span class="token function">len</span><span class="token punctuation">(</span>slice<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">cap</span><span class="token punctuation">(</span>slice<span class="token punctuation">)</span><span class="token punctuation">,</span> slice<span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  dwarfs <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token comment">// é¢„åˆ†é…äº†ä¸€ä¸ªé•¿åº¦ä¸º 0ï¼Œå®¹é‡ä¸º 10 çš„ sliceã€‚å¦‚æœçœç•¥ç¬¬ä¸‰ä¸ªå‚æ•°ï¼Œåˆ™ç¬¬äºŒä¸ªå‚æ•°å³è§„å®šé•¿åº¦ä¹Ÿè§„å®šå®¹é‡</span></span>
<span class="line"></span>
<span class="line">  <span class="token function">dump</span><span class="token punctuation">(</span><span class="token string">&quot;dwarfs&quot;</span><span class="token punctuation">,</span> dwarfs<span class="token punctuation">)</span> <span class="token comment">// dwarfs: length 0, capacity 10 []</span></span>
<span class="line"></span>
<span class="line">  dwarfs <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>dwarfs<span class="token punctuation">,</span> <span class="token string">&quot;Ceres&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Pluto&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Haumea&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Makemake&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Eris&quot;</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">  <span class="token function">dump</span><span class="token punctuation">(</span><span class="token string">&quot;dwarfs&quot;</span><span class="token punctuation">,</span> dwarfs<span class="token punctuation">)</span> <span class="token comment">// dwarfs: length 5, capacity 10 [Ceres Pluto Haumea Makemake Eris]</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><h4 id="å£°æ˜å¯å˜å‚æ•°çš„å‡½æ•°" tabindex="-1"><a class="header-anchor" href="#å£°æ˜å¯å˜å‚æ•°çš„å‡½æ•°"><span>å£°æ˜å¯å˜å‚æ•°çš„å‡½æ•°</span></a></h4><p>å£°æ˜ Printfã€append è¿™æ ·çš„å¯å˜å‚æ•°å‡½æ•°ï¼Œéœ€è¦åœ¨å‡½æ•°çš„æœ€åä¸€ä¸ªå‚æ•°å‰é¢åŠ ä¸Š ... ç¬¦å·</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line"><span class="token keyword">func</span> <span class="token function">terraform</span><span class="token punctuation">(</span>prefix <span class="token builtin">string</span><span class="token punctuation">,</span> worlds <span class="token operator">...</span><span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span> <span class="token punctuation">{</span></span>
<span class="line">  newWorlds <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token function">len</span><span class="token punctuation">(</span>worlds<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token keyword">range</span> worlds <span class="token punctuation">{</span></span>
<span class="line">    newWorlds<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> prefix <span class="token operator">+</span> <span class="token string">&quot; &quot;</span> <span class="token operator">+</span> worlds<span class="token punctuation">[</span>i<span class="token punctuation">]</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line">  <span class="token keyword">return</span> newWorlds</span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  twoWorlds <span class="token operator">:=</span> <span class="token function">terraform</span><span class="token punctuation">(</span><span class="token string">&quot;New&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Venus&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Mars&quot;</span><span class="token punctuation">)</span></span>
<span class="line">  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>twoWorlds<span class="token punctuation">)</span> <span class="token comment">// [New Venus New Mars]</span></span>
<span class="line"></span>
<span class="line">  planets <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token string">&quot;Venus&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Mars&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Jupiter&quot;</span><span class="token punctuation">}</span></span>
<span class="line">  newPlanets <span class="token operator">:=</span> <span class="token function">terraform</span><span class="token punctuation">(</span><span class="token string">&quot;New&quot;</span><span class="token punctuation">,</span> planets<span class="token operator">...</span><span class="token punctuation">)</span></span>
<span class="line">  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>newPlanets<span class="token punctuation">)</span> <span class="token comment">// [New Venus New Mars New Jupiter]</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><h3 id="map" tabindex="-1"><a class="header-anchor" href="#map"><span>map</span></a></h3><p>map æ˜¯ Go æä¾›çš„å¦å¤–ä¸€ç§é›†åˆ</p><ul><li>å®ƒå¯ä»¥å°† key æ˜ å°„åˆ° value</li><li>å®ƒå¿«é€Ÿé€šè¿‡ key æ‰¾åˆ°å¯¹åº”çš„ value</li><li>å®ƒçš„ key å‡ ä¹å¯ä»¥æ˜¯ä»»ä½•ç±»å‹</li></ul><h4 id="å£°æ˜-map" tabindex="-1"><a class="header-anchor" href="#å£°æ˜-map"><span>å£°æ˜ map</span></a></h4><p>å£°æ˜ map å¿…é¡»æŒ‡å®š key å’Œ value çš„ç±»å‹</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line">temperature <span class="token operator">:=</span> <span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">{</span></span>
<span class="line"><span class="token string">&quot;Earth&quot;</span><span class="token punctuation">:</span> <span class="token number">15</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token string">&quot;Mars&quot;</span><span class="token punctuation">:</span> <span class="token operator">-</span><span class="token number">65</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">temp <span class="token operator">:=</span> temperature<span class="token punctuation">[</span><span class="token string">&quot;Earth&quot;</span><span class="token punctuation">]</span></span>
<span class="line"></span>
<span class="line">fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;On average the Earth is&quot;</span><span class="token punctuation">,</span> temp<span class="token punctuation">,</span> <span class="token string">&quot;Celsius.&quot;</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">temperature<span class="token punctuation">[</span><span class="token string">&quot;Earth&quot;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">16</span></span>
<span class="line">temperature<span class="token punctuation">[</span><span class="token string">&quot;Venus&quot;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">464</span></span>
<span class="line"></span>
<span class="line">fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>temperature<span class="token punctuation">)</span> <span class="token comment">// map[Earth:16 Mars:-65 Venus:464]</span></span>
<span class="line"></span>
<span class="line">moon <span class="token operator">:=</span> temperature<span class="token punctuation">[</span><span class="token string">&quot;Moon&quot;</span><span class="token punctuation">]</span></span>
<span class="line">fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>moon<span class="token punctuation">)</span> <span class="token comment">// 0</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><h4 id="ä¸-ok-å†™æ³•" tabindex="-1"><a class="header-anchor" href="#ä¸-ok-å†™æ³•"><span>, ä¸ ok å†™æ³•</span></a></h4><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line">temperature <span class="token operator">:=</span> <span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">{</span></span>
<span class="line">  <span class="token string">&quot;Earth&quot;</span><span class="token punctuation">:</span> <span class="token number">15</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token string">&quot;Mars&quot;</span><span class="token punctuation">:</span> <span class="token operator">-</span><span class="token number">65</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">temp<span class="token punctuation">,</span> ok <span class="token operator">:=</span> temperature<span class="token punctuation">[</span><span class="token string">&quot;Earth&quot;</span><span class="token punctuation">]</span></span>
<span class="line">fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>temp<span class="token punctuation">,</span> ok<span class="token punctuation">)</span> <span class="token comment">// 15 true</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">if</span> moon<span class="token punctuation">,</span> ok <span class="token operator">:=</span> temperature<span class="token punctuation">[</span><span class="token string">&quot;Moon&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span> ok <span class="token punctuation">{</span></span>
<span class="line">  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>moon<span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span></span>
<span class="line">  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;Where is the Moon?&quot;</span><span class="token punctuation">)</span> <span class="token comment">// Where is the Moon?</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><h4 id="map-ä¸ä¼šå¤åˆ¶" tabindex="-1"><a class="header-anchor" href="#map-ä¸ä¼šå¤åˆ¶"><span>map ä¸ä¼šå¤åˆ¶</span></a></h4><p>æ•°ç»„ã€intã€float64 ç­‰ç±»å‹åœ¨èµ‹å€¼ç»™æ–°å˜é‡æˆ–ä¼ é€’è‡³å‡½æ•°/æ–¹æ³•æ—¶ä¼šåˆ›å»ºç›¸åº”çš„å‰¯æœ¬</p><p>ä½† map ä¸ä¼š</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line">planets <span class="token operator">:=</span> <span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span></span>
<span class="line">  <span class="token string">&quot;Earth&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;Sector ZZ9&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token string">&quot;Mars&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;Sector ZZ9&quot;</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">planetsMarkII <span class="token operator">:=</span> planets</span>
<span class="line">planets<span class="token punctuation">[</span><span class="token string">&quot;Earth&quot;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;whoops&quot;</span></span>
<span class="line"></span>
<span class="line">fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>planets<span class="token punctuation">)</span> <span class="token comment">// map[Earth:whoops Mars:Sector ZZ9]</span></span>
<span class="line">fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>planetsMarkII<span class="token punctuation">)</span> <span class="token comment">// map[Earth:whoops Mars:Sector ZZ9]</span></span>
<span class="line"></span>
<span class="line"><span class="token function">delete</span><span class="token punctuation">(</span>planets<span class="token punctuation">,</span> <span class="token string">&quot;Earth&quot;</span><span class="token punctuation">)</span></span>
<span class="line">fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>planetsMarkII<span class="token punctuation">)</span> <span class="token comment">// map[Mars:Sector ZZ9]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><h4 id="ä½¿ç”¨-make-å‡½æ•°å¯¹-map-è¿›è¡Œé¢„åˆ†é…" tabindex="-1"><a class="header-anchor" href="#ä½¿ç”¨-make-å‡½æ•°å¯¹-map-è¿›è¡Œé¢„åˆ†é…"><span>ä½¿ç”¨ make å‡½æ•°å¯¹ map è¿›è¡Œé¢„åˆ†é…</span></a></h4><p>é™¤éä½¿ç”¨å¤åˆå­—é¢å€¼æ¥åˆå§‹åŒ– mapï¼Œå¦åˆ™å¿…é¡»ä½¿ç”¨å†…ç½®çš„ make å‡½æ•°æ¥ä¸º map åˆ†é…ç©ºé—´</p><p>åˆ›å»º map æ—¶ï¼Œmake å‡½æ•°å¯ä»¥æ¥æ”¶ä¸€ä¸ªæˆ–ä¸¤ä¸ªå‚æ•°</p><ul><li>ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ map çš„ç±»å‹</li><li>ç¬¬äºŒä¸ªå‚æ•°æ˜¯å¯é€‰çš„ï¼Œç”¨äºæŒ‡å®š map çš„åˆå§‹å®¹é‡ï¼ˆä¸ºæŒ‡å®šæ•°é‡çš„ key é¢„å…ˆåˆ†é…ç©ºé—´ï¼‰</li></ul><p>ä½¿ç”¨ make å‡½æ•°åˆ›å»ºçš„ map åˆå§‹é•¿åº¦æ˜¯ 0</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line">temperature <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">float64</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">)</span></span>
<span class="line">fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token function">len</span><span class="token punctuation">(</span>temperature<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 0</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><h4 id="ä½¿ç”¨-map-ä½œè®¡æ•°å™¨" tabindex="-1"><a class="header-anchor" href="#ä½¿ç”¨-map-ä½œè®¡æ•°å™¨"><span>ä½¿ç”¨ map ä½œè®¡æ•°å™¨</span></a></h4><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line">temperature <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">float64</span><span class="token punctuation">{</span></span>
<span class="line">  <span class="token operator">-</span><span class="token number">28.0</span><span class="token punctuation">,</span> <span class="token number">32.0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">31.0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">29.0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">23.0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">29.0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">28.0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">33.0</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">frequency <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">float64</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">for</span> <span class="token boolean">_</span><span class="token punctuation">,</span> t <span class="token operator">:=</span> <span class="token keyword">range</span> temperature <span class="token punctuation">{</span></span>
<span class="line">  frequency<span class="token punctuation">[</span>t<span class="token punctuation">]</span><span class="token operator">++</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">/* range éå† map æ—¶æ˜¯æ— æ³•ä¿è¯é¡ºåºçš„ */</span></span>
<span class="line"><span class="token keyword">for</span> t<span class="token punctuation">,</span> num <span class="token operator">:=</span> <span class="token keyword">range</span> frequency <span class="token punctuation">{</span></span>
<span class="line">  fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;%+.2f occurs %d times\n&quot;</span><span class="token punctuation">,</span> t<span class="token punctuation">,</span> num<span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><h4 id="ä½¿ç”¨-map-å’Œ-slice-å®ç°æ•°æ®åˆ†ç»„" tabindex="-1"><a class="header-anchor" href="#ä½¿ç”¨-map-å’Œ-slice-å®ç°æ•°æ®åˆ†ç»„"><span>ä½¿ç”¨ map å’Œ slice å®ç°æ•°æ®åˆ†ç»„</span></a></h4><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line">temperature <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">float64</span><span class="token punctuation">{</span></span>
<span class="line">  <span class="token operator">-</span><span class="token number">28.0</span><span class="token punctuation">,</span> <span class="token number">32.0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">31.0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">29.0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">23.0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">29.0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">28.0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">33.0</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">groups <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">float64</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">float64</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">for</span> <span class="token boolean">_</span><span class="token punctuation">,</span> t <span class="token operator">:=</span> <span class="token keyword">range</span> temperature <span class="token punctuation">{</span></span>
<span class="line">  g <span class="token operator">:=</span> math<span class="token punctuation">.</span><span class="token function">Trunc</span><span class="token punctuation">(</span>t<span class="token operator">/</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">10</span></span>
<span class="line">  groups<span class="token punctuation">[</span>g<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>groups<span class="token punctuation">[</span>g<span class="token punctuation">]</span><span class="token punctuation">,</span> t<span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">for</span> g<span class="token punctuation">,</span> temperatures <span class="token operator">:=</span> <span class="token keyword">range</span> groups <span class="token punctuation">{</span></span>
<span class="line">  fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;%v: %v\n&quot;</span><span class="token punctuation">,</span> g<span class="token punctuation">,</span> temperatures<span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><h4 id="å°†-map-ç”¨ä½œ-set" tabindex="-1"><a class="header-anchor" href="#å°†-map-ç”¨ä½œ-set"><span>å°† map ç”¨ä½œ set</span></a></h4><p>Set è¿™ç§é›†åˆä¸æ•°ç»„ç±»ä¼¼ï¼Œä½†å…ƒç´ ä¸ä¼šé‡å¤</p><p>Go è¯­è¨€é‡Œæ²¡æœ‰æä¾› set é›†åˆ</p><p>ä½†å¯ä»¥ä½¿ç”¨ map æ¥å®ç° set é›†åˆ</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line"><span class="token keyword">var</span> temperatures <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">float64</span><span class="token punctuation">{</span></span>
<span class="line">  <span class="token operator">-</span><span class="token number">28.0</span><span class="token punctuation">,</span> <span class="token number">32.0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">31.0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">29.0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">23.0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">29.0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">28.0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">33.0</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">/* å»é‡ */</span></span>
<span class="line"></span>
<span class="line">set <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">float64</span><span class="token punctuation">]</span><span class="token builtin">bool</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">for</span> <span class="token boolean">_</span><span class="token punctuation">,</span> t <span class="token operator">:=</span> <span class="token keyword">range</span> temperatures <span class="token punctuation">{</span></span>
<span class="line">  set<span class="token punctuation">[</span>t<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">if</span> set<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">28.0</span><span class="token punctuation">]</span> <span class="token punctuation">{</span></span>
<span class="line">  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;set member&quot;</span><span class="token punctuation">)</span> <span class="token comment">// set member</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>set<span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">/* æ’åº */</span></span>
<span class="line"></span>
<span class="line">unique <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">float64</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token function">len</span><span class="token punctuation">(</span>set<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">for</span> t <span class="token operator">:=</span> <span class="token keyword">range</span> set <span class="token punctuation">{</span></span>
<span class="line">  unique <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>unique<span class="token punctuation">,</span> t<span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">sort<span class="token punctuation">.</span><span class="token function">Float64s</span><span class="token punctuation">(</span>unique<span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>unique<span class="token punctuation">)</span> <span class="token comment">// [-33 -31 -29 -28 -23 32]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><h3 id="ç»“æ„-struct" tabindex="-1"><a class="header-anchor" href="#ç»“æ„-struct"><span>ç»“æ„ struct</span></a></h3><p>ä¸ºäº†å°†åˆ†æ•£çš„é›¶ä»¶ç»„æˆä¸€ä¸ªå®Œæ•´çš„ç»“æ„ä½“ï¼ŒGo æä¾›äº† struct ç±»å‹</p><h4 id="å£°æ˜ç»“æ„" tabindex="-1"><a class="header-anchor" href="#å£°æ˜ç»“æ„"><span>å£°æ˜ç»“æ„</span></a></h4><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line"><span class="token keyword">var</span> curiosity <span class="token keyword">struct</span> <span class="token punctuation">{</span></span>
<span class="line">  lat <span class="token builtin">float64</span></span>
<span class="line">  long <span class="token builtin">float64</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">curiosity<span class="token punctuation">.</span>lat <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">4.5895</span></span>
<span class="line">curiosity<span class="token punctuation">.</span>long <span class="token operator">=</span> <span class="token number">137.4417</span></span>
<span class="line"></span>
<span class="line">fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>curiosity<span class="token punctuation">.</span>lat<span class="token punctuation">,</span> curiosity<span class="token punctuation">.</span>long<span class="token punctuation">)</span> <span class="token comment">// -4.5895 137.4417</span></span>
<span class="line">fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>curiosity<span class="token punctuation">)</span> <span class="token comment">// { -4.5895 137.4417}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><h4 id="é€šè¿‡ç±»å‹å¤ç”¨ç»“æ„ä½“" tabindex="-1"><a class="header-anchor" href="#é€šè¿‡ç±»å‹å¤ç”¨ç»“æ„ä½“"><span>é€šè¿‡ç±»å‹å¤ç”¨ç»“æ„ä½“</span></a></h4><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line"><span class="token keyword">type</span> location <span class="token keyword">struct</span> <span class="token punctuation">{</span></span>
<span class="line">  lat <span class="token builtin">float64</span></span>
<span class="line">  long <span class="token builtin">float64</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">var</span> spirit location</span>
<span class="line">spirit<span class="token punctuation">.</span>lat <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">14.5684</span></span>
<span class="line">spirit<span class="token punctuation">.</span>long <span class="token operator">=</span> <span class="token number">175.472636</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">/* é€šè¿‡æˆå¯¹çš„å­—æ®µå’Œå€¼è¿›è¡Œåˆå§‹åŒ– */</span></span>
<span class="line">opportunity <span class="token operator">:=</span> location<span class="token punctuation">{</span>lat<span class="token punctuation">:</span> <span class="token operator">-</span><span class="token number">1.9462</span><span class="token punctuation">,</span> long<span class="token punctuation">:</span> <span class="token number">354.4734</span><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">/* æŒ‰ç…§å­—æ®µå£°æ˜çš„é¡ºåºåˆå§‹åŒ– */</span></span>
<span class="line">insight <span class="token operator">:=</span> location<span class="token punctuation">{</span><span class="token operator">-</span><span class="token number">4.5</span><span class="token punctuation">,</span> <span class="token number">135.9</span><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;%v\n&quot;</span><span class="token punctuation">,</span> insight<span class="token punctuation">)</span> <span class="token comment">// {-4.5 135.9}</span></span>
<span class="line">fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;%+v\n&quot;</span><span class="token punctuation">,</span> insight<span class="token punctuation">)</span> <span class="token comment">// {lat:-4.5 long:135.9}</span></span>
<span class="line"></span>
<span class="line">fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>spirit<span class="token punctuation">,</span> opportunity<span class="token punctuation">)</span> <span class="token comment">// {-14.5684 175.472636} {-1.9462 354.4734}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><h4 id="struct-çš„å¤åˆ¶" tabindex="-1"><a class="header-anchor" href="#struct-çš„å¤åˆ¶"><span>struct çš„å¤åˆ¶</span></a></h4><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line"><span class="token keyword">type</span> location <span class="token keyword">struct</span> <span class="token punctuation">{</span></span>
<span class="line">  lat<span class="token punctuation">,</span> long <span class="token builtin">float64</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">bradbury <span class="token operator">:=</span> location<span class="token punctuation">{</span><span class="token operator">-</span><span class="token number">4.5895</span><span class="token punctuation">,</span> <span class="token number">137.4417</span><span class="token punctuation">}</span></span>
<span class="line">curiosity <span class="token operator">:=</span> bradbury <span class="token comment">// ä¸¤ä¸ªä¸åŒçš„å®ä¾‹</span></span>
<span class="line"></span>
<span class="line">curiosity<span class="token punctuation">.</span>long <span class="token operator">+=</span> <span class="token number">0.0106</span></span>
<span class="line"></span>
<span class="line">fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>bradbury<span class="token punctuation">,</span> curiosity<span class="token punctuation">)</span> <span class="token comment">// {-4.5895 137.4417} {-4.5895 137.4523}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><h4 id="ç”±ç»“æ„ä½“ç»„æˆçš„-slice" tabindex="-1"><a class="header-anchor" href="#ç”±ç»“æ„ä½“ç»„æˆçš„-slice"><span>ç”±ç»“æ„ä½“ç»„æˆçš„ slice</span></a></h4><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line"><span class="token keyword">type</span> location <span class="token keyword">struct</span> <span class="token punctuation">{</span></span>
<span class="line">  lat<span class="token punctuation">,</span> long <span class="token builtin">float64</span></span>
<span class="line">  name <span class="token builtin">string</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">lats <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">float64</span><span class="token punctuation">{</span><span class="token operator">-</span><span class="token number">4.5895</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">14.5684</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1.9462</span><span class="token punctuation">}</span></span>
<span class="line">longs <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">float64</span><span class="token punctuation">{</span><span class="token number">137.4417</span><span class="token punctuation">,</span> <span class="token number">175.472636</span><span class="token punctuation">,</span> <span class="token number">354.4734</span><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">locations <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>location<span class="token punctuation">{</span></span>
<span class="line">  <span class="token punctuation">{</span>lat<span class="token punctuation">:</span> <span class="token operator">-</span><span class="token number">4.5895</span><span class="token punctuation">,</span> long<span class="token punctuation">:</span> <span class="token number">137.4417</span><span class="token punctuation">,</span> name<span class="token punctuation">:</span> <span class="token string">&quot;Bradbury Landing&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">{</span>lat<span class="token punctuation">:</span> <span class="token operator">-</span><span class="token number">14.5684</span><span class="token punctuation">,</span> long<span class="token punctuation">:</span> <span class="token number">175.472636</span><span class="token punctuation">,</span> name<span class="token punctuation">:</span> <span class="token string">&quot;Columbia Memorial Station&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">{</span>lat<span class="token punctuation">:</span> <span class="token operator">-</span><span class="token number">1.9462</span><span class="token punctuation">,</span> long<span class="token punctuation">:</span> <span class="token number">354.4734</span><span class="token punctuation">,</span> name<span class="token punctuation">:</span> <span class="token string">&quot;Challenger Memorial Station&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>locations<span class="token punctuation">)</span> <span class="token comment">// [{-4.5895 137.4417 Bradbury Landing} {-14.5684 175.472636 Columbia Memorial Station} {-1.9462 354.4734 Challenger Memorial Station}]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><h4 id="å°†-struct-ç¼–ç ä¸º-json" tabindex="-1"><a class="header-anchor" href="#å°†-struct-ç¼–ç ä¸º-json"><span>å°† struct ç¼–ç ä¸º JSON</span></a></h4><p>JSON (JavaScript Object Notationï¼ŒJavaScript å¯¹è±¡è¡¨ç¤ºæ³•)</p><p>å¸¸ç”¨äº Web API</p><p>json åŒ…ä¸­çš„ Marshal å‡½æ•°å¯ä»¥å°† struct ç¼–ç ä¸º JSON</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line"><span class="token keyword">type</span> location <span class="token keyword">struct</span> <span class="token punctuation">{</span></span>
<span class="line">  Lat<span class="token punctuation">,</span> Long <span class="token builtin">float64</span></span>
<span class="line">  <span class="token comment">// lat, long float64</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  curiosity <span class="token operator">:=</span> location<span class="token punctuation">{</span><span class="token operator">-</span><span class="token number">4.5895</span><span class="token punctuation">,</span> <span class="token number">137.4417</span><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">  bytes<span class="token punctuation">,</span> err <span class="token operator">:=</span> json<span class="token punctuation">.</span><span class="token function">Marshal</span><span class="token punctuation">(</span>curiosity<span class="token punctuation">)</span></span>
<span class="line">  <span class="token function">exitOnError</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token function">string</span><span class="token punctuation">(</span>bytes<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// {&quot;lat&quot;:-4.5895,&quot;long&quot;:137.4417}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">func</span> <span class="token function">exitOnError</span><span class="token punctuation">(</span>err <span class="token builtin">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span></span>
<span class="line">    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span></span>
<span class="line">    os<span class="token punctuation">.</span><span class="token function">Exit</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><blockquote><p>Marshal å‡½æ•°åªä¼šç¼–ç  struct ä¸­è¢«å¯¼å‡ºçš„å­—æ®µï¼ˆé¦–å­—æ¯å¤§å†™ï¼‰</p></blockquote><h4 id="ä½¿ç”¨-struct-æ ‡ç­¾æ¥å®šä¹‰-json" tabindex="-1"><a class="header-anchor" href="#ä½¿ç”¨-struct-æ ‡ç­¾æ¥å®šä¹‰-json"><span>ä½¿ç”¨ struct æ ‡ç­¾æ¥å®šä¹‰ JSON</span></a></h4><p>Go è¯­è¨€ä¸­ json åŒ…è¦æ±‚ struct ä¸­çš„å­—æ®µå¿…é¡»ä»¥å¤§å†™å­—æ¯å¼€å¤´ï¼ˆç±»ä¼¼ CamelCase å¤§é©¼å³°ï¼‰ï¼Œä½†å¦‚æœéœ€è¦ snake_case è›‡å½¢å‘½åè§„èŒƒï¼Œå¯ä»¥ä¸ºå­—æ®µæ³¨æ˜æ ‡ç­¾ï¼Œä½¿å¾— json åŒ…åœ¨è¿›è¡Œç¼–ç çš„æ—¶å€™èƒ½å¤ŸæŒ‰ç…§æ ‡ç­¾é‡Œçš„æ ·å¼ä¿®æ”¹å­—æ®µå</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line"></span>
<span class="line"><span class="token keyword">type</span> location <span class="token keyword">struct</span> <span class="token punctuation">{</span></span>
<span class="line">  Lat <span class="token builtin">float64</span> <span class="token string">`json:&quot;latitude&quot;xml:&quot;latitude&quot;`</span></span>
<span class="line">  Long <span class="token builtin">float64</span> <span class="token string">`json:&quot;longitude&quot;`</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  curiosity <span class="token operator">:=</span> location<span class="token punctuation">{</span><span class="token operator">-</span><span class="token number">4.5895</span><span class="token punctuation">,</span> <span class="token number">137.4417</span><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">  bytes<span class="token punctuation">,</span> err <span class="token operator">:=</span> json<span class="token punctuation">.</span><span class="token function">Marshal</span><span class="token punctuation">(</span>curiosity<span class="token punctuation">)</span></span>
<span class="line">  <span class="token function">exitOnError</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token function">string</span><span class="token punctuation">(</span>bytes<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// {&quot;latitude&quot;:-4.5895,&quot;longitude&quot;:137.4417}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">func</span> <span class="token function">exitOnError</span><span class="token punctuation">(</span>err <span class="token builtin">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span></span>
<span class="line">    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span></span>
<span class="line">    os<span class="token punctuation">.</span><span class="token function">Exit</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><h4 id="go-è¯­è¨€é‡Œæ²¡æœ‰-class" tabindex="-1"><a class="header-anchor" href="#go-è¯­è¨€é‡Œæ²¡æœ‰-class"><span>Go è¯­è¨€é‡Œæ²¡æœ‰ class</span></a></h4><p>Go å’Œå…¶ä»–ç»å…¸è¯­è¨€ä¸åŒï¼Œå®ƒæ²¡æœ‰ classï¼Œæ²¡æœ‰å¯¹è±¡ï¼Œä¹Ÿæ²¡æœ‰ç»§æ‰¿</p><p>ä½†æ˜¯ Go æä¾›äº† struct å’Œæ–¹æ³•</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line"><span class="token keyword">type</span> coordinate <span class="token keyword">struct</span> <span class="token punctuation">{</span></span>
<span class="line">  d<span class="token punctuation">,</span> m<span class="token punctuation">,</span> s <span class="token builtin">float64</span></span>
<span class="line">  h <span class="token builtin">rune</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">func</span> <span class="token punctuation">(</span>c coordinate<span class="token punctuation">)</span> <span class="token function">decimal</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">float64</span> <span class="token punctuation">{</span></span>
<span class="line">  sign <span class="token operator">:=</span> <span class="token number">1.0</span></span>
<span class="line"></span>
<span class="line">  <span class="token keyword">switch</span> c<span class="token punctuation">.</span>h <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">case</span> <span class="token char">&#39;S&#39;</span><span class="token punctuation">,</span> <span class="token char">&#39;W&#39;</span><span class="token punctuation">,</span> <span class="token char">&#39;s&#39;</span><span class="token punctuation">,</span> <span class="token char">&#39;w&#39;</span><span class="token punctuation">:</span></span>
<span class="line">    sign <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">  <span class="token keyword">return</span> sign <span class="token operator">*</span> <span class="token punctuation">(</span>c<span class="token punctuation">.</span>d <span class="token operator">+</span> c<span class="token punctuation">.</span>m <span class="token operator">/</span> <span class="token number">60</span> <span class="token operator">+</span> c<span class="token punctuation">.</span>s <span class="token operator">/</span> <span class="token number">3600</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  lat <span class="token operator">:=</span> coordinate<span class="token punctuation">{</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">35</span><span class="token punctuation">,</span> <span class="token number">22.2</span><span class="token punctuation">,</span> <span class="token char">&#39;S&#39;</span><span class="token punctuation">}</span></span>
<span class="line">  long <span class="token operator">:=</span> coordinate<span class="token punctuation">{</span><span class="token number">137</span><span class="token punctuation">,</span> <span class="token number">26</span><span class="token punctuation">,</span> <span class="token number">30.12</span><span class="token punctuation">,</span> <span class="token char">&#39;E&#39;</span><span class="token punctuation">}</span></span>
<span class="line">  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>lat<span class="token punctuation">.</span><span class="token function">decimal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> long<span class="token punctuation">.</span><span class="token function">decimal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// -4.5895 137.4417</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><h4 id="æ„é€ å‡½æ•°" tabindex="-1"><a class="header-anchor" href="#æ„é€ å‡½æ•°"><span>æ„é€ å‡½æ•°</span></a></h4><p>å¯ä»¥ä½¿ç”¨ struct å¤åˆå­—é¢å€¼æ¥åˆå§‹åŒ–æƒ³è¦çš„æ•°æ®ï¼›ä½†å¦‚æœ struct åˆå§‹åŒ–çš„æ—¶å€™è¿˜æœ‰åšå¾ˆå¤šäº‹æƒ…ï¼Œé‚£å°±å¯ä»¥è€ƒè™‘å†™ä¸€ä¸ªæ„é€ ç”¨çš„å‡½æ•°ï¼š</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line"><span class="token keyword">type</span> coordinate <span class="token keyword">struct</span> <span class="token punctuation">{</span></span>
<span class="line">  d<span class="token punctuation">,</span> m<span class="token punctuation">,</span> s <span class="token builtin">float64</span></span>
<span class="line">  h <span class="token builtin">rune</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">func</span> <span class="token punctuation">(</span>c coordinate<span class="token punctuation">)</span> <span class="token function">decimal</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">float64</span> <span class="token punctuation">{</span></span>
<span class="line">  sign <span class="token operator">:=</span> <span class="token number">1.0</span></span>
<span class="line"></span>
<span class="line">  <span class="token keyword">switch</span> c<span class="token punctuation">.</span>h <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">case</span> <span class="token char">&#39;S&#39;</span><span class="token punctuation">,</span> <span class="token char">&#39;W&#39;</span><span class="token punctuation">,</span> <span class="token char">&#39;s&#39;</span><span class="token punctuation">,</span> <span class="token char">&#39;w&#39;</span><span class="token punctuation">:</span></span>
<span class="line">    sign <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">  <span class="token keyword">return</span> sign <span class="token operator">*</span> <span class="token punctuation">(</span>c<span class="token punctuation">.</span>d <span class="token operator">+</span> c<span class="token punctuation">.</span>m <span class="token operator">/</span> <span class="token number">60</span> <span class="token operator">+</span> c<span class="token punctuation">.</span>s <span class="token operator">/</span> <span class="token number">3600</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">type</span> location <span class="token keyword">struct</span> <span class="token punctuation">{</span></span>
<span class="line">  lat<span class="token punctuation">,</span> long <span class="token builtin">float64</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">/* new/New å¼€å¤´ï¼Œåé¢è·Ÿä¸€ä¸ªç±»å‹çš„åç§°ï¼Œé€šå¸¸å°±ä»£è¡¨è¿™ä¸ªç±»å‹çš„æ„é€ å‡½æ•°ï¼ˆçº¦å®šï¼‰ */</span></span>
<span class="line"><span class="token keyword">func</span> <span class="token function">newLocation</span><span class="token punctuation">(</span>lat<span class="token punctuation">,</span> long coordinate<span class="token punctuation">)</span> location <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">return</span> location<span class="token punctuation">{</span>lat<span class="token punctuation">.</span><span class="token function">decimal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> long<span class="token punctuation">.</span><span class="token function">decimal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><p>Go è¯­è¨€æ²¡æœ‰ä¸“é—¨çš„æ„é€ å‡½æ•°ï¼Œä½†ä»¥ new æˆ–è€… New å¼€å¤´çš„å‡½æ•°ï¼Œé€šå¸¸æ˜¯ç”¨æ¥æ„é€ æ•°æ®çš„</p><p>æœ‰ä¸€äº›æ„é€ å‡½æ•°çš„åç§°å°±æ˜¯ Newï¼ˆä¾‹å¦‚ errors åŒ…é‡Œé¢çš„ New å‡½æ•°ï¼‰ï¼Œerrors.New()</p><h4 id="class-çš„æ›¿ä»£æ–¹æ¡ˆ" tabindex="-1"><a class="header-anchor" href="#class-çš„æ›¿ä»£æ–¹æ¡ˆ"><span>class çš„æ›¿ä»£æ–¹æ¡ˆ</span></a></h4><p>Go è¯­è¨€ä¸­æ²¡æœ‰ classï¼Œä½†æ˜¯å¯ä»¥ä½¿ç”¨ struct å’Œæ–¹æ³•æ¥å®ç°ç±»ä¼¼çš„åŠŸèƒ½</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line"><span class="token keyword">type</span> location <span class="token keyword">struct</span> <span class="token punctuation">{</span></span>
<span class="line">  lat<span class="token punctuation">,</span> long <span class="token builtin">float64</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">type</span> world <span class="token keyword">struct</span> <span class="token punctuation">{</span></span>
<span class="line">  radius <span class="token builtin">float64</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">func</span> <span class="token function">rad</span><span class="token punctuation">(</span>deg <span class="token builtin">float64</span><span class="token punctuation">)</span> <span class="token builtin">float64</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">return</span> deg <span class="token operator">*</span> math<span class="token punctuation">.</span>Pi <span class="token operator">/</span> <span class="token number">180</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">func</span> <span class="token punctuation">(</span>w world<span class="token punctuation">)</span> <span class="token function">distance</span><span class="token punctuation">(</span>p1<span class="token punctuation">,</span> p2 location<span class="token punctuation">)</span> <span class="token builtin">float64</span> <span class="token punctuation">{</span></span>
<span class="line">  s1<span class="token punctuation">,</span> c1 <span class="token operator">:=</span> math<span class="token punctuation">.</span><span class="token function">Sincos</span><span class="token punctuation">(</span><span class="token function">rad</span><span class="token punctuation">(</span>p1<span class="token punctuation">.</span>lat<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">  s2<span class="token punctuation">,</span> c2 <span class="token operator">:=</span> math<span class="token punctuation">.</span><span class="token function">Sincos</span><span class="token punctuation">(</span><span class="token function">rad</span><span class="token punctuation">(</span>p2<span class="token punctuation">.</span>lat<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">  clong <span class="token operator">:=</span> math<span class="token punctuation">.</span><span class="token function">Cos</span><span class="token punctuation">(</span><span class="token function">rad</span><span class="token punctuation">(</span>p1<span class="token punctuation">.</span>long <span class="token operator">-</span> p2<span class="token punctuation">.</span>long<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token keyword">return</span> w<span class="token punctuation">.</span>radius <span class="token operator">*</span> math<span class="token punctuation">.</span><span class="token function">Acos</span><span class="token punctuation">(</span>s1 <span class="token operator">*</span> s2 <span class="token operator">+</span> c1 <span class="token operator">*</span> c2 <span class="token operator">*</span> clong<span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  mars <span class="token operator">:=</span> world<span class="token punctuation">{</span>radius<span class="token punctuation">:</span> <span class="token number">3389.5</span><span class="token punctuation">}</span></span>
<span class="line">  spirit <span class="token operator">:=</span> location<span class="token punctuation">{</span><span class="token operator">-</span><span class="token number">14.5684</span><span class="token punctuation">,</span> <span class="token number">175.472636</span><span class="token punctuation">}</span></span>
<span class="line">  opportunity <span class="token operator">:=</span> location<span class="token punctuation">{</span><span class="token operator">-</span><span class="token number">1.9462</span><span class="token punctuation">,</span> <span class="token number">354.4734</span><span class="token punctuation">}</span></span>
<span class="line">  fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;%.2f km\n&quot;</span><span class="token punctuation">,</span> mars<span class="token punctuation">.</span><span class="token function">distance</span><span class="token punctuation">(</span>spirit<span class="token punctuation">,</span> opportunity<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 9669.71 km</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><h4 id="ç»„åˆä¸è½¬å‘-composition-forwarding" tabindex="-1"><a class="header-anchor" href="#ç»„åˆä¸è½¬å‘-composition-forwarding"><span>ç»„åˆä¸è½¬å‘ï¼ˆcomposition &amp; forwardingï¼‰</span></a></h4><p>Go é€šè¿‡ç»“æ„ä½“å®ç°ç»„åˆ</p><p>Go æä¾›äº†â€œåµŒå…¥â€ï¼ˆembeddingï¼‰ç‰¹æ€§ï¼Œå®ƒå¯ä»¥å®ç°æ–¹æ³•çš„è½¬å‘ï¼ˆforwardingï¼‰</p><p>ç»„åˆç›¸å¯¹äºç»§æ‰¿æ›´ç®€å•ã€çµæ´»</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line"><span class="token comment">// type report struct {</span></span>
<span class="line"><span class="token comment">// 	sol         int</span></span>
<span class="line"><span class="token comment">// 	temperature temperature</span></span>
<span class="line"><span class="token comment">// 	location    location</span></span>
<span class="line"><span class="token comment">// }</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">type</span> sol <span class="token builtin">int</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">type</span> report <span class="token keyword">struct</span> <span class="token punctuation">{</span></span>
<span class="line">	sol</span>
<span class="line">	temperature</span>
<span class="line">	location</span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">type</span> temperature <span class="token keyword">struct</span> <span class="token punctuation">{</span></span>
<span class="line">	high<span class="token punctuation">,</span> low celsius</span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">type</span> location <span class="token keyword">struct</span> <span class="token punctuation">{</span></span>
<span class="line">	lat<span class="token punctuation">,</span> long <span class="token builtin">float64</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">type</span> celsius <span class="token builtin">float64</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">func</span> <span class="token punctuation">(</span>t temperature<span class="token punctuation">)</span> <span class="token function">average</span><span class="token punctuation">(</span><span class="token punctuation">)</span> celsius <span class="token punctuation">{</span></span>
<span class="line">	<span class="token keyword">return</span> <span class="token punctuation">(</span>t<span class="token punctuation">.</span>high <span class="token operator">+</span> t<span class="token punctuation">.</span>low<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">func</span> <span class="token punctuation">(</span>s sol<span class="token punctuation">)</span> <span class="token function">days</span><span class="token punctuation">(</span>s2 sol<span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">{</span></span>
<span class="line">	days <span class="token operator">:=</span> <span class="token function">int</span><span class="token punctuation">(</span>s2 <span class="token operator">-</span> s<span class="token punctuation">)</span></span>
<span class="line">	<span class="token keyword">if</span> days <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token punctuation">{</span></span>
<span class="line">		<span class="token keyword">return</span> <span class="token operator">-</span>days</span>
<span class="line">	<span class="token punctuation">}</span></span>
<span class="line">	<span class="token keyword">return</span> days</span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// func (r report) average() celsius {</span></span>
<span class="line"><span class="token comment">// 	return r.temperature.average()</span></span>
<span class="line"><span class="token comment">// }</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">	t <span class="token operator">:=</span> temperature<span class="token punctuation">{</span>high<span class="token punctuation">:</span> <span class="token operator">-</span><span class="token number">1.0</span><span class="token punctuation">,</span> low<span class="token punctuation">:</span> <span class="token operator">-</span><span class="token number">78.0</span><span class="token punctuation">}</span></span>
<span class="line">	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;%v\n&quot;</span><span class="token punctuation">,</span> t<span class="token punctuation">.</span><span class="token function">average</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// -39.5</span></span>
<span class="line">	loc <span class="token operator">:=</span> location<span class="token punctuation">{</span><span class="token operator">-</span><span class="token number">4.5895</span><span class="token punctuation">,</span> <span class="token number">137.4417</span><span class="token punctuation">}</span></span>
<span class="line">	rep <span class="token operator">:=</span> report<span class="token punctuation">{</span>sol<span class="token punctuation">:</span> <span class="token number">15</span><span class="token punctuation">,</span> temperature<span class="token punctuation">:</span> t<span class="token punctuation">,</span> location<span class="token punctuation">:</span> loc<span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>rep<span class="token punctuation">.</span>temperature<span class="token punctuation">.</span><span class="token function">average</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// -39.5</span></span>
<span class="line">	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>rep<span class="token punctuation">.</span><span class="token function">average</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>             <span class="token comment">// -39.5</span></span>
<span class="line">	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>rep<span class="token punctuation">.</span>high<span class="token punctuation">)</span>                  <span class="token comment">// -1</span></span>
<span class="line"></span>
<span class="line">	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>rep<span class="token punctuation">.</span>sol<span class="token punctuation">.</span><span class="token function">days</span><span class="token punctuation">(</span><span class="token number">1446</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 1431</span></span>
<span class="line">	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>rep<span class="token punctuation">.</span><span class="token function">days</span><span class="token punctuation">(</span><span class="token number">1446</span><span class="token punctuation">)</span><span class="token punctuation">)</span>     <span class="token comment">// 1431</span></span>
<span class="line"></span>
<span class="line">	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;%+v\n&quot;</span><span class="token punctuation">,</span> rep<span class="token punctuation">)</span> <span class="token comment">// {sol:15 temperature:{high:-1 low:-78} location:{lat:-4.5895 long:137.4417}}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><blockquote><p>Go å¯ä»¥é€šè¿‡ struct åµŒå…¥æ¥å®ç°æ–¹æ³•çš„è½¬å‘</p><p>åœ¨ struct ä¸­åªç»™å®šå­—æ®µç±»å‹ï¼Œä¸ç»™å®šå­—æ®µåå³å¯</p><p>åœ¨ struct ä¸­å¯ä»¥è½¬å‘ä»»æ„ç±»å‹</p></blockquote><p>Go è¯­è¨€ä¸­ï¼Œå¦‚æœä¸¤ä¸ªå­—æ®µåå­—ç›¸åŒï¼Œé‚£ä¹ˆåœ¨è®¿é—®çš„æ—¶å€™å°±å¿…é¡»ä½¿ç”¨å®Œæ•´çš„è·¯å¾„</p><h4 id="æ¥å£" tabindex="-1"><a class="header-anchor" href="#æ¥å£"><span>æ¥å£</span></a></h4><p>ç±»å‹å…³æ³¨äºå¯ä»¥åšä»€ä¹ˆï¼Œè€Œä¸æ˜¯å­˜å‚¨äº†ä»€ä¹ˆ</p><p>æ¥å£é€šè¿‡åˆ—ä¸¾ç±»å‹å¿…é¡»æ»¡è¶³çš„ä¸€ç»„æ–¹æ³•æ¥è¿›è¡Œå£°æ˜</p><p>åœ¨ Go è¯­è¨€ä¸­ï¼Œä¸éœ€è¦æ˜¾ç¤ºå£°æ˜æ¥å£</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line"><span class="token keyword">var</span> t <span class="token keyword">interface</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token function">talk</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">string</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">type</span> martian <span class="token keyword">struct</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">func</span> <span class="token punctuation">(</span>m martian<span class="token punctuation">)</span> <span class="token function">talk</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">string</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">return</span> <span class="token string">&quot;nack nack&quot;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">type</span> laser <span class="token builtin">int</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">func</span> <span class="token punctuation">(</span>l laser<span class="token punctuation">)</span> <span class="token function">talk</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">string</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">return</span> strings<span class="token punctuation">.</span><span class="token function">Repeat</span><span class="token punctuation">(</span><span class="token string">&quot;pew &quot;</span><span class="token punctuation">,</span> <span class="token function">int</span><span class="token punctuation">(</span>l<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  t <span class="token operator">=</span> martian<span class="token punctuation">{</span><span class="token punctuation">}</span></span>
<span class="line">  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>t<span class="token punctuation">.</span><span class="token function">talk</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// nack nack</span></span>
<span class="line"></span>
<span class="line">  t <span class="token operator">=</span> <span class="token function">laser</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span></span>
<span class="line">  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>t<span class="token punctuation">.</span><span class="token function">talk</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// pew pew pew</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><p>ä¸ºäº†å¤ç”¨ï¼Œé€šå¸¸ä¼šæŠŠæ¥å£å£°æ˜ä¸ºç±»å‹</p><p>æŒ‰çº¦å®šï¼Œæ¥å£åç§°é€šå¸¸ä»¥ er ç»“å°¾</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line"><span class="token keyword">type</span> talker <span class="token keyword">interface</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token function">talk</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">string</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">type</span> martian <span class="token keyword">struct</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">func</span> <span class="token punctuation">(</span>m martian<span class="token punctuation">)</span> <span class="token function">talk</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">string</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">return</span> <span class="token string">&quot;nack nack&quot;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">type</span> laser <span class="token builtin">int</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">func</span> <span class="token punctuation">(</span>l laser<span class="token punctuation">)</span> <span class="token function">talk</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">string</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">return</span> strings<span class="token punctuation">.</span><span class="token function">Repeat</span><span class="token punctuation">(</span><span class="token string">&quot;pew &quot;</span><span class="token punctuation">,</span> <span class="token function">int</span><span class="token punctuation">(</span>l<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">func</span> <span class="token function">shout</span><span class="token punctuation">(</span>t talker<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  louder <span class="token operator">:=</span> strings<span class="token punctuation">.</span><span class="token function">ToUpper</span><span class="token punctuation">(</span>t<span class="token punctuation">.</span><span class="token function">talk</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>louder<span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">/* æ¥å£é…åˆ struct åµŒå…¥ç‰¹æ€§ä¸€èµ·ä½¿ç”¨ */</span></span>
<span class="line"><span class="token keyword">type</span> starship <span class="token keyword">struct</span> <span class="token punctuation">{</span></span>
<span class="line">  laser</span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">   s <span class="token operator">:=</span> starship<span class="token punctuation">{</span><span class="token function">laser</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">  <span class="token function">shout</span><span class="token punctuation">(</span>martian<span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// NACK NACK</span></span>
<span class="line">  <span class="token function">shout</span><span class="token punctuation">(</span><span class="token function">laser</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// PEW PEW</span></span>
<span class="line">  <span class="token function">shout</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token comment">// PEW PEW PEW</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><blockquote><p>åŒæ—¶ä½¿ç”¨ç»„åˆå’Œæ¥å£å°†æ„æˆéå¸¸å¼ºå¤§çš„è®¾è®¡å·¥å…·</p></blockquote><h4 id="æ»¡è¶³æ¥å£" tabindex="-1"><a class="header-anchor" href="#æ»¡è¶³æ¥å£"><span>æ»¡è¶³æ¥å£</span></a></h4><p>Go è¯­è¨€çš„æ¥å£éƒ½æ˜¯éšå¼æ»¡è¶³çš„</p><p>Go æ ‡å‡†åº“å¯¼å‡ºäº†å¾ˆå¤šåªæœ‰å•ä¸ªæ–¹æ³•çš„æ¥å£</p><p>ä¾‹å¦‚ fmt åŒ…å£°æ˜çš„ Stringer æ¥å£</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line"><span class="token keyword">type</span> Stringer <span class="token keyword">interface</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token function">String</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">string</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line"><span class="token keyword">type</span> location <span class="token keyword">struct</span> <span class="token punctuation">{</span></span>
<span class="line">  lat<span class="token punctuation">,</span> long <span class="token builtin">float64</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">func</span> <span class="token punctuation">(</span>l location<span class="token punctuation">)</span> <span class="token function">String</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">string</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">return</span> fmt<span class="token punctuation">.</span><span class="token function">Sprintf</span><span class="token punctuation">(</span><span class="token string">&quot;%v, %v&quot;</span><span class="token punctuation">,</span> l<span class="token punctuation">.</span>lat<span class="token punctuation">,</span> l<span class="token punctuation">.</span>long<span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  curiosity <span class="token operator">:=</span> location<span class="token punctuation">{</span><span class="token operator">-</span><span class="token number">4.5895</span><span class="token punctuation">,</span> <span class="token number">137.4417</span><span class="token punctuation">}</span></span>
<span class="line">  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>curiosity<span class="token punctuation">)</span> <span class="token comment">// -4.5895, 137.4417</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><p>æ ‡å‡†åº“ä¸­å¸¸ç”¨çš„æ¥å£è¿˜åŒ…æ‹¬ï¼šio.Readerã€io.Writerã€http.Handlerã€json.Marshaler ç­‰</p><h3 id="æŒ‡é’ˆ" tabindex="-1"><a class="header-anchor" href="#æŒ‡é’ˆ"><span>æŒ‡é’ˆ</span></a></h3><p>æŒ‡é’ˆæ˜¯æŒ‡å‘å¦ä¸€ä¸ªå˜é‡åœ°å€çš„å˜é‡</p><p>Go è¯­è¨€çš„æŒ‡é’ˆåŒæ—¶å¼ºè°ƒå®‰å…¨æ€§ï¼Œä¸ä¼šå‡ºç°è¿·é€”æŒ‡é’ˆï¼ˆdangling pointersï¼‰</p><p>å˜é‡ä¼šå°†å®ƒä»¬çš„å€¼å­˜å‚¨åœ¨è®¡ç®—æœº RAM é‡Œï¼Œå­˜å‚¨ä½ç½®å°±æ˜¯è¯¥å˜é‡çš„å†…å­˜åœ°å€</p><p>&amp; è¡¨ç¤ºåœ°å€æ“ä½œç¬¦ï¼Œé€šè¿‡ &amp; å¯ä»¥è·å¾—å˜é‡çš„å†…å­˜åœ°å€</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  answer <span class="token operator">:=</span> <span class="token number">42</span></span>
<span class="line">  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>answer<span class="token punctuation">)</span> <span class="token comment">// 0xc0000140a8 ç±»ä¼¼çš„ä¸€ä¸ªåœ°å€</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><blockquote><p>&amp; æ“ä½œç¬¦æ— æ³•è·å¾—å­—ç¬¦ä¸²/æ•°å€¼/å¸ƒå°”å­—é¢å€¼çš„åœ°å€ï¼Œ&amp;42ï¼Œ&amp;&quot;hello&quot; éƒ½ä¼šå¯¼è‡´ç¼–è¯‘å™¨æŠ¥é”™</p></blockquote><p>* æ“ä½œç¬¦ä¸ &amp; çš„ä½œç”¨ç›¸åï¼Œå®ƒç”¨æ¥è§£å¼•ç”¨ï¼Œæä¾›å†…å­˜åœ°å€æŒ‡å‘çš„å€¼</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line">answer <span class="token operator">:=</span> <span class="token number">42</span></span>
<span class="line"><span class="token comment">/* Go è¯­è¨€ä¸å…è®¸ address++ è¿™æ ·çš„æŒ‡é’ˆè¿ç®—è¿›è¡Œæ“ä½œ */</span></span>
<span class="line">address <span class="token operator">:=</span> <span class="token operator">&amp;</span>answer</span>
<span class="line">fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token operator">*</span>address<span class="token punctuation">)</span> <span class="token comment">// 42</span></span>
<span class="line">fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;%T\n&quot;</span><span class="token punctuation">,</span> address<span class="token punctuation">)</span> <span class="token comment">// *int</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><blockquote><p>æŒ‡é’ˆå­˜å‚¨çš„æ˜¯å†…å­˜åœ°å€</p><p><strong>æŒ‡é’ˆç±»å‹</strong>å’Œå…¶ä»–æ™®é€šç±»å‹ä¸€æ ·ï¼Œå‡ºç°åœ¨æ‰€æœ‰éœ€è¦ç”¨åˆ°ç±»å‹çš„åœ°æ–¹ï¼Œå¦‚å˜é‡å£°æ˜ã€å‡½æ•°å½¢å‚ã€è¿”å›å€¼ç±»å‹ã€ç»“æ„ä½“å­—æ®µç­‰</p></blockquote><p>æŒ‡é’ˆç±»å‹</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line">canada <span class="token operator">:=</span> <span class="token string">&quot;Canada&quot;</span></span>
<span class="line"><span class="token keyword">var</span> home <span class="token operator">*</span><span class="token builtin">string</span></span>
<span class="line">fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;home is a %T\n&quot;</span><span class="token punctuation">,</span> home<span class="token punctuation">)</span> <span class="token comment">// home is a *string</span></span>
<span class="line">home <span class="token operator">=</span> <span class="token operator">&amp;</span>canada</span>
<span class="line">fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token operator">*</span>home<span class="token punctuation">)</span> <span class="token comment">// Canada</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><blockquote><p>å°† * æ”¾åœ¨ç±»å‹å‰é¢ï¼Œè¡¨ç¤ºå£°æ˜ä¸€ä¸ªæŒ‡é’ˆç±»å‹</p><p>å°† * æ”¾åœ¨å˜é‡å‰é¢ï¼Œè¡¨ç¤ºè§£å¼•ç”¨æ“ä½œï¼Œè·å–æŒ‡é’ˆæŒ‡å‘çš„å€¼</p></blockquote><p>ä¸¤ä¸ªæŒ‡é’ˆå˜é‡æŒ‡å‘åŒä¸€ä¸ªå†…å­˜åœ°å€ï¼Œé‚£ä¹ˆå®ƒä»¬å°±æ˜¯ç›¸ç­‰çš„</p><h4 id="æŒ‡å‘ç»“æ„çš„æŒ‡é’ˆ" tabindex="-1"><a class="header-anchor" href="#æŒ‡å‘ç»“æ„çš„æŒ‡é’ˆ"><span>æŒ‡å‘ç»“æ„çš„æŒ‡é’ˆ</span></a></h4><p>ä¸å­—ç¬¦ä¸²å’Œæ•°å€¼ä¸ä¸€æ ·ï¼Œå¤åˆå­—é¢é‡çš„å‰é¢å¯ä»¥æ”¾ç½® &amp;</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line"><span class="token keyword">type</span> person <span class="token keyword">struct</span> <span class="token punctuation">{</span></span>
<span class="line">  name<span class="token punctuation">,</span> superpower <span class="token builtin">string</span></span>
<span class="line">  age <span class="token builtin">int</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">timmy <span class="token operator">:=</span> <span class="token operator">&amp;</span>person<span class="token punctuation">{</span></span>
<span class="line">  name<span class="token punctuation">:</span> <span class="token string">&quot;Timothy&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  age<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">timmy<span class="token punctuation">.</span>superpower <span class="token operator">=</span> <span class="token string">&quot;flying&quot;</span> <span class="token comment">// ç­‰ä»·äº (*timmy).superpower = &quot;flying&quot;</span></span>
<span class="line"></span>
<span class="line">fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;%+v\n&quot;</span><span class="token punctuation">,</span> timmy<span class="token punctuation">)</span> <span class="token comment">// &amp;{name:Timothy superpower:flying age:10}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><blockquote><p>è®¿é—®å­—æ®µæ—¶ï¼Œå¯¹ç»“æ„ä½“è¿›è¡Œè§£å¼•ç”¨å¹¶ä¸æ˜¯å¿…é¡»çš„</p></blockquote><h4 id="æŒ‡å‘æ•°ç»„çš„æŒ‡é’ˆ" tabindex="-1"><a class="header-anchor" href="#æŒ‡å‘æ•°ç»„çš„æŒ‡é’ˆ"><span>æŒ‡å‘æ•°ç»„çš„æŒ‡é’ˆ</span></a></h4><p>å’Œç»“æ„ä½“ä¸€æ ·ï¼Œå¯ä»¥æŠŠ &amp; æ”¾åœ¨æ•°ç»„çš„å¤åˆå­—é¢å€¼å‰é¢æ¥åˆ›å»ºæŒ‡å‘æ•°ç»„çš„æŒ‡é’ˆ</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line">superpowers <span class="token operator">:=</span> <span class="token operator">&amp;</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token string">&quot;flight&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;invisibility&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;super strength&quot;</span><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>superpowers<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// flight</span></span>
<span class="line">fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>superpowers<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// [invisibility]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><blockquote><p>æ•°ç»„åœ¨æ‰§è¡Œç´¢å¼•æˆ–åˆ‡ç‰‡æ“ä½œæ—¶ï¼Œä¼šè‡ªåŠ¨è§£å¼•ç”¨ï¼Œæ²¡æœ‰å¿…è¦å†™ (*superpowers)[0] è¿™ç§å½¢å¼</p><p>Go é‡Œé¢æ•°ç»„å’ŒæŒ‡é’ˆæ˜¯ä¸¤ç§å®Œå…¨ç‹¬ç«‹çš„ç±»å‹</p><p>slice å’Œ map çš„å¤åˆå­—é¢å€¼å‰é¢ä¹Ÿå¯ä»¥æ”¾ç½® &amp; æ“ä½œç¬¦ï¼Œä½†æ˜¯ Go å¹¶æ²¡æœ‰ä¸ºå®ƒä»¬æä¾›è‡ªåŠ¨è§£å¼•ç”¨çš„åŠŸèƒ½</p></blockquote><h4 id="å®ç°ä¿®æ”¹" tabindex="-1"><a class="header-anchor" href="#å®ç°ä¿®æ”¹"><span>å®ç°ä¿®æ”¹</span></a></h4><p>Go è¯­è¨€çš„å‡½æ•°å’Œæ–¹æ³•éƒ½æ˜¯æŒ‰å€¼ä¼ é€’å‚æ•°çš„ï¼Œè¿™æ„å‘³ç€å‡½æ•°æ€»æ˜¯æ“ä½œäºè¢«ä¼ é€’å‚æ•°çš„å‰¯æœ¬</p><p>å½“æŒ‡é’ˆè¢«ä¼ é€’åˆ°å‡½æ•°æ—¶ï¼Œå‡½æ•°å°†æ¥å—ä¼ å…¥çš„å†…å­˜åœ°å€çš„å‰¯æœ¬ã€‚ä¹‹åå‡½æ•°å¯ä»¥é€šè¿‡è§£å¼•ç”¨å†…å­˜åœ°å€æ¥ä¿®æ”¹æŒ‡é’ˆæŒ‡å‘çš„å€¼</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line"><span class="token keyword">type</span> person <span class="token keyword">struct</span> <span class="token punctuation">{</span></span>
<span class="line">  name <span class="token builtin">string</span></span>
<span class="line">  age <span class="token builtin">int</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">func</span> <span class="token function">birthday</span><span class="token punctuation">(</span>p <span class="token operator">*</span>person<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  p<span class="token punctuation">.</span>age<span class="token operator">++</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  timmy <span class="token operator">:=</span> <span class="token operator">&amp;</span>person<span class="token punctuation">{</span></span>
<span class="line">    name<span class="token punctuation">:</span> <span class="token string">&quot;Timothy&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    age<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">  <span class="token function">birthday</span><span class="token punctuation">(</span>timmy<span class="token punctuation">)</span></span>
<span class="line">  fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;%+v\n&quot;</span><span class="token punctuation">,</span> timmy<span class="token punctuation">)</span> <span class="token comment">// &amp;{name:Timothy superpower: age:11}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><h4 id="æŒ‡é’ˆæ¥æ”¶è€…" tabindex="-1"><a class="header-anchor" href="#æŒ‡é’ˆæ¥æ”¶è€…"><span>æŒ‡é’ˆæ¥æ”¶è€…</span></a></h4><p>æ–¹æ³•çš„æ¥æ”¶è€…å’Œæ–¹æ³•çš„å‚æ•°åœ¨å¤„ç†æŒ‡é’ˆæ–¹é¢æ˜¯å¾ˆç›¸ä¼¼çš„</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line"><span class="token keyword">type</span> person <span class="token keyword">struct</span> <span class="token punctuation">{</span></span>
<span class="line">  name <span class="token builtin">string</span></span>
<span class="line">  age <span class="token builtin">int</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">func</span> <span class="token punctuation">(</span>p <span class="token operator">*</span>person<span class="token punctuation">)</span> <span class="token function">birthday</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  p<span class="token punctuation">.</span>age<span class="token operator">++</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  timmy <span class="token operator">:=</span> <span class="token operator">&amp;</span>person<span class="token punctuation">{</span></span>
<span class="line">    name<span class="token punctuation">:</span> <span class="token string">&quot;Timothy&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    age<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">  timmy<span class="token punctuation">.</span><span class="token function">birthday</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">  fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;%+v\n&quot;</span><span class="token punctuation">,</span> timmy<span class="token punctuation">)</span> <span class="token comment">// &amp;{name:Timothy superpower: age:11}</span></span>
<span class="line"></span>
<span class="line">  <span class="token comment">/* Go è¯­è¨€åœ¨å˜é‡é€šè¿‡ç‚¹æ ‡è®°æ³•è¿›è¡Œè°ƒç”¨çš„æ—¶å€™ï¼Œè‡ªåŠ¨ä½¿ç”¨ &amp; å–å¾—å˜é‡çš„å†…å­˜åœ°å€ */</span></span>
<span class="line">  nathan <span class="token operator">:=</span> person<span class="token punctuation">{</span><span class="token string">&quot;Nathan&quot;</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">}</span></span>
<span class="line">  nathan<span class="token punctuation">.</span><span class="token function">birthday</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// (&amp;nathan).birthday()</span></span>
<span class="line">  fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;%+v\n&quot;</span><span class="token punctuation">,</span> nathan<span class="token punctuation">)</span> <span class="token comment">// {name:Nathan superpower: age:19}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><blockquote><p>ä½¿ç”¨æŒ‡é’ˆä½œä¸ºæ¥æ”¶è€…çš„ç­–ç•¥åº”è¯¥å§‹ç»ˆå¦‚ä¸€ï¼šå¦‚æœä¸€ç§ç±»å‹çš„æŸäº›æ–¹æ³•éœ€è¦ç”¨åˆ°æŒ‡é’ˆä½œä¸ºæ¥æ”¶è€…ï¼Œè¿™ç§ç±»å‹çš„æ‰€æœ‰æ–¹æ³•å°±åº”è¯¥éƒ½æ˜¯ç”¨æŒ‡é’ˆä½œä¸ºæ¥æ”¶è€…</p></blockquote><h4 id="å†…éƒ¨æŒ‡é’ˆ" tabindex="-1"><a class="header-anchor" href="#å†…éƒ¨æŒ‡é’ˆ"><span>å†…éƒ¨æŒ‡é’ˆ</span></a></h4><p>Go æä¾›äº†å†…éƒ¨æŒ‡é’ˆè¿™ç§ç‰¹æ€§ï¼Œå®ƒç”¨äºç¡®å®šç»“æ„ä½“ä¸­æŒ‡å®šå­—æ®µçš„å†…å­˜åœ°å€</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line"><span class="token keyword">type</span> stats <span class="token keyword">struct</span> <span class="token punctuation">{</span></span>
<span class="line">  level <span class="token builtin">int</span></span>
<span class="line">  endurance<span class="token punctuation">,</span> health <span class="token builtin">int</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">func</span> <span class="token function">levelUp</span><span class="token punctuation">(</span>s <span class="token operator">*</span>stats<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  s<span class="token punctuation">.</span>level<span class="token operator">++</span></span>
<span class="line">  s<span class="token punctuation">.</span>endurance <span class="token operator">=</span> <span class="token number">42</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token number">14</span> <span class="token operator">*</span> s<span class="token punctuation">.</span>level<span class="token punctuation">)</span></span>
<span class="line">  s<span class="token punctuation">.</span>health <span class="token operator">=</span> <span class="token number">5</span> <span class="token operator">*</span> s<span class="token punctuation">.</span>endurance</span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">type</span> character <span class="token keyword">struct</span> <span class="token punctuation">{</span></span>
<span class="line">  name <span class="token builtin">string</span></span>
<span class="line">  stats stats</span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  player <span class="token operator">:=</span> character<span class="token punctuation">{</span>name<span class="token punctuation">:</span> <span class="token string">&quot;Matthias&quot;</span><span class="token punctuation">}</span></span>
<span class="line">  <span class="token function">levelUp</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>player<span class="token punctuation">.</span>stats<span class="token punctuation">)</span> <span class="token comment">// &amp; æ“ä½œç¬¦ä¸ä»…å¯ä»¥è·å¾—ç»“æ„ä½“çš„å†…å­˜åœ°å€ï¼Œè¿˜å¯ä»¥è·å¾—ç»“æ„ä½“ä¸­æŒ‡å®šå­—æ®µçš„å†…å­˜åœ°å€</span></span>
<span class="line">  fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;%+v\n&quot;</span><span class="token punctuation">,</span> player<span class="token punctuation">)</span> <span class="token comment">// {name:Matthias stats:{level:1 endurance:56 health:280}}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><h4 id="ä¿®æ”¹æ•°ç»„" tabindex="-1"><a class="header-anchor" href="#ä¿®æ”¹æ•°ç»„"><span>ä¿®æ”¹æ•°ç»„</span></a></h4><p>å‡½æ•°é€šè¿‡æŒ‡é’ˆå¯¹æ•°ç»„çš„å…ƒç´ è¿›è¡Œä¿®æ”¹</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line"><span class="token keyword">func</span> <span class="token function">reset</span><span class="token punctuation">(</span>board <span class="token operator">*</span><span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token builtin">rune</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  board<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token char">&#39;r&#39;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">var</span> board <span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token builtin">rune</span></span>
<span class="line">  <span class="token function">reset</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>board<span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">  fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;%c&quot;</span><span class="token punctuation">,</span> board<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// r</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><h4 id="éšå¼çš„æŒ‡é’ˆ" tabindex="-1"><a class="header-anchor" href="#éšå¼çš„æŒ‡é’ˆ"><span>éšå¼çš„æŒ‡é’ˆ</span></a></h4><p>Go è¯­è¨€é‡Œçš„ä¸€äº›å†…ç½®çš„é›†åˆç±»å‹å°±åœ¨æš—ä¸­ä½¿ç”¨æŒ‡é’ˆ</p><ul><li><p>map åœ¨è¢«èµ‹å€¼æˆ–è€…ä½œä¸ºå‚æ•°ä¼ é€’çš„æ—¶å€™ä¸ä¼šè¢«å¤åˆ¶</p><ul><li><code>func demolish(planets *map[string]string)</code> è¿™ç§å†™æ³•å°±æ˜¯å¤šæ­¤ä¸€ä¸¾</li><li>map çš„é”®å’Œå€¼éƒ½å¯ä»¥æ˜¯æŒ‡é’ˆç±»å‹</li><li>éœ€è¦å°†æŒ‡é’ˆæŒ‡å‘ map çš„æƒ…å†µä¸å¤šè§</li></ul></li><li><p>slice åœ¨æŒ‡å‘æ•°ç»„å…ƒç´ çš„æ—¶å€™ä¹Ÿä½¿ç”¨äº†æŒ‡é’ˆ</p><ul><li>æ¯ä¸ª slice å†…éƒ¨éƒ½ä¼šè¢«è¡¨ç¤ºä¸ºä¸€ä¸ªåŒ…å« 3 ä¸ªå…ƒç´ çš„ç»“æ„ï¼Œå®ƒä»¬åˆ†åˆ«æŒ‡å‘æ•°ç»„çš„æŒ‡é’ˆã€slice çš„é•¿åº¦å’Œ slice çš„å®¹é‡</li><li>å½“ slice è¢«ç›´æ¥ä¼ é€’è‡³å‡½æ•°æˆ–æ–¹æ³•æ—¶ï¼Œslice çš„å†…éƒ¨æŒ‡é’ˆå°±å¯ä»¥å¯¹åº•å±‚æ•°æ®è¿›è¡Œä¿®æ”¹</li><li>æŒ‡å‘ slice çš„æ˜¾ç¤ºæŒ‡é’ˆçš„å”¯ä¸€ä½œç”¨å°±æ˜¯ä¿®æ”¹ slice æœ¬èº«ï¼Œslice çš„é•¿åº¦ã€å®¹é‡ä»¥åŠèµ·å§‹åç§»é‡</li></ul></li></ul><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line"><span class="token keyword">func</span> <span class="token function">reclassify</span><span class="token punctuation">(</span>planets <span class="token operator">*</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token operator">*</span>planets <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">*</span>planets<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token number">8</span><span class="token punctuation">]</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  planets <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span></span>
<span class="line">    <span class="token string">&quot;Mercury&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Venus&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Earth&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Mars&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token string">&quot;Jupiter&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Saturn&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Uranus&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Neptune&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Pluto&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">  <span class="token function">reclassify</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>planets<span class="token punctuation">)</span></span>
<span class="line">  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>planets<span class="token punctuation">)</span> <span class="token comment">// [Mercury Venus Earth Mars Jupiter Saturn Uranus Neptune]</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><h4 id="æŒ‡é’ˆå’Œæ¥å£" tabindex="-1"><a class="header-anchor" href="#æŒ‡é’ˆå’Œæ¥å£"><span>æŒ‡é’ˆå’Œæ¥å£</span></a></h4><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line"><span class="token keyword">type</span> talker <span class="token keyword">interface</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token function">talk</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">string</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">func</span> <span class="token function">shout</span><span class="token punctuation">(</span>t talker<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>strings<span class="token punctuation">.</span><span class="token function">ToUpper</span><span class="token punctuation">(</span>t<span class="token punctuation">.</span><span class="token function">talk</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">type</span> martian <span class="token keyword">struct</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">func</span> <span class="token punctuation">(</span>m martian<span class="token punctuation">)</span> <span class="token function">talk</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">string</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">return</span> <span class="token string">&quot;nack nack&quot;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token comment">/* æ— è®ºæ˜¯ martian è¿˜æ˜¯æŒ‡å‘ martian çš„æŒ‡é’ˆï¼Œéƒ½å¯ä»¥æ»¡è¶³ talker æ¥å£ */</span></span>
<span class="line">  <span class="token function">shout</span><span class="token punctuation">(</span>martian<span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// NACK NACK</span></span>
<span class="line">  <span class="token function">shout</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>martian<span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// NACK NACK</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><p>ä¸Šä¾‹ä¸­æ— è®ºæ˜¯ martian è¿˜æ˜¯æŒ‡å‘ martian çš„æŒ‡é’ˆï¼Œéƒ½å¯ä»¥æ»¡è¶³ talker æ¥å£</p><p>å¦‚æœæ–¹æ³•ä½¿ç”¨çš„æ˜¯æŒ‡é’ˆæ¥æ”¶è€…ï¼Œé‚£ä¹ˆæƒ…å†µä¼šæœ‰æ‰€ä¸åŒ</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line"><span class="token keyword">type</span> talker <span class="token keyword">interface</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token function">talk</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">string</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">func</span> <span class="token function">shout</span><span class="token punctuation">(</span>t talker<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>strings<span class="token punctuation">.</span><span class="token function">ToUpper</span><span class="token punctuation">(</span>t<span class="token punctuation">.</span><span class="token function">talk</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">type</span> laser <span class="token builtin">int</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">func</span> <span class="token punctuation">(</span>l <span class="token operator">*</span>laser<span class="token punctuation">)</span> <span class="token function">talk</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">string</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">return</span> strings<span class="token punctuation">.</span><span class="token function">Repeat</span><span class="token punctuation">(</span><span class="token string">&quot;pew &quot;</span><span class="token punctuation">,</span> <span class="token function">int</span><span class="token punctuation">(</span><span class="token operator">*</span>l<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  laser <span class="token operator">:=</span> <span class="token function">laser</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token function">shout</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>laser<span class="token punctuation">)</span> <span class="token comment">// PEW PEW</span></span>
<span class="line">  <span class="token function">shout</span><span class="token punctuation">(</span>laser<span class="token punctuation">)</span> <span class="token comment">// cannot use laser (type laser) as type talker in argument to shout: laser does not implement talker (talk method has pointer receiver)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><h4 id="æ˜æ™ºçš„ä½¿ç”¨æŒ‡é’ˆ" tabindex="-1"><a class="header-anchor" href="#æ˜æ™ºçš„ä½¿ç”¨æŒ‡é’ˆ"><span>æ˜æ™ºçš„ä½¿ç”¨æŒ‡é’ˆ</span></a></h4><p>åº”åˆç†ä½¿ç”¨æŒ‡é’ˆï¼Œä¸è¦è¿‡åº¦ä½¿ç”¨</p><h3 id="nil" tabindex="-1"><a class="header-anchor" href="#nil"><span>nil</span></a></h3><p>nil æ˜¯ä¸€ä¸ªåè¯ï¼Œè¡¨ç¤ºâ€œæ— â€æˆ–è€…â€œé›¶â€</p><p>åœ¨ Go é‡Œï¼Œnil æ˜¯ä¸€ä¸ªé›¶å€¼</p><p>å¦‚æœä¸€ä¸ªæŒ‡é’ˆæ²¡æœ‰æ˜ç¡®çš„æŒ‡å‘ï¼Œé‚£ä¹ˆå®ƒçš„å€¼å°±æ˜¯ nil</p><p>é™¤äº†æŒ‡é’ˆï¼Œnil è¿˜æ˜¯ slice ã€mapã€channelã€interface å’Œå‡½æ•°çš„é›¶å€¼</p><p>Go è¯­è¨€çš„ nil æ¯”ä»¥å¾€è¯­è¨€çš„ null æ›´ä¸ºå‹å¥½ï¼Œå¹¶ä¸”ç”¨çš„æ²¡é‚£ä¹ˆé¢‘ç¹ï¼Œä½†æ˜¯ä»éœ€è°¨æ…ä½¿ç”¨</p><h4 id="nil-ä¼šå¯¼è‡´-panic" tabindex="-1"><a class="header-anchor" href="#nil-ä¼šå¯¼è‡´-panic"><span>nil ä¼šå¯¼è‡´ panic</span></a></h4><p>å¦‚æœæŒ‡é’ˆæ²¡æœ‰æ˜ç¡®çš„æŒ‡å‘ï¼Œé‚£ä¹ˆç¨‹åºå°†æ— æ³•å¯¹å…¶å®æ–½è§£å¼•ç”¨</p><p>å°è¯•è§£å¼•ç”¨ä¸€ä¸ª nil æŒ‡é’ˆå°†å¯¼è‡´ç¨‹åºå´©æºƒ</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line"><span class="token keyword">var</span> nowhere <span class="token operator">*</span><span class="token builtin">int</span></span>
<span class="line">fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>nowhere<span class="token punctuation">)</span> <span class="token comment">// &lt;nil&gt;</span></span>
<span class="line">fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token operator">*</span>nowhere<span class="token punctuation">)</span> <span class="token comment">// panic: runtime error: invalid memory address or nil pointer dereference</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><h4 id="é¿å…-nil-å¼•å‘-panic" tabindex="-1"><a class="header-anchor" href="#é¿å…-nil-å¼•å‘-panic"><span>é¿å… nil å¼•å‘ panic</span></a></h4><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line"><span class="token keyword">type</span> person <span class="token keyword">struct</span> <span class="token punctuation">{</span></span>
<span class="line">  age <span class="token builtin">int</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">func</span> <span class="token punctuation">(</span>p <span class="token operator">*</span>person<span class="token punctuation">)</span> <span class="token function">birthday</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token comment">// é¿å… nil å¼•å‘ panic</span></span>
<span class="line">  <span class="token keyword">if</span> p <span class="token operator">==</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">return</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line">  p<span class="token punctuation">.</span>age<span class="token operator">++</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">var</span> nobody <span class="token operator">*</span>person</span>
<span class="line">  nobody<span class="token punctuation">.</span><span class="token function">birthday</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><blockquote><p>å› ä¸ºå€¼ä¸º nil çš„æ¥æ”¶è€…å’Œå€¼ä¸º nil çš„å‚æ•°åœ¨è¡Œä¸ºä¸Šå¹¶æ²¡æœ‰åŒºåˆ«ï¼Œæ‰€ä»¥ Go è¯­è¨€å³ä½¿åœ¨æ¥æ”¶è€…ä¸º nil çš„æƒ…å†µä¸‹ï¼Œä¹Ÿä¼šç»§ç»­è°ƒç”¨æ–¹æ³•</p></blockquote><h4 id="nil-å‡½æ•°å€¼" tabindex="-1"><a class="header-anchor" href="#nil-å‡½æ•°å€¼"><span>nil å‡½æ•°å€¼</span></a></h4><p>å½“å˜é‡è¢«å£°æ˜ä¸ºå‡½æ•°ç±»å‹æ—¶ï¼Œå®ƒçš„é»˜è®¤å€¼æ˜¯ nil</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line"><span class="token keyword">var</span> fn <span class="token keyword">func</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">int</span></span>
<span class="line">fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>fn <span class="token operator">==</span> <span class="token boolean">nil</span><span class="token punctuation">)</span> <span class="token comment">// true</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><p>æ£€æŸ¥å‡½æ•°å€¼æ˜¯å¦ä¸º nilï¼Œå¹¶åœ¨æœ‰éœ€è¦æ—¶æä¾›é»˜è®¤è¡Œä¸º</p><h4 id="nil-slice" tabindex="-1"><a class="header-anchor" href="#nil-slice"><span>nil slice</span></a></h4><p>å¦‚æœ slice åœ¨å£°æ˜ä¹‹åæ²¡æœ‰ä½¿ç”¨å¤åˆå­—é¢å€¼æˆ–å†…ç½®çš„ make å‡½æ•°è¿›è¡Œåˆå§‹åŒ–ï¼Œé‚£ä¹ˆå®ƒçš„å€¼å°±æ˜¯ nil</p><p>å¹¸è¿çš„æ˜¯ï¼Œrange\len\append ç­‰å†…ç½®å‡½æ•°éƒ½å¯ä»¥å®‰å…¨åœ°å¤„ç†å€¼ä¸º nil çš„ slice</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line"><span class="token keyword">var</span> soup <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span></span>
<span class="line">fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>soup <span class="token operator">==</span> <span class="token boolean">nil</span><span class="token punctuation">)</span> <span class="token comment">// true</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">for</span> <span class="token boolean">_</span><span class="token punctuation">,</span> ingredient <span class="token operator">:=</span> <span class="token keyword">range</span> soup <span class="token punctuation">{</span></span>
<span class="line">  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>ingredient<span class="token punctuation">)</span> <span class="token comment">// ä¸ä¼šæ‰§è¡Œ</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token function">len</span><span class="token punctuation">(</span>soup<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 0</span></span>
<span class="line"></span>
<span class="line">soup <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>soup<span class="token punctuation">,</span> <span class="token string">&quot;onion&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;carrot&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;celery&quot;</span><span class="token punctuation">)</span></span>
<span class="line">fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>soup<span class="token punctuation">)</span> <span class="token comment">// [onion carrot celery]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><p>è™½ç„¶ç©º slice å’Œå€¼ä¸º nil çš„ slice å¹¶ä¸ç›¸ç­‰ï¼Œä½†å®ƒä»¬é€šå¸¸å¯ä»¥æ›¿æ¢ä½¿ç”¨</p><h4 id="nil-map" tabindex="-1"><a class="header-anchor" href="#nil-map"><span>nil map</span></a></h4><p>å’Œ slice ä¸€æ ·ï¼Œå¦‚æœ map åœ¨å£°æ˜ä¹‹åæ²¡æœ‰ä½¿ç”¨å¤åˆå­—é¢å€¼æˆ–å†…ç½®çš„ make å‡½æ•°è¿›è¡Œåˆå§‹åŒ–ï¼Œé‚£ä¹ˆå®ƒçš„å€¼å°±æ˜¯ nil</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line"><span class="token keyword">var</span> soup <span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token builtin">int</span></span>
<span class="line">fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>soup <span class="token operator">==</span> <span class="token boolean">nil</span><span class="token punctuation">)</span> <span class="token comment">// true</span></span>
<span class="line"></span>
<span class="line">measurements<span class="token punctuation">,</span> ok <span class="token operator">:=</span> soup<span class="token punctuation">[</span><span class="token string">&quot;onion&quot;</span><span class="token punctuation">]</span></span>
<span class="line"><span class="token keyword">if</span> ok <span class="token punctuation">{</span></span>
<span class="line">  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>measurements<span class="token punctuation">)</span> <span class="token comment">// ä¸ä¼šæ‰§è¡Œ</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">for</span> ingredient<span class="token punctuation">,</span> measurement <span class="token operator">:=</span> <span class="token keyword">range</span> soup <span class="token punctuation">{</span></span>
<span class="line">  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>ingredient<span class="token punctuation">,</span> measurement<span class="token punctuation">)</span> <span class="token comment">// ä¸ä¼šæ‰§è¡Œ</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><h4 id="nil-æ¥å£" tabindex="-1"><a class="header-anchor" href="#nil-æ¥å£"><span>nil æ¥å£</span></a></h4><p>å£°æ˜ä¸ºæ¥å£ç±»å‹çš„å˜é‡åœ¨æœªè¢«èµ‹å€¼æ—¶ï¼Œå®ƒçš„é›¶å€¼æ˜¯ nil</p><p>å¯¹äºä¸€ä¸ªæœªè¢«èµ‹å€¼çš„æ¥å£å˜é‡æ¥è¯´ï¼Œå®ƒçš„æ¥å£ç±»å‹å’Œå€¼éƒ½æ˜¯ nilï¼Œå¹¶ä¸”å˜é‡æœ¬èº«ä¹Ÿç­‰äº nil</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line"><span class="token keyword">var</span> v <span class="token keyword">interface</span><span class="token punctuation">{</span><span class="token punctuation">}</span></span>
<span class="line">fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;%T %v %v\n&quot;</span><span class="token punctuation">,</span> v<span class="token punctuation">,</span> v<span class="token punctuation">,</span> v <span class="token operator">==</span> <span class="token boolean">nil</span><span class="token punctuation">)</span> <span class="token comment">// &lt;nil&gt; &lt;nil&gt; true</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><p>å½“æ¥å£ç±»å‹çš„å˜é‡è¢«èµ‹å€¼åï¼Œæ¥å£å°±ä¼šåœ¨å†…éƒ¨æŒ‡å‘è¯¥å˜é‡çš„ç±»å‹å’Œå€¼</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line"><span class="token keyword">var</span> v <span class="token keyword">interface</span><span class="token punctuation">{</span><span class="token punctuation">}</span></span>
<span class="line">fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;%T %v %v\n&quot;</span><span class="token punctuation">,</span> v<span class="token punctuation">,</span> v<span class="token punctuation">,</span> v <span class="token operator">==</span> <span class="token boolean">nil</span><span class="token punctuation">)</span> <span class="token comment">// &lt;nil&gt; &lt;nil&gt; true</span></span>
<span class="line"><span class="token keyword">var</span> p <span class="token operator">*</span><span class="token builtin">int</span></span>
<span class="line">v <span class="token operator">=</span> p</span>
<span class="line">fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;%T %v %v\n&quot;</span><span class="token punctuation">,</span> v<span class="token punctuation">,</span> v<span class="token punctuation">,</span> v <span class="token operator">==</span> <span class="token boolean">nil</span><span class="token punctuation">)</span> <span class="token comment">// *int &lt;nil&gt; false</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// æ£€éªŒæ¥å£å˜é‡çš„å†…éƒ¨è¡¨ç¤º</span></span>
<span class="line">fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;%#v\n&quot;</span><span class="token punctuation">,</span> v<span class="token punctuation">)</span> <span class="token comment">// (*int)(nil)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><blockquote><p>åœ¨ Go ä¸­ï¼Œæ¥å£ç±»å‹çš„å˜é‡åªæœ‰åœ¨ç±»å‹å’Œå€¼éƒ½ä¸º nil æ—¶æ‰ç­‰äº nil</p></blockquote><h4 id="nil-ä¹‹å¤–çš„å¦ä¸€ä¸ªé€‰æ‹©" tabindex="-1"><a class="header-anchor" href="#nil-ä¹‹å¤–çš„å¦ä¸€ä¸ªé€‰æ‹©"><span>nil ä¹‹å¤–çš„å¦ä¸€ä¸ªé€‰æ‹©</span></a></h4><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line"><span class="token keyword">type</span> number <span class="token keyword">struct</span> <span class="token punctuation">{</span></span>
<span class="line">  value <span class="token builtin">int</span></span>
<span class="line">  valid <span class="token builtin">bool</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">func</span> <span class="token function">newNumber</span><span class="token punctuation">(</span>v <span class="token builtin">int</span><span class="token punctuation">)</span> number <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">return</span> number<span class="token punctuation">{</span>value<span class="token punctuation">:</span> v<span class="token punctuation">,</span> valid<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">func</span> <span class="token punctuation">(</span>n number<span class="token punctuation">)</span> <span class="token function">String</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">string</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">if</span> <span class="token operator">!</span>n<span class="token punctuation">.</span>valid <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">return</span> <span class="token string">&quot;æœªçŸ¥&quot;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line">  <span class="token keyword">return</span> strconv<span class="token punctuation">.</span><span class="token function">Itoa</span><span class="token punctuation">(</span>n<span class="token punctuation">.</span>value<span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  n <span class="token operator">:=</span> <span class="token function">newNumber</span><span class="token punctuation">(</span><span class="token number">42</span><span class="token punctuation">)</span></span>
<span class="line">  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span> <span class="token comment">// 42</span></span>
<span class="line">  n <span class="token operator">=</span> number<span class="token punctuation">{</span><span class="token punctuation">}</span></span>
<span class="line">  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span> <span class="token comment">// æœªçŸ¥</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><h3 id="é”™è¯¯" tabindex="-1"><a class="header-anchor" href="#é”™è¯¯"><span>é”™è¯¯</span></a></h3><h4 id="å¤„ç†é”™è¯¯" tabindex="-1"><a class="header-anchor" href="#å¤„ç†é”™è¯¯"><span>å¤„ç†é”™è¯¯</span></a></h4><p>Go è¯­è¨€å…è®¸å‡½æ•°å’Œæ–¹æ³•åŒæ—¶è¿”å›å¤šä¸ªå€¼</p><p>æŒ‰ç…§æƒ¯ä¾‹ï¼Œå‡½æ•°åœ¨è¿”å›é”™è¯¯æ—¶ï¼Œæœ€åè¾¹çš„è¿”å›å€¼åº”ç”¨æ¥è¡¨ç¤ºé”™è¯¯</p><p>è°ƒç”¨å‡½æ•°åï¼Œåº”ç«‹å³æ£€æŸ¥æ˜¯å¦å‘ç”Ÿé”™è¯¯</p><ul><li>å¦‚æœæ²¡æœ‰é”™è¯¯å‘ç”Ÿï¼Œé‚£ä¹ˆè¿”å›çš„é”™è¯¯å€¼ä¸º nil</li></ul><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line">files<span class="token punctuation">,</span> err <span class="token operator">:=</span> ioutil<span class="token punctuation">.</span><span class="token function">ReadDir</span><span class="token punctuation">(</span><span class="token string">&quot;.&quot;</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span></span>
<span class="line">  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span></span>
<span class="line">  os<span class="token punctuation">.</span><span class="token function">Exit</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token keyword">for</span> <span class="token boolean">_</span><span class="token punctuation">,</span> file <span class="token operator">:=</span> <span class="token keyword">range</span> files <span class="token punctuation">{</span></span>
<span class="line">  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>file<span class="token punctuation">.</span><span class="token function">Name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><p>æ³¨æ„ï¼šå½“é”™è¯¯å‘ç”Ÿæ—¶ï¼Œå‡½æ•°è¿”å›çš„å…¶ä»–å€¼é€šå¸¸å°±ä¸å†å¯ä¿¡</p><h4 id="ä¼˜é›…çš„é”™è¯¯å¤„ç†" tabindex="-1"><a class="header-anchor" href="#ä¼˜é›…çš„é”™è¯¯å¤„ç†"><span>ä¼˜é›…çš„é”™è¯¯å¤„ç†</span></a></h4><p>å‡å°‘é”™è¯¯å¤„ç†ä»£ç çš„ä¸€ç§ç­–ç•¥æ˜¯ï¼šå°†ç¨‹åºä¸­ä¸ä¼šå‡ºé”™çš„éƒ¨åˆ†å’ŒåŒ…å«æ½œåœ¨é”™è¯¯éšæ‚£çš„éƒ¨åˆ†éš”ç¦»å¼€æ¥</p><p>å¯¹äºä¸å¾—ä¸è¿”å›é”™è¯¯çš„ä»£ç ï¼Œåº”å°½åŠ›ç®€åŒ–ç›¸åº”çš„é”™è¯¯å¤„ç†ä»£ç </p><h4 id="æ–‡ä»¶å†™å…¥" tabindex="-1"><a class="header-anchor" href="#æ–‡ä»¶å†™å…¥"><span>æ–‡ä»¶å†™å…¥</span></a></h4><p>å†™å…¥æ–‡ä»¶çš„æ—¶å€™å¯èƒ½å‡ºé”™ï¼š</p><ul><li>è·¯å¾„ä¸æ­£ç¡®</li><li>æƒé™ä¸å¤Ÿ</li><li>ç£ç›˜ç©ºé—´ä¸è¶³</li><li>...</li></ul><p>æ–‡ä»¶å†™å…¥å®Œæ¯•åï¼Œå¿…é¡»è¢«å…³é—­ï¼Œç¡®ä¿æ–‡ä»¶è¢«åˆ·åˆ°ç£ç›˜ä¸Šï¼Œé¿å…èµ„æºçš„æ³„éœ²</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line"><span class="token comment">// å†…ç½®ç±»å‹ error ç”¨æ¥è¡¨ç¤ºé”™è¯¯</span></span>
<span class="line"><span class="token keyword">func</span> <span class="token function">proverbs</span><span class="token punctuation">(</span>name <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token builtin">error</span> <span class="token punctuation">{</span></span>
<span class="line">  f<span class="token punctuation">,</span> err <span class="token operator">:=</span> os<span class="token punctuation">.</span><span class="token function">Create</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span></span>
<span class="line">  <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">return</span> err</span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">  <span class="token boolean">_</span><span class="token punctuation">,</span> err <span class="token operator">=</span> fmt<span class="token punctuation">.</span><span class="token function">Fprintln</span><span class="token punctuation">(</span>f<span class="token punctuation">,</span> <span class="token string">&quot;Errors are values.&quot;</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span></span>
<span class="line">    f<span class="token punctuation">.</span><span class="token function">Close</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">return</span> err</span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">  <span class="token boolean">_</span><span class="token punctuation">,</span> err <span class="token operator">=</span> fmt<span class="token punctuation">.</span><span class="token function">Fprintln</span><span class="token punctuation">(</span>f<span class="token punctuation">,</span> <span class="token string">&quot;Don&#39;t just check errors, handle them gracefully.&quot;</span><span class="token punctuation">)</span></span>
<span class="line">  f<span class="token punctuation">.</span><span class="token function">Close</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token keyword">return</span> err</span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  err <span class="token operator">:=</span> <span class="token function">proverbs</span><span class="token punctuation">(</span><span class="token string">&quot;proverbs.txt&quot;</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span></span>
<span class="line">    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span></span>
<span class="line">    os<span class="token punctuation">.</span><span class="token function">Exit</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><h4 id="defer-å…³é”®å­—" tabindex="-1"><a class="header-anchor" href="#defer-å…³é”®å­—"><span>defer å…³é”®å­—</span></a></h4><p>ä½¿ç”¨ defer å…³é”®å­—ï¼ŒGo å¯ä»¥ç¡®ä¿æ‰€æœ‰ deferred çš„åŠ¨ä½œå¯ä»¥åœ¨å‡½æ•°è¿”å›å‰æ‰§è¡Œ</p><p>å¯ä»¥ defer ä»»æ„çš„å‡½æ•°å’Œæ–¹æ³•</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line"><span class="token keyword">func</span> <span class="token function">proverbs</span><span class="token punctuation">(</span>name <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>err <span class="token builtin">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  f<span class="token punctuation">,</span> err <span class="token operator">:=</span> os<span class="token punctuation">.</span><span class="token function">Create</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span></span>
<span class="line">  <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">return</span> err</span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line">  <span class="token keyword">defer</span> f<span class="token punctuation">.</span><span class="token function">Close</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">  <span class="token boolean">_</span><span class="token punctuation">,</span> err <span class="token operator">=</span> fmt<span class="token punctuation">.</span><span class="token function">Fprintln</span><span class="token punctuation">(</span>f<span class="token punctuation">,</span> <span class="token string">&quot;Errors are values.&quot;</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">return</span> err</span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">  <span class="token boolean">_</span><span class="token punctuation">,</span> err <span class="token operator">=</span> fmt<span class="token punctuation">.</span><span class="token function">Fprintln</span><span class="token punctuation">(</span>f<span class="token punctuation">,</span> <span class="token string">&quot;Don&#39;t just check errors, handle them gracefully.&quot;</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token keyword">return</span> err</span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><p>defer å¹¶ä¸æ˜¯ä¸“é—¨åšé”™è¯¯å¤„ç†çš„</p><p>defer å¯ä»¥æ¶ˆé™¤å¿…é¡»æ—¶åˆ»æƒ¦è®°æ‰§è¡Œèµ„æºé‡Šæ”¾çš„è´Ÿæ‹…</p><h4 id="æœ‰åˆ›æ„çš„é”™è¯¯å¤„ç†" tabindex="-1"><a class="header-anchor" href="#æœ‰åˆ›æ„çš„é”™è¯¯å¤„ç†"><span>æœ‰åˆ›æ„çš„é”™è¯¯å¤„ç†</span></a></h4><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line"><span class="token keyword">type</span> safeWriter <span class="token keyword">struct</span> <span class="token punctuation">{</span></span>
<span class="line">	w   io<span class="token punctuation">.</span>Writer</span>
<span class="line">	err <span class="token builtin">error</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">func</span> <span class="token punctuation">(</span>sw <span class="token operator">*</span>safeWriter<span class="token punctuation">)</span> <span class="token function">writeln</span><span class="token punctuation">(</span>s <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">	<span class="token keyword">if</span> sw<span class="token punctuation">.</span>err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span></span>
<span class="line">		<span class="token keyword">return</span></span>
<span class="line">	<span class="token punctuation">}</span></span>
<span class="line">	<span class="token boolean">_</span><span class="token punctuation">,</span> sw<span class="token punctuation">.</span>err <span class="token operator">=</span> fmt<span class="token punctuation">.</span><span class="token function">Fprintln</span><span class="token punctuation">(</span>sw<span class="token punctuation">.</span>w<span class="token punctuation">,</span> s<span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">func</span> <span class="token function">proverbs</span><span class="token punctuation">(</span>name <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token builtin">error</span> <span class="token punctuation">{</span></span>
<span class="line">	f<span class="token punctuation">,</span> err <span class="token operator">:=</span> os<span class="token punctuation">.</span><span class="token function">Create</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span></span>
<span class="line">	<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span></span>
<span class="line">		<span class="token keyword">return</span> err</span>
<span class="line">	<span class="token punctuation">}</span></span>
<span class="line">	<span class="token keyword">defer</span> f<span class="token punctuation">.</span><span class="token function">Close</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">	sw <span class="token operator">:=</span> safeWriter<span class="token punctuation">{</span>w<span class="token punctuation">:</span> f<span class="token punctuation">}</span></span>
<span class="line">	sw<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span><span class="token string">&quot;Errors are values.&quot;</span><span class="token punctuation">)</span></span>
<span class="line">	sw<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span><span class="token string">&quot;Don&#39;t just check errors, handle them gracefully.&quot;</span><span class="token punctuation">)</span></span>
<span class="line">	sw<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span><span class="token string">&quot;Don&#39;t panic.&quot;</span><span class="token punctuation">)</span></span>
<span class="line">	sw<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span><span class="token string">&quot;Make the zero value useful.&quot;</span><span class="token punctuation">)</span></span>
<span class="line">	sw<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span><span class="token string">&quot;The bigger the interface, the weaker the abstraction.&quot;</span><span class="token punctuation">)</span></span>
<span class="line">	sw<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span><span class="token string">&quot;interface{} says nothing.&quot;</span><span class="token punctuation">)</span></span>
<span class="line">	sw<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span><span class="token string">&quot;Gofmt&#39;s style is no one&#39;s favorite, yet gofmt is everyone&#39;s favorite.&quot;</span><span class="token punctuation">)</span></span>
<span class="line">	sw<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span><span class="token string">&quot;Documentation is for users.&quot;</span><span class="token punctuation">)</span></span>
<span class="line">	sw<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span><span class="token string">&quot;A little copying is better than a little dependency.&quot;</span><span class="token punctuation">)</span></span>
<span class="line">	sw<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span><span class="token string">&quot;Clear is better than clever.&quot;</span><span class="token punctuation">)</span></span>
<span class="line">	sw<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span><span class="token string">&quot;Concurrency is not parallelism.&quot;</span><span class="token punctuation">)</span></span>
<span class="line">	sw<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span><span class="token string">&quot;Don&#39;t communicate by sharing memory, share memory by communicating.&quot;</span><span class="token punctuation">)</span></span>
<span class="line">	sw<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span><span class="token string">&quot;Channels orchestrate; mutexes serialize.&quot;</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">	<span class="token keyword">return</span> sw<span class="token punctuation">.</span>err</span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><h4 id="new-error" tabindex="-1"><a class="header-anchor" href="#new-error"><span>New error</span></a></h4><p>errors åŒ…é‡Œæœ‰ä¸€ä¸ªæ„é€ ç”¨çš„ New å‡½æ•°ï¼Œå®ƒæ¥æ”¶ string æ¥ä½œä¸ºå‚æ•°ç”¨æ¥è¡¨ç¤ºé”™è¯¯ä¿¡æ¯ï¼Œè¯¥å‡½æ•°è¿”å› error ç±»å‹</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line"><span class="token keyword">const</span> rows<span class="token punctuation">,</span> columns <span class="token operator">=</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">9</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// Sudoku æ•°ç‹¬</span></span>
<span class="line"><span class="token keyword">type</span> Grid <span class="token punctuation">[</span>rows<span class="token punctuation">]</span><span class="token punctuation">[</span>columns<span class="token punctuation">]</span><span class="token builtin">int8</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// Set</span></span>
<span class="line"><span class="token keyword">func</span> <span class="token punctuation">(</span>g <span class="token operator">*</span>Grid<span class="token punctuation">)</span> <span class="token function">Set</span><span class="token punctuation">(</span>row<span class="token punctuation">,</span> column <span class="token builtin">int</span><span class="token punctuation">,</span> digit <span class="token builtin">int8</span><span class="token punctuation">)</span> <span class="token builtin">error</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">if</span> <span class="token operator">!</span><span class="token function">inBounds</span><span class="token punctuation">(</span>row<span class="token punctuation">,</span> column<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">return</span> errors<span class="token punctuation">.</span><span class="token function">New</span><span class="token punctuation">(</span><span class="token string">&quot;out of bounds&quot;</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line">  g<span class="token punctuation">[</span>row<span class="token punctuation">]</span><span class="token punctuation">[</span>column<span class="token punctuation">]</span> <span class="token operator">=</span> digit</span>
<span class="line">  <span class="token keyword">return</span> <span class="token boolean">nil</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">func</span> <span class="token function">inBounds</span><span class="token punctuation">(</span>row<span class="token punctuation">,</span> column <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">bool</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">if</span> row <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">||</span> row <span class="token operator">&gt;=</span> rows <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">return</span> <span class="token boolean">false</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line">  <span class="token keyword">if</span> column <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">||</span> column <span class="token operator">&gt;=</span> columns <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">return</span> <span class="token boolean">false</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line">  <span class="token keyword">return</span> <span class="token boolean">true</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">var</span> g Grid</span>
<span class="line">  err <span class="token operator">:=</span> g<span class="token punctuation">.</span><span class="token function">Set</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span></span>
<span class="line">    fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;An error occurred: %v.\n&quot;</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span></span>
<span class="line">    os<span class="token punctuation">.</span><span class="token function">Exit</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><blockquote><p>é”™è¯¯ä¿¡æ¯åº”å…·æœ‰ä¿¡æ¯æ€§</p><p>å¯ä»¥æŠŠé”™è¯¯ä¿¡æ¯å½“ä½œç”¨æˆ·ç•Œé¢çš„ä¸€éƒ¨åˆ†ï¼Œæ— è®ºå¯¹æœ€ç»ˆç”¨æˆ·è¿˜æ˜¯å¼€å‘è€…</p></blockquote><h4 id="æŒ‰éœ€è¿”å›é”™è¯¯" tabindex="-1"><a class="header-anchor" href="#æŒ‰éœ€è¿”å›é”™è¯¯"><span>æŒ‰éœ€è¿”å›é”™è¯¯</span></a></h4><p>æŒ‰ç…§æƒ¯ä¾‹ï¼ŒåŒ…å«é”™è¯¯ä¿¡æ¯çš„å˜é‡ååº”ä»¥ Err å¼€å¤´</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line"><span class="token keyword">const</span> rows<span class="token punctuation">,</span> columns <span class="token operator">=</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">9</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// Sudoku æ•°ç‹¬</span></span>
<span class="line"><span class="token keyword">type</span> Grid <span class="token punctuation">[</span>rows<span class="token punctuation">]</span><span class="token punctuation">[</span>columns<span class="token punctuation">]</span><span class="token builtin">int8</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">var</span><span class="token punctuation">(</span></span>
<span class="line">  <span class="token comment">// ErrBounds è¡¨ç¤ºæ•°å­—è¶Šç•Œ</span></span>
<span class="line">  ErrBounds <span class="token operator">=</span> errors<span class="token punctuation">.</span><span class="token function">New</span><span class="token punctuation">(</span><span class="token string">&quot;out of bounds&quot;</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token comment">// ErrDigit è¡¨ç¤ºæ•°å­—æ— æ•ˆ</span></span>
<span class="line">  ErrDigit <span class="token operator">=</span> errors<span class="token punctuation">.</span><span class="token function">New</span><span class="token punctuation">(</span><span class="token string">&quot;invalid digit&quot;</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// Set</span></span>
<span class="line"><span class="token keyword">func</span> <span class="token punctuation">(</span>g <span class="token operator">*</span>Grid<span class="token punctuation">)</span> <span class="token function">Set</span><span class="token punctuation">(</span>row<span class="token punctuation">,</span> column <span class="token builtin">int</span><span class="token punctuation">,</span> digit <span class="token builtin">int8</span><span class="token punctuation">)</span> <span class="token builtin">error</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">if</span> <span class="token operator">!</span><span class="token function">inBounds</span><span class="token punctuation">(</span>row<span class="token punctuation">,</span> column<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">return</span> ErrBounds</span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line">  g<span class="token punctuation">[</span>row<span class="token punctuation">]</span><span class="token punctuation">[</span>column<span class="token punctuation">]</span> <span class="token operator">=</span> digit</span>
<span class="line">  <span class="token keyword">return</span> <span class="token boolean">nil</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">func</span> <span class="token function">inBounds</span><span class="token punctuation">(</span>row<span class="token punctuation">,</span> column <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">bool</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">if</span> row <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">||</span> row <span class="token operator">&gt;=</span> rows <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">return</span> <span class="token boolean">false</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line">  <span class="token keyword">if</span> column <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">||</span> column <span class="token operator">&gt;=</span> columns <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">return</span> <span class="token boolean">false</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line">  <span class="token keyword">return</span> <span class="token boolean">true</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">var</span> g Grid</span>
<span class="line">  err <span class="token operator">:=</span> g<span class="token punctuation">.</span><span class="token function">Set</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">switch</span> err <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">case</span> ErrBounds<span class="token punctuation">,</span> ErrDigit<span class="token punctuation">:</span></span>
<span class="line">      fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;error!!!&quot;</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">default</span><span class="token punctuation">:</span></span>
<span class="line">      fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;unknown error&quot;</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    os<span class="token punctuation">.</span><span class="token function">Exit</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><blockquote><p>errors.New è¿™ä¸ªæ„é€ å‡½æ•°æ˜¯ä½¿ç”¨æŒ‡é’ˆå®ç°çš„ï¼Œæ‰€ä»¥ä¸Šä¾‹ switch è¯­å¥æ¯”è¾ƒçš„æ˜¯å†…å­˜åœ°å€ï¼Œè€Œä¸æ˜¯é”™è¯¯åŒ…å«çš„æ–‡å­—ä¿¡æ¯</p></blockquote><h4 id="è‡ªå®šä¹‰é”™è¯¯ç±»å‹" tabindex="-1"><a class="header-anchor" href="#è‡ªå®šä¹‰é”™è¯¯ç±»å‹"><span>è‡ªå®šä¹‰é”™è¯¯ç±»å‹</span></a></h4><p>error ç±»å‹æ˜¯ä¸€ä¸ªå†…ç½®çš„æ¥å£ï¼šä»»ä½•ç±»å‹åªè¦å®ç°äº†è¿”å› string çš„ Error() æ–¹æ³•å°±æ»¡è¶³äº†è¯¥æ¥å£</p><p>å¯ä»¥åˆ›å»ºæ–°çš„é”™è¯¯ç±»å‹</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line"><span class="token keyword">const</span> rows<span class="token punctuation">,</span> columns <span class="token operator">=</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">9</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// Sudoku æ•°ç‹¬</span></span>
<span class="line"><span class="token keyword">type</span> Grid <span class="token punctuation">[</span>rows<span class="token punctuation">]</span><span class="token punctuation">[</span>columns<span class="token punctuation">]</span><span class="token builtin">int8</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">var</span> <span class="token punctuation">(</span></span>
<span class="line">	<span class="token comment">// ErrBounds è¡¨ç¤ºæ•°å­—è¶Šç•Œ</span></span>
<span class="line">	ErrBounds <span class="token operator">=</span> errors<span class="token punctuation">.</span><span class="token function">New</span><span class="token punctuation">(</span><span class="token string">&quot;out of bounds&quot;</span><span class="token punctuation">)</span></span>
<span class="line">	<span class="token comment">// ErrDigit è¡¨ç¤ºæ•°å­—æ— æ•ˆ</span></span>
<span class="line">	ErrDigit <span class="token operator">=</span> errors<span class="token punctuation">.</span><span class="token function">New</span><span class="token punctuation">(</span><span class="token string">&quot;invalid digit&quot;</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">type</span> SudokuError <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">error</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">func</span> <span class="token punctuation">(</span>se SudokuError<span class="token punctuation">)</span> <span class="token function">Error</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">string</span> <span class="token punctuation">{</span></span>
<span class="line">	<span class="token keyword">var</span> s <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span></span>
<span class="line">	<span class="token keyword">for</span> <span class="token boolean">_</span><span class="token punctuation">,</span> e <span class="token operator">:=</span> <span class="token keyword">range</span> se <span class="token punctuation">{</span></span>
<span class="line">		s <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> e<span class="token punctuation">.</span><span class="token function">Error</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">	<span class="token punctuation">}</span></span>
<span class="line">	<span class="token keyword">return</span> strings<span class="token punctuation">.</span><span class="token function">Join</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> <span class="token string">&quot;, &quot;</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// Set</span></span>
<span class="line"><span class="token keyword">func</span> <span class="token punctuation">(</span>g <span class="token operator">*</span>Grid<span class="token punctuation">)</span> <span class="token function">Set</span><span class="token punctuation">(</span>row<span class="token punctuation">,</span> column <span class="token builtin">int</span><span class="token punctuation">,</span> digit <span class="token builtin">int8</span><span class="token punctuation">)</span> <span class="token builtin">error</span> <span class="token punctuation">{</span></span>
<span class="line">	<span class="token keyword">var</span> errs SudokuError</span>
<span class="line">	<span class="token keyword">if</span> <span class="token operator">!</span><span class="token function">inBounds</span><span class="token punctuation">(</span>row<span class="token punctuation">,</span> column<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">		errs <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>errs<span class="token punctuation">,</span> ErrBounds<span class="token punctuation">)</span></span>
<span class="line">	<span class="token punctuation">}</span></span>
<span class="line">	<span class="token keyword">if</span> <span class="token operator">!</span><span class="token function">validDigit</span><span class="token punctuation">(</span>digit<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">		errs <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>errs<span class="token punctuation">,</span> ErrDigit<span class="token punctuation">)</span></span>
<span class="line">	<span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">	<span class="token keyword">if</span> <span class="token function">len</span><span class="token punctuation">(</span>errs<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token punctuation">{</span></span>
<span class="line">		<span class="token keyword">return</span> errs</span>
<span class="line">	<span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">	g<span class="token punctuation">[</span>row<span class="token punctuation">]</span><span class="token punctuation">[</span>column<span class="token punctuation">]</span> <span class="token operator">=</span> digit</span>
<span class="line">	<span class="token keyword">return</span> <span class="token boolean">nil</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">func</span> <span class="token function">inBounds</span><span class="token punctuation">(</span>row<span class="token punctuation">,</span> column <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">bool</span> <span class="token punctuation">{</span></span>
<span class="line">	<span class="token keyword">if</span> row <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">||</span> row <span class="token operator">&gt;=</span> rows <span class="token punctuation">{</span></span>
<span class="line">		<span class="token keyword">return</span> <span class="token boolean">false</span></span>
<span class="line">	<span class="token punctuation">}</span></span>
<span class="line">	<span class="token keyword">if</span> column <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">||</span> column <span class="token operator">&gt;=</span> columns <span class="token punctuation">{</span></span>
<span class="line">		<span class="token keyword">return</span> <span class="token boolean">false</span></span>
<span class="line">	<span class="token punctuation">}</span></span>
<span class="line">	<span class="token keyword">return</span> <span class="token boolean">true</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">func</span> <span class="token function">validDigit</span><span class="token punctuation">(</span>digit <span class="token builtin">int8</span><span class="token punctuation">)</span> <span class="token builtin">bool</span> <span class="token punctuation">{</span></span>
<span class="line">	<span class="token keyword">return</span> digit <span class="token operator">&gt;=</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> digit <span class="token operator">&lt;=</span> <span class="token number">9</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">	<span class="token keyword">var</span> g Grid</span>
<span class="line">	err <span class="token operator">:=</span> g<span class="token punctuation">.</span><span class="token function">Set</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span></span>
<span class="line">	<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span></span>
<span class="line">		<span class="token keyword">switch</span> err <span class="token punctuation">{</span></span>
<span class="line">		<span class="token keyword">case</span> ErrBounds<span class="token punctuation">,</span> ErrDigit<span class="token punctuation">:</span></span>
<span class="line">			fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;error!!!&quot;</span><span class="token punctuation">)</span></span>
<span class="line">		<span class="token keyword">default</span><span class="token punctuation">:</span></span>
<span class="line">			fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;unknown errorï¼š&quot;</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span></span>
<span class="line">		<span class="token punctuation">}</span></span>
<span class="line">		os<span class="token punctuation">.</span><span class="token function">Exit</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span></span>
<span class="line">	<span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><blockquote><p>æŒ‰ç…§æƒ¯ä¾‹ï¼Œè‡ªå®šä¹‰é”™è¯¯ç±»å‹çš„åå­—åº”ä»¥ Error ç»“å°¾ æœ‰æ—¶å€™åå­—å°±æ˜¯ Errorï¼Œä¾‹å¦‚ url.Error</p></blockquote><h4 id="ç±»å‹æ–­è¨€" tabindex="-1"><a class="header-anchor" href="#ç±»å‹æ–­è¨€"><span>ç±»å‹æ–­è¨€</span></a></h4><p>ä¸Šä¾‹ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ç±»å‹æ–­è¨€æ¥è®¿é—®æ¯ä¸€ç§é”™è¯¯</p><p>ä½¿ç”¨ç±»å‹æ–­è¨€ï¼Œå¯ä»¥æŠŠæ¥å£ç±»å‹è½¬åŒ–æˆåº•å±‚çš„å…·ä½“ç±»å‹ï¼Œä¾‹å¦‚ <code>err.(SudokuError)</code></p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line"><span class="token keyword">const</span> rows<span class="token punctuation">,</span> columns <span class="token operator">=</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">9</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// Sudoku æ•°ç‹¬</span></span>
<span class="line"><span class="token keyword">type</span> Grid <span class="token punctuation">[</span>rows<span class="token punctuation">]</span><span class="token punctuation">[</span>columns<span class="token punctuation">]</span><span class="token builtin">int8</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">var</span> <span class="token punctuation">(</span></span>
<span class="line">	<span class="token comment">// ErrBounds è¡¨ç¤ºæ•°å­—è¶Šç•Œ</span></span>
<span class="line">	ErrBounds <span class="token operator">=</span> errors<span class="token punctuation">.</span><span class="token function">New</span><span class="token punctuation">(</span><span class="token string">&quot;out of bounds&quot;</span><span class="token punctuation">)</span></span>
<span class="line">	<span class="token comment">// ErrDigit è¡¨ç¤ºæ•°å­—æ— æ•ˆ</span></span>
<span class="line">	ErrDigit <span class="token operator">=</span> errors<span class="token punctuation">.</span><span class="token function">New</span><span class="token punctuation">(</span><span class="token string">&quot;invalid digit&quot;</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">type</span> SudokuError <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">error</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">func</span> <span class="token punctuation">(</span>se SudokuError<span class="token punctuation">)</span> <span class="token function">Error</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">string</span> <span class="token punctuation">{</span></span>
<span class="line">	<span class="token keyword">var</span> s <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span></span>
<span class="line">	<span class="token keyword">for</span> <span class="token boolean">_</span><span class="token punctuation">,</span> e <span class="token operator">:=</span> <span class="token keyword">range</span> se <span class="token punctuation">{</span></span>
<span class="line">		s <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> e<span class="token punctuation">.</span><span class="token function">Error</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">	<span class="token punctuation">}</span></span>
<span class="line">	<span class="token keyword">return</span> strings<span class="token punctuation">.</span><span class="token function">Join</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> <span class="token string">&quot;, &quot;</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// Set</span></span>
<span class="line"><span class="token keyword">func</span> <span class="token punctuation">(</span>g <span class="token operator">*</span>Grid<span class="token punctuation">)</span> <span class="token function">Set</span><span class="token punctuation">(</span>row<span class="token punctuation">,</span> column <span class="token builtin">int</span><span class="token punctuation">,</span> digit <span class="token builtin">int8</span><span class="token punctuation">)</span> <span class="token builtin">error</span> <span class="token punctuation">{</span></span>
<span class="line">	<span class="token keyword">var</span> errs SudokuError</span>
<span class="line">	<span class="token keyword">if</span> <span class="token operator">!</span><span class="token function">inBounds</span><span class="token punctuation">(</span>row<span class="token punctuation">,</span> column<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">		errs <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>errs<span class="token punctuation">,</span> ErrBounds<span class="token punctuation">)</span></span>
<span class="line">	<span class="token punctuation">}</span></span>
<span class="line">	<span class="token keyword">if</span> <span class="token operator">!</span><span class="token function">validDigit</span><span class="token punctuation">(</span>digit<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">		errs <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>errs<span class="token punctuation">,</span> ErrDigit<span class="token punctuation">)</span></span>
<span class="line">	<span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">	<span class="token keyword">if</span> <span class="token function">len</span><span class="token punctuation">(</span>errs<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token punctuation">{</span></span>
<span class="line">		<span class="token keyword">return</span> errs</span>
<span class="line">	<span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">	g<span class="token punctuation">[</span>row<span class="token punctuation">]</span><span class="token punctuation">[</span>column<span class="token punctuation">]</span> <span class="token operator">=</span> digit</span>
<span class="line">	<span class="token keyword">return</span> <span class="token boolean">nil</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">func</span> <span class="token function">inBounds</span><span class="token punctuation">(</span>row<span class="token punctuation">,</span> column <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">bool</span> <span class="token punctuation">{</span></span>
<span class="line">	<span class="token keyword">if</span> row <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">||</span> row <span class="token operator">&gt;=</span> rows <span class="token punctuation">{</span></span>
<span class="line">		<span class="token keyword">return</span> <span class="token boolean">false</span></span>
<span class="line">	<span class="token punctuation">}</span></span>
<span class="line">	<span class="token keyword">if</span> column <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">||</span> column <span class="token operator">&gt;=</span> columns <span class="token punctuation">{</span></span>
<span class="line">		<span class="token keyword">return</span> <span class="token boolean">false</span></span>
<span class="line">	<span class="token punctuation">}</span></span>
<span class="line">	<span class="token keyword">return</span> <span class="token boolean">true</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">func</span> <span class="token function">validDigit</span><span class="token punctuation">(</span>digit <span class="token builtin">int8</span><span class="token punctuation">)</span> <span class="token builtin">bool</span> <span class="token punctuation">{</span></span>
<span class="line">	<span class="token keyword">return</span> digit <span class="token operator">&gt;=</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> digit <span class="token operator">&lt;=</span> <span class="token number">9</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">	<span class="token keyword">var</span> g Grid</span>
<span class="line">	err <span class="token operator">:=</span> g<span class="token punctuation">.</span><span class="token function">Set</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span></span>
<span class="line">	<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span></span>
<span class="line">		<span class="token comment">/* ç›¸è¾ƒäºä¸Šä¾‹ï¼Œåªå˜åŠ¨æ­¤å¤„ */</span></span>
<span class="line">    <span class="token keyword">if</span> errs<span class="token punctuation">,</span> ok <span class="token operator">:=</span> err<span class="token punctuation">.</span><span class="token punctuation">(</span>SudokuError<span class="token punctuation">)</span><span class="token punctuation">;</span> ok <span class="token punctuation">{</span></span>
<span class="line">      fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;%d error(s) occurred:\n&quot;</span><span class="token punctuation">,</span> <span class="token function">len</span><span class="token punctuation">(</span>errs<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">      <span class="token keyword">for</span> <span class="token boolean">_</span><span class="token punctuation">,</span> e <span class="token operator">:=</span> <span class="token keyword">range</span> errs <span class="token punctuation">{</span></span>
<span class="line">        fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;- %v\n&quot;</span><span class="token punctuation">,</span> e<span class="token punctuation">)</span></span>
<span class="line">      <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">		os<span class="token punctuation">.</span><span class="token function">Exit</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span></span>
<span class="line">	<span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><p>å¦‚æœç±»å‹æ»¡è¶³å¤šä¸ªæ¥å£ï¼Œé‚£ä¹ˆç±»å‹æ–­è¨€å¯ä½¿å®ƒä»ä¸€ä¸ªæ¥å£ç±»å‹è½¬åŒ–ä¸ºå¦ä¸€ä¸ªæ¥å£ç±»å‹</p><h4 id="å¦‚ä½•-panic" tabindex="-1"><a class="header-anchor" href="#å¦‚ä½•-panic"><span>å¦‚ä½• panic</span></a></h4><p>Go é‡Œæœ‰ä¸€ä¸ªå’Œå…¶ä»–è¯­è¨€å¼‚å¸¸ç±»ä¼¼çš„æœºåˆ¶ï¼španic</p><p>å®é™…ä¸Šï¼Œpanic å¾ˆå°‘å‡ºç°</p><p>åˆ›å»º panicï¼šè°ƒç”¨å†…ç½®çš„ panic å‡½æ•°</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line"><span class="token function">panic</span><span class="token punctuation">(</span><span class="token string">&quot;invalid operation&quot;</span><span class="token punctuation">)</span> <span class="token comment">// panic çš„å‚æ•°å¯ä»¥æ˜¯ä»»æ„ç±»å‹</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><h4 id="é”™è¯¯å€¼ã€panicã€os-exit" tabindex="-1"><a class="header-anchor" href="#é”™è¯¯å€¼ã€panicã€os-exit"><span>é”™è¯¯å€¼ã€panicã€os.Exitï¼Ÿ</span></a></h4><p>é€šå¸¸ï¼Œæ›´æ¨èä½¿ç”¨é”™è¯¯å€¼ï¼Œå…¶æ¬¡æ‰æ˜¯ panic</p><p>panic æ¯” os.Exit() æ›´å¥½ï¼španic åä¼šæ‰§è¡Œæ‰€æœ‰ defer æ“ä½œï¼Œè€Œ os.Exit() ä¸ä¼š</p><p>æœ‰æ—¶å€™ Go ç¨‹åºä¼š panic è€Œä¸æ˜¯è¿”å›é”™è¯¯å€¼</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line"><span class="token keyword">var</span> zero <span class="token builtin">int</span></span>
<span class="line">fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">/</span> zero<span class="token punctuation">)</span> <span class="token comment">// panic: runtime error: integer divide by zero</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><h4 id="ä¿æŒå†·é™å¹¶ç»§ç»­" tabindex="-1"><a class="header-anchor" href="#ä¿æŒå†·é™å¹¶ç»§ç»­"><span>ä¿æŒå†·é™å¹¶ç»§ç»­</span></a></h4><p>ä¸ºäº†é˜²æ­¢ panic å¯¼è‡´ç¨‹åºå´©æºƒï¼ŒGo æä¾›äº† recover å‡½æ•°</p><p>defer çš„åŠ¨ä½œä¼šåœ¨å‡½æ•°è¿”å›å‰æ‰§è¡Œï¼Œå³ä½¿å‘ç”Ÿäº† panic</p><p>ä½†å¦‚æœ defer çš„å‡½æ•°è°ƒç”¨äº† recoverï¼Œpanic å°±ä¼šåœæ­¢ï¼Œç¨‹åºå°†ç»§ç»­è¿è¡Œ</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line"><span class="token keyword">defer</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">if</span> err <span class="token operator">:=</span> <span class="token function">recover</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span></span>
<span class="line">    log<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;run time panic: %v&quot;</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span> <span class="token comment">// 2023/09/10 11:23:52 run time panic: I forgot my towel</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token function">panic</span><span class="token punctuation">(</span><span class="token string">&quot;I forgot my towel&quot;</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><h3 id="goroutine-å’Œ-å¹¶å‘-concurrent" tabindex="-1"><a class="header-anchor" href="#goroutine-å’Œ-å¹¶å‘-concurrent"><span>goroutine å’Œ å¹¶å‘ï¼ˆconcurrentï¼‰</span></a></h3><h4 id="goroutine" tabindex="-1"><a class="header-anchor" href="#goroutine"><span>goroutine</span></a></h4><p>åœ¨ Go ä¸­ï¼Œç‹¬ç«‹çš„ä»»åŠ¡å«åš goroutine</p><ul><li>goroutine å’Œå…¶ä»–è¯­è¨€çš„åç¨‹ã€è¿›ç¨‹ã€çº¿ç¨‹éƒ½æœ‰ç›¸ä¼¼ä¹‹å¤„ï¼Œä½†å¹¶ä¸å®Œå…¨ç›¸åŒ</li><li>goroutine åˆ›å»ºæ•ˆç‡éå¸¸é«˜</li><li>Go èƒ½ç›´æˆªäº†å½“åœ°ååŒå¤šä¸ªå¹¶å‘ï¼ˆconcurrentï¼‰æ“ä½œ</li></ul><p>åœ¨ Go é‡Œï¼Œæ— éœ€ä¿®æ”¹ç°æœ‰é¡ºåºå¼çš„ä»£ç ï¼Œå°±å¯ä»¥é€šè¿‡ goroutine ä»¥å¹¶å‘çš„æ–¹å¼è¿è¡Œä»»æ„æ•°é‡çš„ä»»åŠ¡</p><h4 id="å¯åŠ¨-goroutine" tabindex="-1"><a class="header-anchor" href="#å¯åŠ¨-goroutine"><span>å¯åŠ¨ goroutine</span></a></h4><p>åªéœ€åœ¨è°ƒç”¨å‰åŠ ä¸€ä¸ª go å…³é”®å­—ï¼Œå°±å¯ä»¥è®©å‡½æ•°/æ–¹æ³•ä»¥ goroutine æ–¹å¼è¿è¡Œ</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line"><span class="token keyword">func</span> <span class="token function">sleepyGopher</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  time<span class="token punctuation">.</span><span class="token function">Sleep</span><span class="token punctuation">(</span><span class="token number">3</span> <span class="token operator">*</span> time<span class="token punctuation">.</span>Second<span class="token punctuation">)</span></span>
<span class="line">  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;... snore ...&quot;</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token comment">/* åˆ†æ”¯çº¿è·¯ */</span></span>
<span class="line">  <span class="token keyword">go</span> <span class="token function">sleepyGopher</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token comment">/* ä¸»çº¿è·¯ */</span></span>
<span class="line">  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;i&#39;m waiting&quot;</span><span class="token punctuation">)</span></span>
<span class="line">  time<span class="token punctuation">.</span><span class="token function">Sleep</span><span class="token punctuation">(</span><span class="token number">4</span> <span class="token operator">*</span> time<span class="token punctuation">.</span>Second<span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><h4 id="ä¸æ­¢ä¸€ä¸ª-goroutine" tabindex="-1"><a class="header-anchor" href="#ä¸æ­¢ä¸€ä¸ª-goroutine"><span>ä¸æ­¢ä¸€ä¸ª goroutine</span></a></h4><p>æ¯æ¬¡ä½¿ç”¨ go å…³é”®å­—éƒ½ä¼šäº§ç”Ÿä¸€ä¸ªæ–°çš„ goroutine</p><p>è¡¨é¢ä¸Šçœ‹ï¼Œgoroutine ä¼¼ä¹åœ¨åŒæ—¶è¿è¡Œï¼Œä½†ç”±äºè®¡ç®—æœºå¤„ç†å•å…ƒæœ‰é™ï¼Œå…¶å®æŠ€æœ¯ä¸Šæ¥è¯´ï¼Œè¿™äº› goroutine ä¸æ˜¯çœŸçš„åœ¨åŒæ—¶è¿è¡Œ</p><ul><li>è®¡ç®—æœºå¤„ç†å™¨ä¼šä½¿ç”¨â€œåˆ†æ—¶â€æŠ€æœ¯ï¼Œåœ¨å¤šä¸ª goroutine ä¸Šè½®æµèŠ±è´¹ä¸€äº›æ—¶é—´</li><li>åœ¨ä½¿ç”¨ goroutine æ—¶ï¼Œå„ä¸ª goroutine çš„æ‰§è¡Œé¡ºåºæ— æ³•ç¡®å®š</li></ul><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line"><span class="token keyword">func</span> <span class="token function">sleepyGopher</span><span class="token punctuation">(</span>id <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  time<span class="token punctuation">.</span><span class="token function">Sleep</span><span class="token punctuation">(</span><span class="token number">3</span> <span class="token operator">*</span> time<span class="token punctuation">.</span>Second<span class="token punctuation">)</span></span>
<span class="line">  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;... snore ...&quot;</span><span class="token punctuation">,</span> id<span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">go</span> <span class="token function">sleepyGopher</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line">  time<span class="token punctuation">.</span><span class="token function">Sleep</span><span class="token punctuation">(</span><span class="token number">4</span> <span class="token operator">*</span> time<span class="token punctuation">.</span>Second<span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><h4 id="é€šé“-channel" tabindex="-1"><a class="header-anchor" href="#é€šé“-channel"><span>é€šé“ channel</span></a></h4><p>channel å¯ä»¥åœ¨å¤šä¸ª goroutine ä¹‹é—´å®‰å…¨åœ°ä¼ å€¼</p><p>é€šé“å¯ä»¥ç”¨ä½œå˜é‡ã€å‡½æ•°å‚æ•°ã€ç»“æ„ä½“å­—æ®µ...</p><p>åˆ›å»ºé€šé“ç”¨ make å‡½æ•°ï¼Œå¹¶æŒ‡å®šå…¶ä¼ è¾“æ•°æ®çš„ç±»å‹ <code>c := make(chan int)</code></p><h4 id="é€šé“-channel-å‘é€ã€æ¥æ”¶" tabindex="-1"><a class="header-anchor" href="#é€šé“-channel-å‘é€ã€æ¥æ”¶"><span>é€šé“ channel å‘é€ã€æ¥æ”¶</span></a></h4><p>ä½¿ç”¨å·¦ç®­å¤´æ“ä½œç¬¦ &lt;- å‘é€šé“å‘é€å€¼æˆ–ä»é€šé“æ¥æ”¶å€¼</p><ul><li>å‘é€å€¼ï¼š<code>c &lt;- 1</code></li><li>æ¥æ”¶å€¼ï¼š<code>r := &lt;- c</code></li></ul><p>å‘é€æ“ä½œä¼šç­‰å¾…ç›´åˆ°å¦ä¸€ä¸ª goroutine å°è¯•å¯¹è¯¥é€šé“è¿›è¡Œæ¥æ”¶æ“ä½œä¸ºæ­¢</p><ul><li>æ‰§è¡Œå‘é€æ“ä½œçš„ goroutine åœ¨ç­‰å¾…æœŸé—´å°†æ— æ³•æ‰§è¡Œå…¶ä»–æ“ä½œ</li><li>æœªåœ¨ç­‰å¾…é€šé“æ“ä½œçš„ goroutine å¯ä»¥ç»§ç»­è‡ªç”±åœ°è¿è¡Œ</li></ul><p>æ‰§è¡Œæ¥æ”¶æ“ä½œçš„ goroutine å°†ç­‰å¾…ç›´åˆ°å¦ä¸€ä¸ª goroutine å°è¯•å‘è¯¥é€šé“è¿›è¡Œå‘é€æ“ä½œä¸ºæ­¢</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  c <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">chan</span> <span class="token builtin">int</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">go</span> <span class="token function">sleepyGopher</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> c<span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line">  <span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{</span></span>
<span class="line">    gopherID <span class="token operator">:=</span> <span class="token operator">&lt;-</span>c</span>
<span class="line">    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;gopher&quot;</span><span class="token punctuation">,</span> gopherID<span class="token punctuation">,</span> <span class="token string">&quot;has finished sleeping&quot;</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">func</span> <span class="token function">sleepyGopher</span><span class="token punctuation">(</span>id <span class="token builtin">int</span><span class="token punctuation">,</span> c <span class="token keyword">chan</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  time<span class="token punctuation">.</span><span class="token function">Sleep</span><span class="token punctuation">(</span><span class="token number">3</span> <span class="token operator">*</span> time<span class="token punctuation">.</span>Second<span class="token punctuation">)</span></span>
<span class="line">  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;... snore ...&quot;</span><span class="token punctuation">,</span> id<span class="token punctuation">)</span></span>
<span class="line">  c <span class="token operator">&lt;-</span> id</span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><h4 id="ä½¿ç”¨-select-å¤„ç†å¤šä¸ªé€šé“" tabindex="-1"><a class="header-anchor" href="#ä½¿ç”¨-select-å¤„ç†å¤šä¸ªé€šé“"><span>ä½¿ç”¨ select å¤„ç†å¤šä¸ªé€šé“</span></a></h4><p>ç­‰å¾…ä¸åŒç±»å‹çš„å€¼</p><p>time.After å‡½æ•°ï¼Œè¿”å›ä¸€ä¸ªé€šé“ï¼Œè¯¥é€šé“åœ¨æŒ‡å®šæ—¶é—´åä¼šæ¥æ”¶åˆ°ä¸€ä¸ªå€¼ï¼ˆå‘é€è¯¥å€¼çš„ goroutine æ˜¯ Go è¿è¡Œæ—¶çš„ä¸€éƒ¨åˆ†ï¼‰</p><p>select å’Œ switch æœ‰ç‚¹åƒ</p><ul><li>è¯¥è¯­å¥åŒ…å«çš„æ¯ä¸ª case éƒ½æŒæœ‰ä¸€ä¸ªé€šé“ï¼Œç”¨æ¥å‘é€æˆ–æ¥æ”¶æ•°æ®</li><li>select ä¼šç­‰å¾…ç›´åˆ°æŸä¸ª case åˆ†æ”¯çš„æ“ä½œå°±ç»ªï¼Œç„¶åå°±ä¼šæ‰§è¡Œè¯¥ case çš„åˆ†æ”¯</li></ul><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  c <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">chan</span> <span class="token builtin">int</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">go</span> <span class="token function">sleepyGopher</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> c<span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line">  timeout <span class="token operator">:=</span> time<span class="token punctuation">.</span><span class="token function">After</span><span class="token punctuation">(</span><span class="token number">2</span> <span class="token operator">*</span> time<span class="token punctuation">.</span>Second<span class="token punctuation">)</span></span>
<span class="line">  <span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">select</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">case</span> gopherID <span class="token operator">:=</span> <span class="token operator">&lt;-</span>c<span class="token punctuation">:</span></span>
<span class="line">      fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;gopher&quot;</span><span class="token punctuation">,</span> gopherID<span class="token punctuation">,</span> <span class="token string">&quot;has finished sleeping&quot;</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">case</span> <span class="token operator">&lt;-</span>timeout<span class="token punctuation">:</span></span>
<span class="line">      fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;my patience ran out&quot;</span><span class="token punctuation">)</span></span>
<span class="line">      <span class="token keyword">return</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">func</span> <span class="token function">sleepyGopher</span><span class="token punctuation">(</span>id <span class="token builtin">int</span><span class="token punctuation">,</span> c <span class="token keyword">chan</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  time<span class="token punctuation">.</span><span class="token function">Sleep</span><span class="token punctuation">(</span>time<span class="token punctuation">.</span><span class="token function">Duration</span><span class="token punctuation">(</span>rand<span class="token punctuation">.</span><span class="token function">Intn</span><span class="token punctuation">(</span><span class="token number">4000</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">*</span> time<span class="token punctuation">.</span>Millisecond<span class="token punctuation">)</span> <span class="token comment">// 0~4s</span></span>
<span class="line">  c <span class="token operator">&lt;-</span> id</span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><blockquote><p>æ³¨æ„ï¼š</p><p>å³ä½¿å·²ç»åœæ­¢ç­‰å¾… goroutineï¼Œä½†åªè¦ main å‡½æ•°è¿˜æ²¡è¿”å›ï¼Œä»åœ¨è¿è¡Œçš„ goroutine å°†ä¼šç»§ç»­å ç”¨å†…å­˜</p><p>select è¯­å¥åœ¨ä¸åŒ…å«ä»»ä½• case çš„æƒ…å†µä¸‹å°†æ°¸è¿œç­‰ä¸‹å»</p></blockquote><h4 id="nil-é€šé“" tabindex="-1"><a class="header-anchor" href="#nil-é€šé“"><span>nil é€šé“</span></a></h4><p>å¦‚æœä¸ä½¿ç”¨ make åˆå§‹åŒ–é€šé“ï¼Œé‚£ä¹ˆé€šé“å˜é‡çš„å€¼å°±æ˜¯ nilï¼ˆé›¶å€¼ï¼‰</p><p>å¯¹ nil é€šé“è¿›è¡Œå‘é€æˆ–æ¥æ”¶ä¸ä¼šå¼•èµ· panicï¼Œä½†ä¼šå¯¼è‡´æ°¸ä¹…é˜»å¡</p><p>å¯¹ nil å“¦é‚£ä¸ªåˆ°æ‰§è¡Œ close å‡½æ•°ï¼Œä¼šå¼•å‘ panic</p><p>nil é€šé“çš„ç”¨å¤„ï¼š</p><ul><li>å¯¹äºåŒ…å« select è¯­å¥çš„å¾ªç¯ï¼Œå¦‚æœä¸å¸Œæœ›æ¯æ¬¡å¾ªç¯éƒ½ç­‰å¾… select æ‰€æ¶‰åŠçš„æ‰€æœ‰çš„é€šé“ï¼Œé‚£ä¹ˆå°±å¯ä»¥å…ˆå°†æŸäº›é€šé“è®¾ä¸º nilï¼Œç­‰åˆ°å‘é€å€¼å‡†å¤‡å°±ç»ªä¹‹åï¼Œå†å°†é€šé“å˜æˆä¸€ä¸ªé nil å€¼å¹¶æ‰§è¡Œå‘é€æ“ä½œ</li></ul><h4 id="é˜»å¡å’Œæ­»é”" tabindex="-1"><a class="header-anchor" href="#é˜»å¡å’Œæ­»é”"><span>é˜»å¡å’Œæ­»é”</span></a></h4><p>å½“ goroutine åœ¨ç­‰å¾…é€šé“çš„å‘é€æˆ–æ¥æ”¶æ—¶ï¼Œå°±è¯´å®ƒè¢«é˜»å¡äº†</p><p>é™¤äº† goroutine æœ¬èº«å ç”¨å°‘é‡çš„å†…å­˜å¤–ï¼Œè¢«é˜»å¡çš„ goroutine å¹¶ä¸æ¶ˆè€—ä»»ä½•å…¶ä»–èµ„æº</p><p>å½“ä¸€ä¸ªæˆ–å¤šä¸ª goroutine å› ä¸ºæŸäº›æ°¸è¿œæ— æ³•å‘ç”Ÿçš„äº‹æƒ…è¢«é˜»å¡æ—¶ï¼Œåˆ™ç§°è¿™ç§æƒ…å†µä¸ºæ­»é”ã€‚è€Œå‡ºç°æ­»é”çš„ç¨‹åºé€šå¸¸ä¼šå´©æºƒæˆ–æŒ‚èµ·</p><p>å¼•å‘æ­»é”çš„ä¾‹å­ï¼š</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  c <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">chan</span> <span class="token builtin">int</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token comment">/* ä¸‹é¢è¿™è¡Œä»£ç å¯ä»¥è§£é™¤æ­»é” */</span></span>
<span class="line">  <span class="token comment">// go func () {c &lt;- 2}</span></span>
<span class="line">  <span class="token operator">&lt;-</span> c <span class="token comment">// fatal error: all goroutines are asleep - deadlock!</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><h4 id="åœ°é¼ è£…é…çº¿" tabindex="-1"><a class="header-anchor" href="#åœ°é¼ è£…é…çº¿"><span>åœ°é¼ è£…é…çº¿</span></a></h4><p><img src="/study-notes/assets/assembly-line-BlmkLYUt.png" alt="å›¾ç‰‡"></p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line"><span class="token keyword">func</span> <span class="token function">sourceGopher</span><span class="token punctuation">(</span>upstream <span class="token keyword">chan</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">	<span class="token keyword">for</span> <span class="token boolean">_</span><span class="token punctuation">,</span> v <span class="token operator">:=</span> <span class="token keyword">range</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token string">&quot;hello world&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;a bad apple&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;goodbye all&quot;</span><span class="token punctuation">}</span> <span class="token punctuation">{</span></span>
<span class="line">		upstream <span class="token operator">&lt;-</span> v</span>
<span class="line">	<span class="token punctuation">}</span></span>
<span class="line">	<span class="token function">close</span><span class="token punctuation">(</span>upstream<span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">func</span> <span class="token function">filterGopher</span><span class="token punctuation">(</span>downstream<span class="token punctuation">,</span> upstream <span class="token keyword">chan</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">	<span class="token keyword">for</span> <span class="token punctuation">{</span></span>
<span class="line">		item<span class="token punctuation">,</span> ok <span class="token operator">:=</span> <span class="token operator">&lt;-</span> downstream</span>
<span class="line">		<span class="token keyword">if</span> <span class="token operator">!</span>ok <span class="token punctuation">{</span></span>
<span class="line">			<span class="token function">close</span><span class="token punctuation">(</span>upstream<span class="token punctuation">)</span></span>
<span class="line">			<span class="token keyword">break</span></span>
<span class="line">		<span class="token punctuation">}</span></span>
<span class="line">		<span class="token keyword">if</span> <span class="token operator">!</span>strings<span class="token punctuation">.</span><span class="token function">Contains</span><span class="token punctuation">(</span>item<span class="token punctuation">,</span> <span class="token string">&quot;bad&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">			upstream <span class="token operator">&lt;-</span> item</span>
<span class="line">		<span class="token punctuation">}</span></span>
<span class="line">	<span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">func</span> <span class="token function">PrintGopher</span><span class="token punctuation">(</span>downstream <span class="token keyword">chan</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">	<span class="token keyword">for</span> <span class="token punctuation">{</span></span>
<span class="line">		v<span class="token punctuation">,</span> ok <span class="token operator">:=</span> <span class="token operator">&lt;-</span> downstream</span>
<span class="line">		<span class="token keyword">if</span> <span class="token operator">!</span>ok <span class="token punctuation">{</span></span>
<span class="line">			<span class="token keyword">break</span></span>
<span class="line">		<span class="token punctuation">}</span></span>
<span class="line">		fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span></span>
<span class="line">	<span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">	c0 <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">chan</span> <span class="token builtin">string</span><span class="token punctuation">)</span></span>
<span class="line">	c1 <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">chan</span> <span class="token builtin">string</span><span class="token punctuation">)</span></span>
<span class="line">	<span class="token keyword">go</span> <span class="token function">sourceGopher</span><span class="token punctuation">(</span>c0<span class="token punctuation">)</span></span>
<span class="line">	<span class="token keyword">go</span> <span class="token function">filterGopher</span><span class="token punctuation">(</span>c0<span class="token punctuation">,</span> c1<span class="token punctuation">)</span></span>
<span class="line">	<span class="token function">PrintGopher</span><span class="token punctuation">(</span>c1<span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><p>Go å…è®¸åœ¨æ²¡æœ‰å€¼å¯ä¾›å‘é€çš„æƒ…å†µä¸‹é€šè¿‡ close å‡½æ•°å…³é—­é€šé“ï¼Œä¾‹å¦‚ <code>close(c)</code></p><p>é€šé“è¢«å…³é—­åæ— æ³•å†™å…¥ä»»ä½•å€¼ï¼Œå¦‚æœå°è¯•å†™å…¥å°†å¼•å‘ panic</p><p>å°è¯•è¯»å–è¢«å…³é—­çš„é€šé“ä¼šè·å¾—ä¸é€šé“ç±»å‹å¯¹åº”çš„é›¶å€¼</p><p>æ³¨æ„ï¼šå¦‚æœå¾ªç¯é‡Œè¯»å–ä¸€ä¸ªå·²å…³é—­çš„é€šé“ï¼Œå¹¶æ²¡æ£€æŸ¥é€šé“æ˜¯å¦å…³é—­ï¼Œé‚£ä¹ˆè¯¥å¾ªç¯å¯èƒ½ä¼šä¸€ç›´è¿è½¬ä¸‹å»ï¼Œè€—è´¹å¤§é‡ CPU æ—¶é—´</p><p>æ‰§è¡Œä»¥ä¸‹ä»£ç å¯çŸ¥é€šé“æ˜¯å¦è¢«å…³é—­</p><ul><li>v, ok := &lt;-c</li></ul><h4 id="å¸¸ç”¨æ¨¡å¼" tabindex="-1"><a class="header-anchor" href="#å¸¸ç”¨æ¨¡å¼"><span>å¸¸ç”¨æ¨¡å¼</span></a></h4><p>ä»é€šé“é‡Œé¢è¯»å–å€¼ï¼Œç›´åˆ°å®ƒå…³é—­ä¸ºæ­¢</p><ul><li>å¯ä»¥ä½¿ç”¨ range å…³é”®å­—è¾¾åˆ°è¯¥ç›®çš„</li></ul><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line"><span class="token keyword">func</span> <span class="token function">sourceGopher</span><span class="token punctuation">(</span>upstream <span class="token keyword">chan</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">	<span class="token keyword">for</span> <span class="token boolean">_</span><span class="token punctuation">,</span> v <span class="token operator">:=</span> <span class="token keyword">range</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token string">&quot;hello world&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;a bad apple&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;goodbye all&quot;</span><span class="token punctuation">}</span> <span class="token punctuation">{</span></span>
<span class="line">		upstream <span class="token operator">&lt;-</span> v</span>
<span class="line">	<span class="token punctuation">}</span></span>
<span class="line">	<span class="token function">close</span><span class="token punctuation">(</span>upstream<span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">func</span> <span class="token function">filterGopher</span><span class="token punctuation">(</span>downstream<span class="token punctuation">,</span> upstream <span class="token keyword">chan</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">for</span> item <span class="token operator">:=</span> <span class="token keyword">range</span> downstream <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">if</span> <span class="token operator">!</span>strings<span class="token punctuation">.</span><span class="token function">Contains</span><span class="token punctuation">(</span>item<span class="token punctuation">,</span> <span class="token string">&quot;bad&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">      upstream <span class="token operator">&lt;-</span> item</span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line">  <span class="token function">close</span><span class="token punctuation">(</span>upstream<span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">func</span> <span class="token function">PrintGopher</span><span class="token punctuation">(</span>downstream <span class="token keyword">chan</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">for</span> v <span class="token operator">:=</span> <span class="token keyword">range</span> downstream <span class="token punctuation">{</span></span>
<span class="line">    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">	c0 <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">chan</span> <span class="token builtin">string</span><span class="token punctuation">)</span></span>
<span class="line">	c1 <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">chan</span> <span class="token builtin">string</span><span class="token punctuation">)</span></span>
<span class="line">	<span class="token keyword">go</span> <span class="token function">sourceGopher</span><span class="token punctuation">(</span>c0<span class="token punctuation">)</span></span>
<span class="line">	<span class="token keyword">go</span> <span class="token function">filterGopher</span><span class="token punctuation">(</span>c0<span class="token punctuation">,</span> c1<span class="token punctuation">)</span></span>
<span class="line">	<span class="token function">PrintGopher</span><span class="token punctuation">(</span>c1<span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><h3 id="å¹¶å‘çŠ¶æ€" tabindex="-1"><a class="header-anchor" href="#å¹¶å‘çŠ¶æ€"><span>å¹¶å‘çŠ¶æ€</span></a></h3><ul><li>å…±äº«å€¼</li><li>ç«äº‰æ¡ä»¶ï¼ˆrace conditionï¼‰</li></ul><h4 id="go-çš„äº’æ–¥é”-mutex-mutual-exclusive" tabindex="-1"><a class="header-anchor" href="#go-çš„äº’æ–¥é”-mutex-mutual-exclusive"><span>Go çš„äº’æ–¥é”ï¼ˆmutex = mutual exclusiveï¼‰</span></a></h4><ul><li>Lock()ï¼ŒUnlock()</li></ul><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line"><span class="token keyword">var</span> mu sync<span class="token punctuation">.</span>Mutex</span>
<span class="line"></span>
<span class="line"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  mu<span class="token punctuation">.</span><span class="token function">Lock</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token keyword">defer</span> mu<span class="token punctuation">.</span><span class="token function">Unlock</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token comment">// The lock is held until we return from the function</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><blockquote><p>äº’æ–¥é”å®šä¹‰åœ¨è¢«ä¿æŠ¤çš„å˜é‡ä¹‹ä¸Š</p></blockquote><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line"><span class="token keyword">type</span> Visited <span class="token keyword">struct</span> <span class="token punctuation">{</span></span>
<span class="line">  mu sync<span class="token punctuation">.</span>Mutex</span>
<span class="line">  visited <span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token builtin">int</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">func</span> <span class="token punctuation">(</span>v <span class="token operator">*</span>Visited<span class="token punctuation">)</span> <span class="token function">VisitLink</span><span class="token punctuation">(</span>url <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">{</span></span>
<span class="line">  v<span class="token punctuation">.</span>mu<span class="token punctuation">.</span><span class="token function">Lock</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token keyword">defer</span> v<span class="token punctuation">.</span>mu<span class="token punctuation">.</span><span class="token function">Unlock</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">  count <span class="token operator">:=</span> v<span class="token punctuation">.</span>visited<span class="token punctuation">[</span>url<span class="token punctuation">]</span></span>
<span class="line">  count<span class="token operator">++</span></span>
<span class="line">  v<span class="token punctuation">.</span>visited<span class="token punctuation">[</span>url<span class="token punctuation">]</span> <span class="token operator">=</span> count</span>
<span class="line">  <span class="token keyword">return</span> count</span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><h4 id="äº’æ–¥é”çš„éšæ‚£" tabindex="-1"><a class="header-anchor" href="#äº’æ–¥é”çš„éšæ‚£"><span>äº’æ–¥é”çš„éšæ‚£</span></a></h4><ul><li>æ­»é”</li></ul><p>ä¸ºä¿è¯äº’æ–¥é”çš„å®‰å…¨ä½¿ç”¨ï¼Œé¡»éµå¾ªä»¥ä¸‹è§„åˆ™ï¼š</p><ul><li>å°½å¯èƒ½åœ°ç®€åŒ–äº’æ–¥é”ä¿æŠ¤çš„ä»£ç </li><li>å¯¹æ¯ä¸€ä»½å…±äº«çŠ¶æ€åªä½¿ç”¨ä¸€ä¸ªäº’æ–¥é”</li></ul><h4 id="é•¿æ—¶é—´è¿è¡Œçš„å·¥ä½œè¿›ç¨‹" tabindex="-1"><a class="header-anchor" href="#é•¿æ—¶é—´è¿è¡Œçš„å·¥ä½œè¿›ç¨‹"><span>é•¿æ—¶é—´è¿è¡Œçš„å·¥ä½œè¿›ç¨‹</span></a></h4><ul><li>å·¥ä½œè¿›ç¨‹ï¼ˆworkerï¼‰ <ul><li>é€šå¸¸ä¼šè¢«å†™æˆåŒ…å« select è¯­å¥çš„ for å¾ªç¯</li></ul></li></ul><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go"><pre><code class="language-go"><span class="line"><span class="token keyword">func</span> <span class="token function">worker</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  n <span class="token operator">:=</span> <span class="token number">0</span></span>
<span class="line">  next <span class="token operator">:=</span> time<span class="token punctuation">.</span><span class="token function">After</span><span class="token punctuation">(</span>time<span class="token punctuation">.</span>Second<span class="token punctuation">)</span></span>
<span class="line">  <span class="token keyword">for</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">select</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token keyword">case</span> <span class="token operator">&lt;-</span>next<span class="token punctuation">:</span></span>
<span class="line">        n<span class="token operator">++</span></span>
<span class="line">        fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span></span>
<span class="line">        next <span class="token operator">=</span> time<span class="token punctuation">.</span><span class="token function">After</span><span class="token punctuation">(</span>time<span class="token punctuation">.</span>Second<span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">go</span> <span class="token function">worker</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">	<span class="token keyword">for</span> <span class="token punctuation">{</span></span>
<span class="line">		time<span class="token punctuation">.</span><span class="token function">Sleep</span><span class="token punctuation">(</span>time<span class="token punctuation">.</span>Second<span class="token punctuation">)</span></span>
<span class="line">	<span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><h4 id="äº‹ä»¶å¾ªç¯å’Œ-goroutine" tabindex="-1"><a class="header-anchor" href="#äº‹ä»¶å¾ªç¯å’Œ-goroutine"><span>äº‹ä»¶å¾ªç¯å’Œ goroutine</span></a></h4><ul><li>äº‹ä»¶å¾ªç¯ï¼ˆevent loopï¼‰</li><li>ä¸­å¿ƒå¾ªç¯ï¼ˆcentral loopï¼‰</li></ul><p>Go é€šè¿‡æä¾› goroutine ä½œä¸ºæ ¸å¿ƒæ¦‚å¿µï¼Œæ¶ˆé™¤äº†å¯¹ä¸­å¿ƒå¾ªç¯çš„éœ€æ±‚</p></div><!--[--><!--]--></div><footer class="vp-page-meta"><!----><div class="vp-meta-item git-info"><div class="vp-meta-item last-updated"><span class="meta-item-label">æœ€è¿‘æ›´æ–°ï¼š: </span><time class="meta-item-info" datetime="2025-05-28T10:37:47.000Z" data-allow-mismatch>2025/5/28 10:37</time></div><!----></div></footer><!----><!--[--><!--]--></main><!--]--></div><!--[--><!----><!--]--><!--]--></div>
    <script type="module" src="/study-notes/assets/app-D9fezM6y.js" defer></script>
  </body>
</html>
